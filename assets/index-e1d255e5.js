(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var og={exports:{}},cu={},ag={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs=Symbol.for("react.element"),iw=Symbol.for("react.portal"),sw=Symbol.for("react.fragment"),ow=Symbol.for("react.strict_mode"),aw=Symbol.for("react.profiler"),uw=Symbol.for("react.provider"),lw=Symbol.for("react.context"),cw=Symbol.for("react.forward_ref"),dw=Symbol.for("react.suspense"),hw=Symbol.for("react.memo"),fw=Symbol.for("react.lazy"),Of=Symbol.iterator;function pw(t){return t===null||typeof t!="object"?null:(t=Of&&t[Of]||t["@@iterator"],typeof t=="function"?t:null)}var ug={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lg=Object.assign,cg={};function Di(t,e,n){this.props=t,this.context=e,this.refs=cg,this.updater=n||ug}Di.prototype.isReactComponent={};Di.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Di.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dg(){}dg.prototype=Di.prototype;function Bd(t,e,n){this.props=t,this.context=e,this.refs=cg,this.updater=n||ug}var Ud=Bd.prototype=new dg;Ud.constructor=Bd;lg(Ud,Di.prototype);Ud.isPureReactComponent=!0;var xf=Array.isArray,hg=Object.prototype.hasOwnProperty,Vd={current:null},fg={key:!0,ref:!0,__self:!0,__source:!0};function pg(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)hg.call(e,r)&&!fg.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Zs,type:t,key:s,ref:o,props:i,_owner:Vd.current}}function mw(t,e){return{$$typeof:Zs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zs}function gw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zf=/\/+/g;function vl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gw(""+t.key):e.toString(36)}function ra(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zs:case iw:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+vl(o,0):r,xf(i)?(n="",t!=null&&(n=t.replace(zf,"$&/")+"/"),ra(i,e,n,"",function(c){return c})):i!=null&&(Hd(i)&&(i=mw(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(zf,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",xf(t))for(var u=0;u<t.length;u++){s=t[u];var l=r+vl(s,u);o+=ra(s,e,n,l,i)}else if(l=pw(t),typeof l=="function")for(t=l.call(t),u=0;!(s=t.next()).done;)s=s.value,l=r+vl(s,u++),o+=ra(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Io(t,e,n){if(t==null)return t;var r=[],i=0;return ra(t,r,"","",function(s){return e.call(n,s,i++)}),r}function vw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gt={current:null},ia={transition:null},yw={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:ia,ReactCurrentOwner:Vd};re.Children={map:Io,forEach:function(t,e,n){Io(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Io(t,function(){e++}),e},toArray:function(t){return Io(t,function(e){return e})||[]},only:function(t){if(!Hd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=Di;re.Fragment=sw;re.Profiler=aw;re.PureComponent=Bd;re.StrictMode=ow;re.Suspense=dw;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yw;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=lg({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Vd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(l in e)hg.call(e,l)&&!fg.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&u!==void 0?u[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:Zs,type:t.type,key:i,ref:s,props:r,_owner:o}};re.createContext=function(t){return t={$$typeof:lw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uw,_context:t},t.Consumer=t};re.createElement=pg;re.createFactory=function(t){var e=pg.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:cw,render:t}};re.isValidElement=Hd;re.lazy=function(t){return{$$typeof:fw,_payload:{_status:-1,_result:t},_init:vw}};re.memo=function(t,e){return{$$typeof:hw,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=ia.transition;ia.transition={};try{t()}finally{ia.transition=e}};re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};re.useCallback=function(t,e){return gt.current.useCallback(t,e)};re.useContext=function(t){return gt.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return gt.current.useDeferredValue(t)};re.useEffect=function(t,e){return gt.current.useEffect(t,e)};re.useId=function(){return gt.current.useId()};re.useImperativeHandle=function(t,e,n){return gt.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return gt.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return gt.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return gt.current.useMemo(t,e)};re.useReducer=function(t,e,n){return gt.current.useReducer(t,e,n)};re.useRef=function(t){return gt.current.useRef(t)};re.useState=function(t){return gt.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return gt.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return gt.current.useTransition()};re.version="18.2.0";ag.exports=re;var Oe=ag.exports;const pc=lu(Oe);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww=Oe,_w=Symbol.for("react.element"),Sw=Symbol.for("react.fragment"),kw=Object.prototype.hasOwnProperty,Ew=ww.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cw={key:!0,ref:!0,__self:!0,__source:!0};function mg(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)kw.call(e,r)&&!Cw.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_w,type:t,key:s,ref:o,props:i,_owner:Ew.current}}cu.Fragment=Sw;cu.jsx=mg;cu.jsxs=mg;og.exports=cu;var Le=og.exports,mc={},gg={exports:{}},Dt={},vg={exports:{}},yg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,M){var V=A.length;A.push(M);e:for(;0<V;){var F=V-1>>>1,te=A[F];if(0<i(te,M))A[F]=M,A[V]=te,V=F;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var M=A[0],V=A.pop();if(V!==M){A[0]=V;e:for(var F=0,te=A.length,he=te>>>1;F<he;){var de=2*(F+1)-1,ye=A[de],pe=de+1,Ne=A[pe];if(0>i(ye,V))pe<te&&0>i(Ne,ye)?(A[F]=Ne,A[pe]=V,F=pe):(A[F]=ye,A[de]=V,F=de);else if(pe<te&&0>i(Ne,V))A[F]=Ne,A[pe]=V,F=pe;else break e}}return M}function i(A,M){var V=A.sortIndex-M.sortIndex;return V!==0?V:A.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var l=[],c=[],f=1,m=null,v=3,C=!1,b=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(A){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=A)r(c),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(c)}}function a(A){if(k=!1,_(A),!b)if(n(l)!==null)b=!0,E(d);else{var M=n(c);M!==null&&N(a,M.startTime-A)}}function d(A,M){b=!1,k&&(k=!1,y(w),w=-1),C=!0;var V=v;try{for(_(M),m=n(l);m!==null&&(!(m.expirationTime>M)||A&&!I());){var F=m.callback;if(typeof F=="function"){m.callback=null,v=m.priorityLevel;var te=F(m.expirationTime<=M);M=t.unstable_now(),typeof te=="function"?m.callback=te:m===n(l)&&r(l),_(M)}else r(l);m=n(l)}if(m!==null)var he=!0;else{var de=n(c);de!==null&&N(a,de.startTime-M),he=!1}return he}finally{m=null,v=V,C=!1}}var h=!1,p=null,w=-1,T=5,S=-1;function I(){return!(t.unstable_now()-S<T)}function O(){if(p!==null){var A=t.unstable_now();S=A;var M=!0;try{M=p(!0,A)}finally{M?D():(h=!1,p=null)}}else h=!1}var D;if(typeof g=="function")D=function(){g(O)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,L=$.port2;$.port1.onmessage=O,D=function(){L.postMessage(null)}}else D=function(){P(O,0)};function E(A){p=A,h||(h=!0,D())}function N(A,M){w=P(function(){A(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){b||C||(b=!0,E(d))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(v){case 1:case 2:case 3:var M=3;break;default:M=v}var V=v;v=M;try{return A()}finally{v=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,M){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var V=v;v=A;try{return M()}finally{v=V}},t.unstable_scheduleCallback=function(A,M,V){var F=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?F+V:F):V=F,A){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=V+te,A={id:f++,callback:M,priorityLevel:A,startTime:V,expirationTime:te,sortIndex:-1},V>F?(A.sortIndex=V,e(c,A),n(l)===null&&A===n(c)&&(k?(y(w),w=-1):k=!0,N(a,V-F))):(A.sortIndex=te,e(l,A),b||C||(b=!0,E(d))),A},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(A){var M=v;return function(){var V=v;v=M;try{return A.apply(this,arguments)}finally{v=V}}}})(yg);vg.exports=yg;var Tw=vg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg=Oe,Pt=Tw;function x(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _g=new Set,ks={};function $r(t,e){pi(t,e),pi(t+"Capture",e)}function pi(t,e){for(ks[t]=e,t=0;t<e.length;t++)_g.add(e[t])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gc=Object.prototype.hasOwnProperty,bw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jf={},Ff={};function Iw(t){return gc.call(Ff,t)?!0:gc.call(jf,t)?!1:bw.test(t)?Ff[t]=!0:(jf[t]=!0,!1)}function Aw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Pw(t,e,n,r){if(e===null||typeof e>"u"||Aw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ze[t]=new vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ze[e]=new vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ze[t]=new vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ze[t]=new vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ze[t]=new vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ze[t]=new vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ze[t]=new vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ze[t]=new vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ze[t]=new vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kd=/[\-:]([a-z])/g;function Wd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kd,Wd);Ze[e]=new vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kd,Wd);Ze[e]=new vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kd,Wd);Ze[e]=new vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ze[t]=new vt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ze[t]=new vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gd(t,e,n,r){var i=Ze.hasOwnProperty(e)?Ze[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Pw(e,n,i,r)&&(n=null),r||i===null?Iw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Dn=wg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ao=Symbol.for("react.element"),Ur=Symbol.for("react.portal"),Vr=Symbol.for("react.fragment"),qd=Symbol.for("react.strict_mode"),vc=Symbol.for("react.profiler"),Sg=Symbol.for("react.provider"),kg=Symbol.for("react.context"),Qd=Symbol.for("react.forward_ref"),yc=Symbol.for("react.suspense"),wc=Symbol.for("react.suspense_list"),Xd=Symbol.for("react.memo"),Ln=Symbol.for("react.lazy"),Eg=Symbol.for("react.offscreen"),Bf=Symbol.iterator;function Bi(t){return t===null||typeof t!="object"?null:(t=Bf&&t[Bf]||t["@@iterator"],typeof t=="function"?t:null)}var Te=Object.assign,yl;function Zi(t){if(yl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yl=e&&e[1]||""}return`
`+yl+t}var wl=!1;function _l(t,e){if(!t||wl)return"";wl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=u);break}}}finally{wl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zi(t):""}function Nw(t){switch(t.tag){case 5:return Zi(t.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 2:case 15:return t=_l(t.type,!1),t;case 11:return t=_l(t.type.render,!1),t;case 1:return t=_l(t.type,!0),t;default:return""}}function _c(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vr:return"Fragment";case Ur:return"Portal";case vc:return"Profiler";case qd:return"StrictMode";case yc:return"Suspense";case wc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kg:return(t.displayName||"Context")+".Consumer";case Sg:return(t._context.displayName||"Context")+".Provider";case Qd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xd:return e=t.displayName||null,e!==null?e:_c(t.type)||"Memo";case Ln:e=t._payload,t=t._init;try{return _c(t(e))}catch{}}return null}function Dw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _c(e);case 8:return e===qd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Mw(t){var e=Cg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Po(t){t._valueTracker||(t._valueTracker=Mw(t))}function Tg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Cg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sc(t,e){var n=e.checked;return Te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Uf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bg(t,e){e=e.checked,e!=null&&Gd(t,"checked",e,!1)}function kc(t,e){bg(t,e);var n=Zn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ec(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ec(t,e.type,Zn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ec(t,e,n){(e!=="number"||wa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var es=Array.isArray;function ri(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(x(91));return Te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(x(92));if(es(n)){if(1<n.length)throw Error(x(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zn(n)}}function Ig(t,e){var n=Zn(e.value),r=Zn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Kf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ag(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ag(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var No,Pg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(No=No||document.createElement("div"),No.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=No.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Es(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$w=["Webkit","ms","Moz","O"];Object.keys(us).forEach(function(t){$w.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),us[e]=us[t]})});function Ng(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||us.hasOwnProperty(t)&&us[t]?(""+e).trim():e+"px"}function Dg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ng(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Lw=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bc(t,e){if(e){if(Lw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(x(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(x(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(x(61))}if(e.style!=null&&typeof e.style!="object")throw Error(x(62))}}function Ic(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ac=null;function Yd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pc=null,ii=null,si=null;function Wf(t){if(t=no(t)){if(typeof Pc!="function")throw Error(x(280));var e=t.stateNode;e&&(e=mu(e),Pc(t.stateNode,t.type,e))}}function Mg(t){ii?si?si.push(t):si=[t]:ii=t}function $g(){if(ii){var t=ii,e=si;if(si=ii=null,Wf(t),e)for(t=0;t<e.length;t++)Wf(e[t])}}function Lg(t,e){return t(e)}function Rg(){}var Sl=!1;function Og(t,e,n){if(Sl)return t(e,n);Sl=!0;try{return Lg(t,e,n)}finally{Sl=!1,(ii!==null||si!==null)&&(Rg(),$g())}}function Cs(t,e){var n=t.stateNode;if(n===null)return null;var r=mu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var Nc=!1;if(En)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){Nc=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{Nc=!1}function Rw(t,e,n,r,i,s,o,u,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var ls=!1,_a=null,Sa=!1,Dc=null,Ow={onError:function(t){ls=!0,_a=t}};function xw(t,e,n,r,i,s,o,u,l){ls=!1,_a=null,Rw.apply(Ow,arguments)}function zw(t,e,n,r,i,s,o,u,l){if(xw.apply(this,arguments),ls){if(ls){var c=_a;ls=!1,_a=null}else throw Error(x(198));Sa||(Sa=!0,Dc=c)}}function Lr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gf(t){if(Lr(t)!==t)throw Error(x(188))}function jw(t){var e=t.alternate;if(!e){if(e=Lr(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Gf(i),t;if(s===r)return Gf(i),e;s=s.sibling}throw Error(x(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function zg(t){return t=jw(t),t!==null?jg(t):null}function jg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jg(t);if(e!==null)return e;t=t.sibling}return null}var Fg=Pt.unstable_scheduleCallback,qf=Pt.unstable_cancelCallback,Fw=Pt.unstable_shouldYield,Bw=Pt.unstable_requestPaint,Me=Pt.unstable_now,Uw=Pt.unstable_getCurrentPriorityLevel,Jd=Pt.unstable_ImmediatePriority,Bg=Pt.unstable_UserBlockingPriority,ka=Pt.unstable_NormalPriority,Vw=Pt.unstable_LowPriority,Ug=Pt.unstable_IdlePriority,du=null,un=null;function Hw(t){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(du,t,void 0,(t.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:Gw,Kw=Math.log,Ww=Math.LN2;function Gw(t){return t>>>=0,t===0?32:31-(Kw(t)/Ww|0)|0}var Do=64,Mo=4194304;function ts(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ea(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~i;u!==0?r=ts(u):(s&=o,s!==0&&(r=ts(s)))}else o=n&~i,o!==0?r=ts(o):s!==0&&(r=ts(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yt(e),i=1<<n,r|=t[n],e&=~i;return r}function qw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Yt(s),u=1<<o,l=i[o];l===-1?(!(u&n)||u&r)&&(i[o]=qw(u,e)):l<=e&&(t.expiredLanes|=u),s&=~u}}function Mc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Vg(){var t=Do;return Do<<=1,!(Do&4194240)&&(Do=64),t}function kl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function eo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yt(e),t[e]=n}function Xw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Zd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var le=0;function Hg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Kg,eh,Wg,Gg,qg,$c=!1,$o=[],Bn=null,Un=null,Vn=null,Ts=new Map,bs=new Map,On=[],Yw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qf(t,e){switch(t){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":Ts.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bs.delete(e.pointerId)}}function Vi(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=no(e),e!==null&&eh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Jw(t,e,n,r,i){switch(e){case"focusin":return Bn=Vi(Bn,t,e,n,r,i),!0;case"dragenter":return Un=Vi(Un,t,e,n,r,i),!0;case"mouseover":return Vn=Vi(Vn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ts.set(s,Vi(Ts.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,bs.set(s,Vi(bs.get(s)||null,t,e,n,r,i)),!0}return!1}function Qg(t){var e=pr(t.target);if(e!==null){var n=Lr(e);if(n!==null){if(e=n.tag,e===13){if(e=xg(n),e!==null){t.blockedOn=e,qg(t.priority,function(){Wg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Lc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ac=r,n.target.dispatchEvent(r),Ac=null}else return e=no(n),e!==null&&eh(e),t.blockedOn=n,!1;e.shift()}return!0}function Xf(t,e,n){sa(t)&&n.delete(e)}function Zw(){$c=!1,Bn!==null&&sa(Bn)&&(Bn=null),Un!==null&&sa(Un)&&(Un=null),Vn!==null&&sa(Vn)&&(Vn=null),Ts.forEach(Xf),bs.forEach(Xf)}function Hi(t,e){t.blockedOn===e&&(t.blockedOn=null,$c||($c=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,Zw)))}function Is(t){function e(i){return Hi(i,t)}if(0<$o.length){Hi($o[0],t);for(var n=1;n<$o.length;n++){var r=$o[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bn!==null&&Hi(Bn,t),Un!==null&&Hi(Un,t),Vn!==null&&Hi(Vn,t),Ts.forEach(e),bs.forEach(e),n=0;n<On.length;n++)r=On[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<On.length&&(n=On[0],n.blockedOn===null);)Qg(n),n.blockedOn===null&&On.shift()}var oi=Dn.ReactCurrentBatchConfig,Ca=!0;function e3(t,e,n,r){var i=le,s=oi.transition;oi.transition=null;try{le=1,th(t,e,n,r)}finally{le=i,oi.transition=s}}function t3(t,e,n,r){var i=le,s=oi.transition;oi.transition=null;try{le=4,th(t,e,n,r)}finally{le=i,oi.transition=s}}function th(t,e,n,r){if(Ca){var i=Lc(t,e,n,r);if(i===null)Ml(t,e,r,Ta,n),Qf(t,r);else if(Jw(i,t,e,n,r))r.stopPropagation();else if(Qf(t,r),e&4&&-1<Yw.indexOf(t)){for(;i!==null;){var s=no(i);if(s!==null&&Kg(s),s=Lc(t,e,n,r),s===null&&Ml(t,e,r,Ta,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ml(t,e,r,null,n)}}var Ta=null;function Lc(t,e,n,r){if(Ta=null,t=Yd(r),t=pr(t),t!==null)if(e=Lr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ta=t,null}function Xg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uw()){case Jd:return 1;case Bg:return 4;case ka:case Vw:return 16;case Ug:return 536870912;default:return 16}default:return 16}}var zn=null,nh=null,oa=null;function Yg(){if(oa)return oa;var t,e=nh,n=e.length,r,i="value"in zn?zn.value:zn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return oa=i.slice(t,1<r?1-r:void 0)}function aa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Lo(){return!0}function Yf(){return!1}function Mt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Lo:Yf,this.isPropagationStopped=Yf,this}return Te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lo)},persist:function(){},isPersistent:Lo}),e}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rh=Mt(Mi),to=Te({},Mi,{view:0,detail:0}),n3=Mt(to),El,Cl,Ki,hu=Te({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ih,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ki&&(Ki&&t.type==="mousemove"?(El=t.screenX-Ki.screenX,Cl=t.screenY-Ki.screenY):Cl=El=0,Ki=t),El)},movementY:function(t){return"movementY"in t?t.movementY:Cl}}),Jf=Mt(hu),r3=Te({},hu,{dataTransfer:0}),i3=Mt(r3),s3=Te({},to,{relatedTarget:0}),Tl=Mt(s3),o3=Te({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),a3=Mt(o3),u3=Te({},Mi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),l3=Mt(u3),c3=Te({},Mi,{data:0}),Zf=Mt(c3),d3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=f3[t])?!!e[t]:!1}function ih(){return p3}var m3=Te({},to,{key:function(t){if(t.key){var e=d3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=aa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?h3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ih,charCode:function(t){return t.type==="keypress"?aa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?aa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),g3=Mt(m3),v3=Te({},hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ep=Mt(v3),y3=Te({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ih}),w3=Mt(y3),_3=Te({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S3=Mt(_3),k3=Te({},hu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),E3=Mt(k3),C3=[9,13,27,32],sh=En&&"CompositionEvent"in window,cs=null;En&&"documentMode"in document&&(cs=document.documentMode);var T3=En&&"TextEvent"in window&&!cs,Jg=En&&(!sh||cs&&8<cs&&11>=cs),tp=String.fromCharCode(32),np=!1;function Zg(t,e){switch(t){case"keyup":return C3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ev(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hr=!1;function b3(t,e){switch(t){case"compositionend":return ev(e);case"keypress":return e.which!==32?null:(np=!0,tp);case"textInput":return t=e.data,t===tp&&np?null:t;default:return null}}function I3(t,e){if(Hr)return t==="compositionend"||!sh&&Zg(t,e)?(t=Yg(),oa=nh=zn=null,Hr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jg&&e.locale!=="ko"?null:e.data;default:return null}}var A3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!A3[t.type]:e==="textarea"}function tv(t,e,n,r){Mg(r),e=ba(e,"onChange"),0<e.length&&(n=new rh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ds=null,As=null;function P3(t){hv(t,0)}function fu(t){var e=Gr(t);if(Tg(e))return t}function N3(t,e){if(t==="change")return e}var nv=!1;if(En){var bl;if(En){var Il="oninput"in document;if(!Il){var ip=document.createElement("div");ip.setAttribute("oninput","return;"),Il=typeof ip.oninput=="function"}bl=Il}else bl=!1;nv=bl&&(!document.documentMode||9<document.documentMode)}function sp(){ds&&(ds.detachEvent("onpropertychange",rv),As=ds=null)}function rv(t){if(t.propertyName==="value"&&fu(As)){var e=[];tv(e,As,t,Yd(t)),Og(P3,e)}}function D3(t,e,n){t==="focusin"?(sp(),ds=e,As=n,ds.attachEvent("onpropertychange",rv)):t==="focusout"&&sp()}function M3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fu(As)}function $3(t,e){if(t==="click")return fu(e)}function L3(t,e){if(t==="input"||t==="change")return fu(e)}function R3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var en=typeof Object.is=="function"?Object.is:R3;function Ps(t,e){if(en(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!gc.call(e,i)||!en(t[i],e[i]))return!1}return!0}function op(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ap(t,e){var n=op(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=op(n)}}function iv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sv(){for(var t=window,e=wa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wa(t.document)}return e}function oh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function O3(t){var e=sv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iv(n.ownerDocument.documentElement,n)){if(r!==null&&oh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ap(n,s);var o=ap(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var x3=En&&"documentMode"in document&&11>=document.documentMode,Kr=null,Rc=null,hs=null,Oc=!1;function up(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Oc||Kr==null||Kr!==wa(r)||(r=Kr,"selectionStart"in r&&oh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hs&&Ps(hs,r)||(hs=r,r=ba(Rc,"onSelect"),0<r.length&&(e=new rh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Kr)))}function Ro(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wr={animationend:Ro("Animation","AnimationEnd"),animationiteration:Ro("Animation","AnimationIteration"),animationstart:Ro("Animation","AnimationStart"),transitionend:Ro("Transition","TransitionEnd")},Al={},ov={};En&&(ov=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function pu(t){if(Al[t])return Al[t];if(!Wr[t])return t;var e=Wr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ov)return Al[t]=e[n];return t}var av=pu("animationend"),uv=pu("animationiteration"),lv=pu("animationstart"),cv=pu("transitionend"),dv=new Map,lp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(t,e){dv.set(t,e),$r(e,[t])}for(var Pl=0;Pl<lp.length;Pl++){var Nl=lp[Pl],z3=Nl.toLowerCase(),j3=Nl[0].toUpperCase()+Nl.slice(1);ir(z3,"on"+j3)}ir(av,"onAnimationEnd");ir(uv,"onAnimationIteration");ir(lv,"onAnimationStart");ir("dblclick","onDoubleClick");ir("focusin","onFocus");ir("focusout","onBlur");ir(cv,"onTransitionEnd");pi("onMouseEnter",["mouseout","mouseover"]);pi("onMouseLeave",["mouseout","mouseover"]);pi("onPointerEnter",["pointerout","pointerover"]);pi("onPointerLeave",["pointerout","pointerover"]);$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$r("onBeforeInput",["compositionend","keypress","textInput","paste"]);$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F3=new Set("cancel close invalid load scroll toggle".split(" ").concat(ns));function cp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zw(r,e,void 0,t),t.currentTarget=null}function hv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],l=u.instance,c=u.currentTarget;if(u=u.listener,l!==s&&i.isPropagationStopped())break e;cp(i,u,c),s=l}else for(o=0;o<r.length;o++){if(u=r[o],l=u.instance,c=u.currentTarget,u=u.listener,l!==s&&i.isPropagationStopped())break e;cp(i,u,c),s=l}}}if(Sa)throw t=Dc,Sa=!1,Dc=null,t}function me(t,e){var n=e[Bc];n===void 0&&(n=e[Bc]=new Set);var r=t+"__bubble";n.has(r)||(fv(e,t,2,!1),n.add(r))}function Dl(t,e,n){var r=0;e&&(r|=4),fv(n,t,r,e)}var Oo="_reactListening"+Math.random().toString(36).slice(2);function Ns(t){if(!t[Oo]){t[Oo]=!0,_g.forEach(function(n){n!=="selectionchange"&&(F3.has(n)||Dl(n,!1,t),Dl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oo]||(e[Oo]=!0,Dl("selectionchange",!1,e))}}function fv(t,e,n,r){switch(Xg(e)){case 1:var i=e3;break;case 4:i=t3;break;default:i=th}n=i.bind(null,e,n,t),i=void 0,!Nc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ml(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;u!==null;){if(o=pr(u),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}u=u.parentNode}}r=r.return}Og(function(){var c=s,f=Yd(n),m=[];e:{var v=dv.get(t);if(v!==void 0){var C=rh,b=t;switch(t){case"keypress":if(aa(n)===0)break e;case"keydown":case"keyup":C=g3;break;case"focusin":b="focus",C=Tl;break;case"focusout":b="blur",C=Tl;break;case"beforeblur":case"afterblur":C=Tl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=Jf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=i3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=w3;break;case av:case uv:case lv:C=a3;break;case cv:C=S3;break;case"scroll":C=n3;break;case"wheel":C=E3;break;case"copy":case"cut":case"paste":C=l3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=ep}var k=(e&4)!==0,P=!k&&t==="scroll",y=k?v!==null?v+"Capture":null:v;k=[];for(var g=c,_;g!==null;){_=g;var a=_.stateNode;if(_.tag===5&&a!==null&&(_=a,y!==null&&(a=Cs(g,y),a!=null&&k.push(Ds(g,a,_)))),P)break;g=g.return}0<k.length&&(v=new C(v,b,null,n,f),m.push({event:v,listeners:k}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",C=t==="mouseout"||t==="pointerout",v&&n!==Ac&&(b=n.relatedTarget||n.fromElement)&&(pr(b)||b[Cn]))break e;if((C||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,C?(b=n.relatedTarget||n.toElement,C=c,b=b?pr(b):null,b!==null&&(P=Lr(b),b!==P||b.tag!==5&&b.tag!==6)&&(b=null)):(C=null,b=c),C!==b)){if(k=Jf,a="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(k=ep,a="onPointerLeave",y="onPointerEnter",g="pointer"),P=C==null?v:Gr(C),_=b==null?v:Gr(b),v=new k(a,g+"leave",C,n,f),v.target=P,v.relatedTarget=_,a=null,pr(f)===c&&(k=new k(y,g+"enter",b,n,f),k.target=_,k.relatedTarget=P,a=k),P=a,C&&b)t:{for(k=C,y=b,g=0,_=k;_;_=zr(_))g++;for(_=0,a=y;a;a=zr(a))_++;for(;0<g-_;)k=zr(k),g--;for(;0<_-g;)y=zr(y),_--;for(;g--;){if(k===y||y!==null&&k===y.alternate)break t;k=zr(k),y=zr(y)}k=null}else k=null;C!==null&&dp(m,v,C,k,!1),b!==null&&P!==null&&dp(m,P,b,k,!0)}}e:{if(v=c?Gr(c):window,C=v.nodeName&&v.nodeName.toLowerCase(),C==="select"||C==="input"&&v.type==="file")var d=N3;else if(rp(v))if(nv)d=L3;else{d=M3;var h=D3}else(C=v.nodeName)&&C.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(d=$3);if(d&&(d=d(t,c))){tv(m,d,n,f);break e}h&&h(t,v,c),t==="focusout"&&(h=v._wrapperState)&&h.controlled&&v.type==="number"&&Ec(v,"number",v.value)}switch(h=c?Gr(c):window,t){case"focusin":(rp(h)||h.contentEditable==="true")&&(Kr=h,Rc=c,hs=null);break;case"focusout":hs=Rc=Kr=null;break;case"mousedown":Oc=!0;break;case"contextmenu":case"mouseup":case"dragend":Oc=!1,up(m,n,f);break;case"selectionchange":if(x3)break;case"keydown":case"keyup":up(m,n,f)}var p;if(sh)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Hr?Zg(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(Jg&&n.locale!=="ko"&&(Hr||w!=="onCompositionStart"?w==="onCompositionEnd"&&Hr&&(p=Yg()):(zn=f,nh="value"in zn?zn.value:zn.textContent,Hr=!0)),h=ba(c,w),0<h.length&&(w=new Zf(w,t,null,n,f),m.push({event:w,listeners:h}),p?w.data=p:(p=ev(n),p!==null&&(w.data=p)))),(p=T3?b3(t,n):I3(t,n))&&(c=ba(c,"onBeforeInput"),0<c.length&&(f=new Zf("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:c}),f.data=p))}hv(m,e)})}function Ds(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ba(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Cs(t,n),s!=null&&r.unshift(Ds(t,s,i)),s=Cs(t,e),s!=null&&r.push(Ds(t,s,i))),t=t.return}return r}function zr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dp(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var u=n,l=u.alternate,c=u.stateNode;if(l!==null&&l===r)break;u.tag===5&&c!==null&&(u=c,i?(l=Cs(n,s),l!=null&&o.unshift(Ds(n,l,u))):i||(l=Cs(n,s),l!=null&&o.push(Ds(n,l,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var B3=/\r\n?/g,U3=/\u0000|\uFFFD/g;function hp(t){return(typeof t=="string"?t:""+t).replace(B3,`
`).replace(U3,"")}function xo(t,e,n){if(e=hp(e),hp(t)!==e&&n)throw Error(x(425))}function Ia(){}var xc=null,zc=null;function jc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fc=typeof setTimeout=="function"?setTimeout:void 0,V3=typeof clearTimeout=="function"?clearTimeout:void 0,fp=typeof Promise=="function"?Promise:void 0,H3=typeof queueMicrotask=="function"?queueMicrotask:typeof fp<"u"?function(t){return fp.resolve(null).then(t).catch(K3)}:Fc;function K3(t){setTimeout(function(){throw t})}function $l(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Is(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Is(e)}function Hn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $i=Math.random().toString(36).slice(2),sn="__reactFiber$"+$i,Ms="__reactProps$"+$i,Cn="__reactContainer$"+$i,Bc="__reactEvents$"+$i,W3="__reactListeners$"+$i,G3="__reactHandles$"+$i;function pr(t){var e=t[sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cn]||n[sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=pp(t);t!==null;){if(n=t[sn])return n;t=pp(t)}return e}t=n,n=t.parentNode}return null}function no(t){return t=t[sn]||t[Cn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(x(33))}function mu(t){return t[Ms]||null}var Uc=[],qr=-1;function sr(t){return{current:t}}function ge(t){0>qr||(t.current=Uc[qr],Uc[qr]=null,qr--)}function fe(t,e){qr++,Uc[qr]=t.current,t.current=e}var er={},dt=sr(er),_t=sr(!1),Cr=er;function mi(t,e){var n=t.type.contextTypes;if(!n)return er;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function St(t){return t=t.childContextTypes,t!=null}function Aa(){ge(_t),ge(dt)}function mp(t,e,n){if(dt.current!==er)throw Error(x(168));fe(dt,e),fe(_t,n)}function pv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(x(108,Dw(t)||"Unknown",i));return Te({},n,r)}function Pa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||er,Cr=dt.current,fe(dt,t),fe(_t,_t.current),!0}function gp(t,e,n){var r=t.stateNode;if(!r)throw Error(x(169));n?(t=pv(t,e,Cr),r.__reactInternalMemoizedMergedChildContext=t,ge(_t),ge(dt),fe(dt,t)):ge(_t),fe(_t,n)}var vn=null,gu=!1,Ll=!1;function mv(t){vn===null?vn=[t]:vn.push(t)}function q3(t){gu=!0,mv(t)}function or(){if(!Ll&&vn!==null){Ll=!0;var t=0,e=le;try{var n=vn;for(le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vn=null,gu=!1}catch(i){throw vn!==null&&(vn=vn.slice(t+1)),Fg(Jd,or),i}finally{le=e,Ll=!1}}return null}var Qr=[],Xr=0,Na=null,Da=0,Lt=[],Rt=0,Tr=null,yn=1,wn="";function dr(t,e){Qr[Xr++]=Da,Qr[Xr++]=Na,Na=t,Da=e}function gv(t,e,n){Lt[Rt++]=yn,Lt[Rt++]=wn,Lt[Rt++]=Tr,Tr=t;var r=yn;t=wn;var i=32-Yt(r)-1;r&=~(1<<i),n+=1;var s=32-Yt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,yn=1<<32-Yt(e)+i|n<<i|r,wn=s+t}else yn=1<<s|n<<i|r,wn=t}function ah(t){t.return!==null&&(dr(t,1),gv(t,1,0))}function uh(t){for(;t===Na;)Na=Qr[--Xr],Qr[Xr]=null,Da=Qr[--Xr],Qr[Xr]=null;for(;t===Tr;)Tr=Lt[--Rt],Lt[Rt]=null,wn=Lt[--Rt],Lt[Rt]=null,yn=Lt[--Rt],Lt[Rt]=null}var It=null,bt=null,we=!1,Qt=null;function vv(t,e){var n=zt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,It=t,bt=Hn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,It=t,bt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Tr!==null?{id:yn,overflow:wn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,It=t,bt=null,!0):!1;default:return!1}}function Vc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hc(t){if(we){var e=bt;if(e){var n=e;if(!vp(t,e)){if(Vc(t))throw Error(x(418));e=Hn(n.nextSibling);var r=It;e&&vp(t,e)?vv(r,n):(t.flags=t.flags&-4097|2,we=!1,It=t)}}else{if(Vc(t))throw Error(x(418));t.flags=t.flags&-4097|2,we=!1,It=t}}}function yp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;It=t}function zo(t){if(t!==It)return!1;if(!we)return yp(t),we=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jc(t.type,t.memoizedProps)),e&&(e=bt)){if(Vc(t))throw yv(),Error(x(418));for(;e;)vv(t,e),e=Hn(e.nextSibling)}if(yp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){bt=Hn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}bt=null}}else bt=It?Hn(t.stateNode.nextSibling):null;return!0}function yv(){for(var t=bt;t;)t=Hn(t.nextSibling)}function gi(){bt=It=null,we=!1}function lh(t){Qt===null?Qt=[t]:Qt.push(t)}var Q3=Dn.ReactCurrentBatchConfig;function Gt(t,e){if(t&&t.defaultProps){e=Te({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ma=sr(null),$a=null,Yr=null,ch=null;function dh(){ch=Yr=$a=null}function hh(t){var e=Ma.current;ge(Ma),t._currentValue=e}function Kc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ai(t,e){$a=t,ch=Yr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wt=!0),t.firstContext=null)}function Ft(t){var e=t._currentValue;if(ch!==t)if(t={context:t,memoizedValue:e,next:null},Yr===null){if($a===null)throw Error(x(308));Yr=t,$a.dependencies={lanes:0,firstContext:t}}else Yr=Yr.next=t;return e}var mr=null;function fh(t){mr===null?mr=[t]:mr.push(t)}function wv(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,fh(e)):(n.next=i.next,i.next=n),e.interleaved=n,Tn(t,r)}function Tn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rn=!1;function ph(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _v(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Kn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Tn(t,n)}return i=r.interleaved,i===null?(e.next=e,fh(r)):(e.next=i.next,i.next=e),r.interleaved=e,Tn(t,n)}function ua(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zd(t,n)}}function wp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function La(t,e,n,r){var i=t.updateQueue;Rn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var l=u,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==o&&(u===null?f.firstBaseUpdate=c:u.next=c,f.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;o=0,f=c=l=null,u=s;do{var v=u.lane,C=u.eventTime;if((r&v)===v){f!==null&&(f=f.next={eventTime:C,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var b=t,k=u;switch(v=e,C=n,k.tag){case 1:if(b=k.payload,typeof b=="function"){m=b.call(C,m,v);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=k.payload,v=typeof b=="function"?b.call(C,m,v):b,v==null)break e;m=Te({},m,v);break e;case 2:Rn=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[u]:v.push(u))}else C={eventTime:C,lane:v,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(c=f=C,l=m):f=f.next=C,o|=v;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;v=u,u=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(1);if(f===null&&(l=m),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ir|=o,t.lanes=o,t.memoizedState=m}}function _p(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(x(191,i));i.call(r)}}}var Sv=new wg.Component().refs;function Wc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vu={isMounted:function(t){return(t=t._reactInternals)?Lr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mt(),i=Gn(t),s=kn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Kn(t,s,i),e!==null&&(Jt(e,t,i,r),ua(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mt(),i=Gn(t),s=kn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Kn(t,s,i),e!==null&&(Jt(e,t,i,r),ua(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mt(),r=Gn(t),i=kn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Kn(t,i,r),e!==null&&(Jt(e,t,r,n),ua(e,t,r))}};function Sp(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ps(n,r)||!Ps(i,s):!0}function kv(t,e,n){var r=!1,i=er,s=e.contextType;return typeof s=="object"&&s!==null?s=Ft(s):(i=St(e)?Cr:dt.current,r=e.contextTypes,s=(r=r!=null)?mi(t,i):er),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function kp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vu.enqueueReplaceState(e,e.state,null)}function Gc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Sv,ph(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ft(s):(s=St(e)?Cr:dt.current,i.context=mi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Wc(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vu.enqueueReplaceState(i,i.state,null),La(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var u=i.refs;u===Sv&&(u=i.refs={}),o===null?delete u[s]:u[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,t))}return t}function jo(t,e){throw t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ep(t){var e=t._init;return e(t._payload)}function Ev(t){function e(y,g){if(t){var _=y.deletions;_===null?(y.deletions=[g],y.flags|=16):_.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=qn(y,g),y.index=0,y.sibling=null,y}function s(y,g,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<g?(y.flags|=2,g):_):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function u(y,g,_,a){return g===null||g.tag!==6?(g=Bl(_,y.mode,a),g.return=y,g):(g=i(g,_),g.return=y,g)}function l(y,g,_,a){var d=_.type;return d===Vr?f(y,g,_.props.children,a,_.key):g!==null&&(g.elementType===d||typeof d=="object"&&d!==null&&d.$$typeof===Ln&&Ep(d)===g.type)?(a=i(g,_.props),a.ref=Wi(y,g,_),a.return=y,a):(a=pa(_.type,_.key,_.props,null,y.mode,a),a.ref=Wi(y,g,_),a.return=y,a)}function c(y,g,_,a){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=Ul(_,y.mode,a),g.return=y,g):(g=i(g,_.children||[]),g.return=y,g)}function f(y,g,_,a,d){return g===null||g.tag!==7?(g=Sr(_,y.mode,a,d),g.return=y,g):(g=i(g,_),g.return=y,g)}function m(y,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Bl(""+g,y.mode,_),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ao:return _=pa(g.type,g.key,g.props,null,y.mode,_),_.ref=Wi(y,null,g),_.return=y,_;case Ur:return g=Ul(g,y.mode,_),g.return=y,g;case Ln:var a=g._init;return m(y,a(g._payload),_)}if(es(g)||Bi(g))return g=Sr(g,y.mode,_,null),g.return=y,g;jo(y,g)}return null}function v(y,g,_,a){var d=g!==null?g.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return d!==null?null:u(y,g,""+_,a);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ao:return _.key===d?l(y,g,_,a):null;case Ur:return _.key===d?c(y,g,_,a):null;case Ln:return d=_._init,v(y,g,d(_._payload),a)}if(es(_)||Bi(_))return d!==null?null:f(y,g,_,a,null);jo(y,_)}return null}function C(y,g,_,a,d){if(typeof a=="string"&&a!==""||typeof a=="number")return y=y.get(_)||null,u(g,y,""+a,d);if(typeof a=="object"&&a!==null){switch(a.$$typeof){case Ao:return y=y.get(a.key===null?_:a.key)||null,l(g,y,a,d);case Ur:return y=y.get(a.key===null?_:a.key)||null,c(g,y,a,d);case Ln:var h=a._init;return C(y,g,_,h(a._payload),d)}if(es(a)||Bi(a))return y=y.get(_)||null,f(g,y,a,d,null);jo(g,a)}return null}function b(y,g,_,a){for(var d=null,h=null,p=g,w=g=0,T=null;p!==null&&w<_.length;w++){p.index>w?(T=p,p=null):T=p.sibling;var S=v(y,p,_[w],a);if(S===null){p===null&&(p=T);break}t&&p&&S.alternate===null&&e(y,p),g=s(S,g,w),h===null?d=S:h.sibling=S,h=S,p=T}if(w===_.length)return n(y,p),we&&dr(y,w),d;if(p===null){for(;w<_.length;w++)p=m(y,_[w],a),p!==null&&(g=s(p,g,w),h===null?d=p:h.sibling=p,h=p);return we&&dr(y,w),d}for(p=r(y,p);w<_.length;w++)T=C(p,y,w,_[w],a),T!==null&&(t&&T.alternate!==null&&p.delete(T.key===null?w:T.key),g=s(T,g,w),h===null?d=T:h.sibling=T,h=T);return t&&p.forEach(function(I){return e(y,I)}),we&&dr(y,w),d}function k(y,g,_,a){var d=Bi(_);if(typeof d!="function")throw Error(x(150));if(_=d.call(_),_==null)throw Error(x(151));for(var h=d=null,p=g,w=g=0,T=null,S=_.next();p!==null&&!S.done;w++,S=_.next()){p.index>w?(T=p,p=null):T=p.sibling;var I=v(y,p,S.value,a);if(I===null){p===null&&(p=T);break}t&&p&&I.alternate===null&&e(y,p),g=s(I,g,w),h===null?d=I:h.sibling=I,h=I,p=T}if(S.done)return n(y,p),we&&dr(y,w),d;if(p===null){for(;!S.done;w++,S=_.next())S=m(y,S.value,a),S!==null&&(g=s(S,g,w),h===null?d=S:h.sibling=S,h=S);return we&&dr(y,w),d}for(p=r(y,p);!S.done;w++,S=_.next())S=C(p,y,w,S.value,a),S!==null&&(t&&S.alternate!==null&&p.delete(S.key===null?w:S.key),g=s(S,g,w),h===null?d=S:h.sibling=S,h=S);return t&&p.forEach(function(O){return e(y,O)}),we&&dr(y,w),d}function P(y,g,_,a){if(typeof _=="object"&&_!==null&&_.type===Vr&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ao:e:{for(var d=_.key,h=g;h!==null;){if(h.key===d){if(d=_.type,d===Vr){if(h.tag===7){n(y,h.sibling),g=i(h,_.props.children),g.return=y,y=g;break e}}else if(h.elementType===d||typeof d=="object"&&d!==null&&d.$$typeof===Ln&&Ep(d)===h.type){n(y,h.sibling),g=i(h,_.props),g.ref=Wi(y,h,_),g.return=y,y=g;break e}n(y,h);break}else e(y,h);h=h.sibling}_.type===Vr?(g=Sr(_.props.children,y.mode,a,_.key),g.return=y,y=g):(a=pa(_.type,_.key,_.props,null,y.mode,a),a.ref=Wi(y,g,_),a.return=y,y=a)}return o(y);case Ur:e:{for(h=_.key;g!==null;){if(g.key===h)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){n(y,g.sibling),g=i(g,_.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=Ul(_,y.mode,a),g.return=y,y=g}return o(y);case Ln:return h=_._init,P(y,g,h(_._payload),a)}if(es(_))return b(y,g,_,a);if(Bi(_))return k(y,g,_,a);jo(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,g!==null&&g.tag===6?(n(y,g.sibling),g=i(g,_),g.return=y,y=g):(n(y,g),g=Bl(_,y.mode,a),g.return=y,y=g),o(y)):n(y,g)}return P}var vi=Ev(!0),Cv=Ev(!1),ro={},ln=sr(ro),$s=sr(ro),Ls=sr(ro);function gr(t){if(t===ro)throw Error(x(174));return t}function mh(t,e){switch(fe(Ls,e),fe($s,t),fe(ln,ro),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tc(e,t)}ge(ln),fe(ln,e)}function yi(){ge(ln),ge($s),ge(Ls)}function Tv(t){gr(Ls.current);var e=gr(ln.current),n=Tc(e,t.type);e!==n&&(fe($s,t),fe(ln,n))}function gh(t){$s.current===t&&(ge(ln),ge($s))}var Ee=sr(0);function Ra(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rl=[];function vh(){for(var t=0;t<Rl.length;t++)Rl[t]._workInProgressVersionPrimary=null;Rl.length=0}var la=Dn.ReactCurrentDispatcher,Ol=Dn.ReactCurrentBatchConfig,br=0,Ce=null,je=null,He=null,Oa=!1,fs=!1,Rs=0,X3=0;function et(){throw Error(x(321))}function yh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!en(t[n],e[n]))return!1;return!0}function wh(t,e,n,r,i,s){if(br=s,Ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,la.current=t===null||t.memoizedState===null?e2:t2,t=n(r,i),fs){s=0;do{if(fs=!1,Rs=0,25<=s)throw Error(x(301));s+=1,He=je=null,e.updateQueue=null,la.current=n2,t=n(r,i)}while(fs)}if(la.current=xa,e=je!==null&&je.next!==null,br=0,He=je=Ce=null,Oa=!1,e)throw Error(x(300));return t}function _h(){var t=Rs!==0;return Rs=0,t}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Ce.memoizedState=He=t:He=He.next=t,He}function Bt(){if(je===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=je.next;var e=He===null?Ce.memoizedState:He.next;if(e!==null)He=e,je=t;else{if(t===null)throw Error(x(310));je=t,t={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},He===null?Ce.memoizedState=He=t:He=He.next=t}return He}function Os(t,e){return typeof e=="function"?e(t):e}function xl(t){var e=Bt(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=je,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=o=null,l=null,c=s;do{var f=c.lane;if((br&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var m={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(u=l=m,o=r):l=l.next=m,Ce.lanes|=f,Ir|=f}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=u,en(r,e.memoizedState)||(wt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ce.lanes|=s,Ir|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zl(t){var e=Bt(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);en(s,e.memoizedState)||(wt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function bv(){}function Iv(t,e){var n=Ce,r=Bt(),i=e(),s=!en(r.memoizedState,i);if(s&&(r.memoizedState=i,wt=!0),r=r.queue,Sh(Nv.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,xs(9,Pv.bind(null,n,r,i,e),void 0,null),Ke===null)throw Error(x(349));br&30||Av(n,e,i)}return i}function Av(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Pv(t,e,n,r){e.value=n,e.getSnapshot=r,Dv(e)&&Mv(t)}function Nv(t,e,n){return n(function(){Dv(e)&&Mv(t)})}function Dv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!en(t,n)}catch{return!0}}function Mv(t){var e=Tn(t,1);e!==null&&Jt(e,t,1,-1)}function Cp(t){var e=rn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:t},e.queue=t,t=t.dispatch=Z3.bind(null,Ce,t),[e.memoizedState,t]}function xs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $v(){return Bt().memoizedState}function ca(t,e,n,r){var i=rn();Ce.flags|=t,i.memoizedState=xs(1|e,n,void 0,r===void 0?null:r)}function yu(t,e,n,r){var i=Bt();r=r===void 0?null:r;var s=void 0;if(je!==null){var o=je.memoizedState;if(s=o.destroy,r!==null&&yh(r,o.deps)){i.memoizedState=xs(e,n,s,r);return}}Ce.flags|=t,i.memoizedState=xs(1|e,n,s,r)}function Tp(t,e){return ca(8390656,8,t,e)}function Sh(t,e){return yu(2048,8,t,e)}function Lv(t,e){return yu(4,2,t,e)}function Rv(t,e){return yu(4,4,t,e)}function Ov(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xv(t,e,n){return n=n!=null?n.concat([t]):null,yu(4,4,Ov.bind(null,e,t),n)}function kh(){}function zv(t,e){var n=Bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jv(t,e){var n=Bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Fv(t,e,n){return br&21?(en(n,e)||(n=Vg(),Ce.lanes|=n,Ir|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wt=!0),t.memoizedState=n)}function Y3(t,e){var n=le;le=n!==0&&4>n?n:4,t(!0);var r=Ol.transition;Ol.transition={};try{t(!1),e()}finally{le=n,Ol.transition=r}}function Bv(){return Bt().memoizedState}function J3(t,e,n){var r=Gn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Uv(t))Vv(e,n);else if(n=wv(t,e,n,r),n!==null){var i=mt();Jt(n,t,r,i),Hv(n,e,r)}}function Z3(t,e,n){var r=Gn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Uv(t))Vv(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,u=s(o,n);if(i.hasEagerState=!0,i.eagerState=u,en(u,o)){var l=e.interleaved;l===null?(i.next=i,fh(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=wv(t,e,i,r),n!==null&&(i=mt(),Jt(n,t,r,i),Hv(n,e,r))}}function Uv(t){var e=t.alternate;return t===Ce||e!==null&&e===Ce}function Vv(t,e){fs=Oa=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Hv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zd(t,n)}}var xa={readContext:Ft,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},e2={readContext:Ft,useCallback:function(t,e){return rn().memoizedState=[t,e===void 0?null:e],t},useContext:Ft,useEffect:Tp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ca(4194308,4,Ov.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ca(4194308,4,t,e)},useInsertionEffect:function(t,e){return ca(4,2,t,e)},useMemo:function(t,e){var n=rn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=rn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=J3.bind(null,Ce,t),[r.memoizedState,t]},useRef:function(t){var e=rn();return t={current:t},e.memoizedState=t},useState:Cp,useDebugValue:kh,useDeferredValue:function(t){return rn().memoizedState=t},useTransition:function(){var t=Cp(!1),e=t[0];return t=Y3.bind(null,t[1]),rn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ce,i=rn();if(we){if(n===void 0)throw Error(x(407));n=n()}else{if(n=e(),Ke===null)throw Error(x(349));br&30||Av(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Tp(Nv.bind(null,r,s,t),[t]),r.flags|=2048,xs(9,Pv.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=rn(),e=Ke.identifierPrefix;if(we){var n=wn,r=yn;n=(r&~(1<<32-Yt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Rs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=X3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},t2={readContext:Ft,useCallback:zv,useContext:Ft,useEffect:Sh,useImperativeHandle:xv,useInsertionEffect:Lv,useLayoutEffect:Rv,useMemo:jv,useReducer:xl,useRef:$v,useState:function(){return xl(Os)},useDebugValue:kh,useDeferredValue:function(t){var e=Bt();return Fv(e,je.memoizedState,t)},useTransition:function(){var t=xl(Os)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:bv,useSyncExternalStore:Iv,useId:Bv,unstable_isNewReconciler:!1},n2={readContext:Ft,useCallback:zv,useContext:Ft,useEffect:Sh,useImperativeHandle:xv,useInsertionEffect:Lv,useLayoutEffect:Rv,useMemo:jv,useReducer:zl,useRef:$v,useState:function(){return zl(Os)},useDebugValue:kh,useDeferredValue:function(t){var e=Bt();return je===null?e.memoizedState=t:Fv(e,je.memoizedState,t)},useTransition:function(){var t=zl(Os)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:bv,useSyncExternalStore:Iv,useId:Bv,unstable_isNewReconciler:!1};function wi(t,e){try{var n="",r=e;do n+=Nw(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function jl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var r2=typeof WeakMap=="function"?WeakMap:Map;function Kv(t,e,n){n=kn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ja||(ja=!0,id=r),qc(t,e)},n}function Wv(t,e,n){n=kn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qc(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){qc(t,e),typeof r!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function bp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new r2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=v2.bind(null,t,e,n),e.then(t,t))}function Ip(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ap(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=kn(-1,1),e.tag=2,Kn(n,e,1))),n.lanes|=1),t)}var i2=Dn.ReactCurrentOwner,wt=!1;function ft(t,e,n,r){e.child=t===null?Cv(e,null,n,r):vi(e,t.child,n,r)}function Pp(t,e,n,r,i){n=n.render;var s=e.ref;return ai(e,i),r=wh(t,e,n,r,s,i),n=_h(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bn(t,e,i)):(we&&n&&ah(e),e.flags|=1,ft(t,e,r,i),e.child)}function Np(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Nh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Gv(t,e,s,r,i)):(t=pa(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ps,n(o,r)&&t.ref===e.ref)return bn(t,e,i)}return e.flags|=1,t=qn(s,r),t.ref=e.ref,t.return=e,e.child=t}function Gv(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ps(s,r)&&t.ref===e.ref)if(wt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(wt=!0);else return e.lanes=t.lanes,bn(t,e,i)}return Qc(t,e,n,r,i)}function qv(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Zr,Tt),Tt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(Zr,Tt),Tt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,fe(Zr,Tt),Tt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,fe(Zr,Tt),Tt|=r;return ft(t,e,i,n),e.child}function Qv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qc(t,e,n,r,i){var s=St(n)?Cr:dt.current;return s=mi(e,s),ai(e,i),n=wh(t,e,n,r,s,i),r=_h(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bn(t,e,i)):(we&&r&&ah(e),e.flags|=1,ft(t,e,n,i),e.child)}function Dp(t,e,n,r,i){if(St(n)){var s=!0;Pa(e)}else s=!1;if(ai(e,i),e.stateNode===null)da(t,e),kv(e,n,r),Gc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ft(c):(c=St(n)?Cr:dt.current,c=mi(e,c));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||l!==c)&&kp(e,o,r,c),Rn=!1;var v=e.memoizedState;o.state=v,La(e,r,o,i),l=e.memoizedState,u!==r||v!==l||_t.current||Rn?(typeof f=="function"&&(Wc(e,n,f,r),l=e.memoizedState),(u=Rn||Sp(e,n,u,r,v,l,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_v(t,e),u=e.memoizedProps,c=e.type===e.elementType?u:Gt(e.type,u),o.props=c,m=e.pendingProps,v=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ft(l):(l=St(n)?Cr:dt.current,l=mi(e,l));var C=n.getDerivedStateFromProps;(f=typeof C=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==m||v!==l)&&kp(e,o,r,l),Rn=!1,v=e.memoizedState,o.state=v,La(e,r,o,i);var b=e.memoizedState;u!==m||v!==b||_t.current||Rn?(typeof C=="function"&&(Wc(e,n,C,r),b=e.memoizedState),(c=Rn||Sp(e,n,c,r,v,b,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return Xc(t,e,n,r,s,i)}function Xc(t,e,n,r,i,s){Qv(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&gp(e,n,!1),bn(t,e,s);r=e.stateNode,i2.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=vi(e,t.child,null,s),e.child=vi(e,null,u,s)):ft(t,e,u,s),e.memoizedState=r.state,i&&gp(e,n,!0),e.child}function Xv(t){var e=t.stateNode;e.pendingContext?mp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mp(t,e.context,!1),mh(t,e.containerInfo)}function Mp(t,e,n,r,i){return gi(),lh(i),e.flags|=256,ft(t,e,n,r),e.child}var Yc={dehydrated:null,treeContext:null,retryLane:0};function Jc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Yv(t,e,n){var r=e.pendingProps,i=Ee.current,s=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),fe(Ee,i&1),t===null)return Hc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Su(o,r,0,null),t=Sr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Jc(n),e.memoizedState=Yc,t):Eh(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return s2(t,e,o,r,u,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,u=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=qn(u,s):(s=Sr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Jc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Yc,r}return s=t.child,t=s.sibling,r=qn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Eh(t,e){return e=Su({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fo(t,e,n,r){return r!==null&&lh(r),vi(e,t.child,null,n),t=Eh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function s2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=jl(Error(x(422))),Fo(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Su({mode:"visible",children:r.children},i,0,null),s=Sr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&vi(e,t.child,null,o),e.child.memoizedState=Jc(o),e.memoizedState=Yc,s);if(!(e.mode&1))return Fo(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(x(419)),r=jl(s,r,void 0),Fo(t,e,o,r)}if(u=(o&t.childLanes)!==0,wt||u){if(r=Ke,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Tn(t,i),Jt(r,t,i,-1))}return Ph(),r=jl(Error(x(421))),Fo(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=y2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,bt=Hn(i.nextSibling),It=e,we=!0,Qt=null,t!==null&&(Lt[Rt++]=yn,Lt[Rt++]=wn,Lt[Rt++]=Tr,yn=t.id,wn=t.overflow,Tr=e),e=Eh(e,r.children),e.flags|=4096,e)}function $p(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Kc(t.return,e,n)}function Fl(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Jv(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ft(t,e,r.children,n),r=Ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$p(t,n,e);else if(t.tag===19)$p(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fe(Ee,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ra(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Fl(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ra(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Fl(e,!0,n,null,s);break;case"together":Fl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function da(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ir|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=qn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function o2(t,e,n){switch(e.tag){case 3:Xv(e),gi();break;case 5:Tv(e);break;case 1:St(e.type)&&Pa(e);break;case 4:mh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;fe(Ma,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(fe(Ee,Ee.current&1),e.flags|=128,null):n&e.child.childLanes?Yv(t,e,n):(fe(Ee,Ee.current&1),t=bn(t,e,n),t!==null?t.sibling:null);fe(Ee,Ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Jv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fe(Ee,Ee.current),r)break;return null;case 22:case 23:return e.lanes=0,qv(t,e,n)}return bn(t,e,n)}var Zv,Zc,e0,t0;Zv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zc=function(){};e0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,gr(ln.current);var s=null;switch(n){case"input":i=Sc(t,i),r=Sc(t,r),s=[];break;case"select":i=Te({},i,{value:void 0}),r=Te({},r,{value:void 0}),s=[];break;case"textarea":i=Cc(t,i),r=Cc(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ia)}bc(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ks.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(u=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(l!=null||u!=null))if(c==="style")if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,u=u?u.__html:void 0,l!=null&&u!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ks.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&me("scroll",t),s||u===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};t0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Gi(t,e){if(!we)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function a2(t,e,n){var r=e.pendingProps;switch(uh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return St(e.type)&&Aa(),tt(e),null;case 3:return r=e.stateNode,yi(),ge(_t),ge(dt),vh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qt!==null&&(ad(Qt),Qt=null))),Zc(t,e),tt(e),null;case 5:gh(e);var i=gr(Ls.current);if(n=e.type,t!==null&&e.stateNode!=null)e0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(x(166));return tt(e),null}if(t=gr(ln.current),zo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[sn]=e,r[Ms]=s,t=(e.mode&1)!==0,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(i=0;i<ns.length;i++)me(ns[i],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":Uf(r,s),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},me("invalid",r);break;case"textarea":Hf(r,s),me("invalid",r)}bc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&xo(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&xo(r.textContent,u,t),i=["children",""+u]):ks.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&me("scroll",r)}switch(n){case"input":Po(r),Vf(r,s,!0);break;case"textarea":Po(r),Kf(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ia)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ag(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[sn]=e,t[Ms]=r,Zv(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ic(n,r),n){case"dialog":me("cancel",t),me("close",t),i=r;break;case"iframe":case"object":case"embed":me("load",t),i=r;break;case"video":case"audio":for(i=0;i<ns.length;i++)me(ns[i],t);i=r;break;case"source":me("error",t),i=r;break;case"img":case"image":case"link":me("error",t),me("load",t),i=r;break;case"details":me("toggle",t),i=r;break;case"input":Uf(t,r),i=Sc(t,r),me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Te({},r,{value:void 0}),me("invalid",t);break;case"textarea":Hf(t,r),i=Cc(t,r),me("invalid",t);break;default:i=r}bc(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var l=u[s];s==="style"?Dg(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Pg(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Es(t,l):typeof l=="number"&&Es(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ks.hasOwnProperty(s)?l!=null&&s==="onScroll"&&me("scroll",t):l!=null&&Gd(t,s,l,o))}switch(n){case"input":Po(t),Vf(t,r,!1);break;case"textarea":Po(t),Kf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ri(t,!!r.multiple,s,!1):r.defaultValue!=null&&ri(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ia)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tt(e),null;case 6:if(t&&e.stateNode!=null)t0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(x(166));if(n=gr(Ls.current),gr(ln.current),zo(e)){if(r=e.stateNode,n=e.memoizedProps,r[sn]=e,(s=r.nodeValue!==n)&&(t=It,t!==null))switch(t.tag){case 3:xo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xo(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sn]=e,e.stateNode=r}return tt(e),null;case 13:if(ge(Ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(we&&bt!==null&&e.mode&1&&!(e.flags&128))yv(),gi(),e.flags|=98560,s=!1;else if(s=zo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(x(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(x(317));s[sn]=e}else gi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tt(e),s=!1}else Qt!==null&&(ad(Qt),Qt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ee.current&1?Be===0&&(Be=3):Ph())),e.updateQueue!==null&&(e.flags|=4),tt(e),null);case 4:return yi(),Zc(t,e),t===null&&Ns(e.stateNode.containerInfo),tt(e),null;case 10:return hh(e.type._context),tt(e),null;case 17:return St(e.type)&&Aa(),tt(e),null;case 19:if(ge(Ee),s=e.memoizedState,s===null)return tt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Gi(s,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ra(t),o!==null){for(e.flags|=128,Gi(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fe(Ee,Ee.current&1|2),e.child}t=t.sibling}s.tail!==null&&Me()>_i&&(e.flags|=128,r=!0,Gi(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ra(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!we)return tt(e),null}else 2*Me()-s.renderingStartTime>_i&&n!==1073741824&&(e.flags|=128,r=!0,Gi(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Me(),e.sibling=null,n=Ee.current,fe(Ee,r?n&1|2:n&1),e):(tt(e),null);case 22:case 23:return Ah(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tt&1073741824&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),null;case 24:return null;case 25:return null}throw Error(x(156,e.tag))}function u2(t,e){switch(uh(e),e.tag){case 1:return St(e.type)&&Aa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yi(),ge(_t),ge(dt),vh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gh(e),null;case 13:if(ge(Ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));gi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ge(Ee),null;case 4:return yi(),null;case 10:return hh(e.type._context),null;case 22:case 23:return Ah(),null;case 24:return null;default:return null}}var Bo=!1,st=!1,l2=typeof WeakSet=="function"?WeakSet:Set,K=null;function Jr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(t,e,r)}else n.current=null}function ed(t,e,n){try{n()}catch(r){Ie(t,e,r)}}var Lp=!1;function c2(t,e){if(xc=Ca,t=sv(),oh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,u=-1,l=-1,c=0,f=0,m=t,v=null;t:for(;;){for(var C;m!==n||i!==0&&m.nodeType!==3||(u=o+i),m!==s||r!==0&&m.nodeType!==3||(l=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(C=m.firstChild)!==null;)v=m,m=C;for(;;){if(m===t)break t;if(v===n&&++c===i&&(u=o),v===s&&++f===r&&(l=o),(C=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=C}n=u===-1||l===-1?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zc={focusedElem:t,selectionRange:n},Ca=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var k=b.memoizedProps,P=b.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?k:Gt(e.type,k),P);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(a){Ie(e,e.return,a)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return b=Lp,Lp=!1,b}function ps(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ed(e,n,s)}i=i.next}while(i!==r)}}function wu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function td(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function n0(t){var e=t.alternate;e!==null&&(t.alternate=null,n0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sn],delete e[Ms],delete e[Bc],delete e[W3],delete e[G3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function r0(t){return t.tag===5||t.tag===3||t.tag===4}function Rp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||r0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ia));else if(r!==4&&(t=t.child,t!==null))for(nd(t,e,n),t=t.sibling;t!==null;)nd(t,e,n),t=t.sibling}function rd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rd(t,e,n),t=t.sibling;t!==null;)rd(t,e,n),t=t.sibling}var qe=null,qt=!1;function $n(t,e,n){for(n=n.child;n!==null;)i0(t,e,n),n=n.sibling}function i0(t,e,n){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(du,n)}catch{}switch(n.tag){case 5:st||Jr(n,e);case 6:var r=qe,i=qt;qe=null,$n(t,e,n),qe=r,qt=i,qe!==null&&(qt?(t=qe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(qt?(t=qe,n=n.stateNode,t.nodeType===8?$l(t.parentNode,n):t.nodeType===1&&$l(t,n),Is(t)):$l(qe,n.stateNode));break;case 4:r=qe,i=qt,qe=n.stateNode.containerInfo,qt=!0,$n(t,e,n),qe=r,qt=i;break;case 0:case 11:case 14:case 15:if(!st&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ed(n,e,o),i=i.next}while(i!==r)}$n(t,e,n);break;case 1:if(!st&&(Jr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ie(n,e,u)}$n(t,e,n);break;case 21:$n(t,e,n);break;case 22:n.mode&1?(st=(r=st)||n.memoizedState!==null,$n(t,e,n),st=r):$n(t,e,n);break;default:$n(t,e,n)}}function Op(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new l2),e.forEach(function(r){var i=w2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ut(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:qe=u.stateNode,qt=!1;break e;case 3:qe=u.stateNode.containerInfo,qt=!0;break e;case 4:qe=u.stateNode.containerInfo,qt=!0;break e}u=u.return}if(qe===null)throw Error(x(160));i0(s,o,i),qe=null,qt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ie(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)s0(e,t),e=e.sibling}function s0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ut(e,t),nn(t),r&4){try{ps(3,t,t.return),wu(3,t)}catch(k){Ie(t,t.return,k)}try{ps(5,t,t.return)}catch(k){Ie(t,t.return,k)}}break;case 1:Ut(e,t),nn(t),r&512&&n!==null&&Jr(n,n.return);break;case 5:if(Ut(e,t),nn(t),r&512&&n!==null&&Jr(n,n.return),t.flags&32){var i=t.stateNode;try{Es(i,"")}catch(k){Ie(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,u=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&bg(i,s),Ic(u,o);var c=Ic(u,s);for(o=0;o<l.length;o+=2){var f=l[o],m=l[o+1];f==="style"?Dg(i,m):f==="dangerouslySetInnerHTML"?Pg(i,m):f==="children"?Es(i,m):Gd(i,f,m,c)}switch(u){case"input":kc(i,s);break;case"textarea":Ig(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var C=s.value;C!=null?ri(i,!!s.multiple,C,!1):v!==!!s.multiple&&(s.defaultValue!=null?ri(i,!!s.multiple,s.defaultValue,!0):ri(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ms]=s}catch(k){Ie(t,t.return,k)}}break;case 6:if(Ut(e,t),nn(t),r&4){if(t.stateNode===null)throw Error(x(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){Ie(t,t.return,k)}}break;case 3:if(Ut(e,t),nn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Is(e.containerInfo)}catch(k){Ie(t,t.return,k)}break;case 4:Ut(e,t),nn(t);break;case 13:Ut(e,t),nn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(bh=Me())),r&4&&Op(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(st=(c=st)||f,Ut(e,t),st=c):Ut(e,t),nn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(K=t,f=t.child;f!==null;){for(m=K=f;K!==null;){switch(v=K,C=v.child,v.tag){case 0:case 11:case 14:case 15:ps(4,v,v.return);break;case 1:Jr(v,v.return);var b=v.stateNode;if(typeof b.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(k){Ie(r,n,k)}}break;case 5:Jr(v,v.return);break;case 22:if(v.memoizedState!==null){zp(m);continue}}C!==null?(C.return=v,K=C):zp(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=m.stateNode,l=m.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,u.style.display=Ng("display",o))}catch(k){Ie(t,t.return,k)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(k){Ie(t,t.return,k)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ut(e,t),nn(t),r&4&&Op(t);break;case 21:break;default:Ut(e,t),nn(t)}}function nn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(r0(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Es(i,""),r.flags&=-33);var s=Rp(t);rd(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,u=Rp(t);nd(t,u,o);break;default:throw Error(x(161))}}catch(l){Ie(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function d2(t,e,n){K=t,o0(t)}function o0(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Bo;if(!o){var u=i.alternate,l=u!==null&&u.memoizedState!==null||st;u=Bo;var c=st;if(Bo=o,(st=l)&&!c)for(K=i;K!==null;)o=K,l=o.child,o.tag===22&&o.memoizedState!==null?jp(i):l!==null?(l.return=o,K=l):jp(i);for(;s!==null;)K=s,o0(s),s=s.sibling;K=i,Bo=u,st=c}xp(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):xp(t)}}function xp(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:st||wu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!st)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Gt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_p(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_p(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Is(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}st||e.flags&512&&td(e)}catch(v){Ie(e,e.return,v)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function zp(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function jp(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wu(4,e)}catch(l){Ie(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ie(e,i,l)}}var s=e.return;try{td(e)}catch(l){Ie(e,s,l)}break;case 5:var o=e.return;try{td(e)}catch(l){Ie(e,o,l)}}}catch(l){Ie(e,e.return,l)}if(e===t){K=null;break}var u=e.sibling;if(u!==null){u.return=e.return,K=u;break}K=e.return}}var h2=Math.ceil,za=Dn.ReactCurrentDispatcher,Ch=Dn.ReactCurrentOwner,jt=Dn.ReactCurrentBatchConfig,se=0,Ke=null,xe=null,Ye=0,Tt=0,Zr=sr(0),Be=0,zs=null,Ir=0,_u=0,Th=0,ms=null,yt=null,bh=0,_i=1/0,gn=null,ja=!1,id=null,Wn=null,Uo=!1,jn=null,Fa=0,gs=0,sd=null,ha=-1,fa=0;function mt(){return se&6?Me():ha!==-1?ha:ha=Me()}function Gn(t){return t.mode&1?se&2&&Ye!==0?Ye&-Ye:Q3.transition!==null?(fa===0&&(fa=Vg()),fa):(t=le,t!==0||(t=window.event,t=t===void 0?16:Xg(t.type)),t):1}function Jt(t,e,n,r){if(50<gs)throw gs=0,sd=null,Error(x(185));eo(t,n,r),(!(se&2)||t!==Ke)&&(t===Ke&&(!(se&2)&&(_u|=n),Be===4&&xn(t,Ye)),kt(t,r),n===1&&se===0&&!(e.mode&1)&&(_i=Me()+500,gu&&or()))}function kt(t,e){var n=t.callbackNode;Qw(t,e);var r=Ea(t,t===Ke?Ye:0);if(r===0)n!==null&&qf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qf(n),e===1)t.tag===0?q3(Fp.bind(null,t)):mv(Fp.bind(null,t)),H3(function(){!(se&6)&&or()}),n=null;else{switch(Hg(r)){case 1:n=Jd;break;case 4:n=Bg;break;case 16:n=ka;break;case 536870912:n=Ug;break;default:n=ka}n=p0(n,a0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function a0(t,e){if(ha=-1,fa=0,se&6)throw Error(x(327));var n=t.callbackNode;if(ui()&&t.callbackNode!==n)return null;var r=Ea(t,t===Ke?Ye:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ba(t,r);else{e=r;var i=se;se|=2;var s=l0();(Ke!==t||Ye!==e)&&(gn=null,_i=Me()+500,_r(t,e));do try{m2();break}catch(u){u0(t,u)}while(1);dh(),za.current=s,se=i,xe!==null?e=0:(Ke=null,Ye=0,e=Be)}if(e!==0){if(e===2&&(i=Mc(t),i!==0&&(r=i,e=od(t,i))),e===1)throw n=zs,_r(t,0),xn(t,r),kt(t,Me()),n;if(e===6)xn(t,r);else{if(i=t.current.alternate,!(r&30)&&!f2(i)&&(e=Ba(t,r),e===2&&(s=Mc(t),s!==0&&(r=s,e=od(t,s))),e===1))throw n=zs,_r(t,0),xn(t,r),kt(t,Me()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(x(345));case 2:hr(t,yt,gn);break;case 3:if(xn(t,r),(r&130023424)===r&&(e=bh+500-Me(),10<e)){if(Ea(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fc(hr.bind(null,t,yt,gn),e);break}hr(t,yt,gn);break;case 4:if(xn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Yt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*h2(r/1960))-r,10<r){t.timeoutHandle=Fc(hr.bind(null,t,yt,gn),r);break}hr(t,yt,gn);break;case 5:hr(t,yt,gn);break;default:throw Error(x(329))}}}return kt(t,Me()),t.callbackNode===n?a0.bind(null,t):null}function od(t,e){var n=ms;return t.current.memoizedState.isDehydrated&&(_r(t,e).flags|=256),t=Ba(t,e),t!==2&&(e=yt,yt=n,e!==null&&ad(e)),t}function ad(t){yt===null?yt=t:yt.push.apply(yt,t)}function f2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!en(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xn(t,e){for(e&=~Th,e&=~_u,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yt(e),r=1<<n;t[n]=-1,e&=~r}}function Fp(t){if(se&6)throw Error(x(327));ui();var e=Ea(t,0);if(!(e&1))return kt(t,Me()),null;var n=Ba(t,e);if(t.tag!==0&&n===2){var r=Mc(t);r!==0&&(e=r,n=od(t,r))}if(n===1)throw n=zs,_r(t,0),xn(t,e),kt(t,Me()),n;if(n===6)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hr(t,yt,gn),kt(t,Me()),null}function Ih(t,e){var n=se;se|=1;try{return t(e)}finally{se=n,se===0&&(_i=Me()+500,gu&&or())}}function Ar(t){jn!==null&&jn.tag===0&&!(se&6)&&ui();var e=se;se|=1;var n=jt.transition,r=le;try{if(jt.transition=null,le=1,t)return t()}finally{le=r,jt.transition=n,se=e,!(se&6)&&or()}}function Ah(){Tt=Zr.current,ge(Zr)}function _r(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,V3(n)),xe!==null)for(n=xe.return;n!==null;){var r=n;switch(uh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Aa();break;case 3:yi(),ge(_t),ge(dt),vh();break;case 5:gh(r);break;case 4:yi();break;case 13:ge(Ee);break;case 19:ge(Ee);break;case 10:hh(r.type._context);break;case 22:case 23:Ah()}n=n.return}if(Ke=t,xe=t=qn(t.current,null),Ye=Tt=e,Be=0,zs=null,Th=_u=Ir=0,yt=ms=null,mr!==null){for(e=0;e<mr.length;e++)if(n=mr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}mr=null}return t}function u0(t,e){do{var n=xe;try{if(dh(),la.current=xa,Oa){for(var r=Ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Oa=!1}if(br=0,He=je=Ce=null,fs=!1,Rs=0,Ch.current=null,n===null||n.return===null){Be=1,zs=e,xe=null;break}e:{var s=t,o=n.return,u=n,l=e;if(e=Ye,u.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=u,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var C=Ip(o);if(C!==null){C.flags&=-257,Ap(C,o,u,s,e),C.mode&1&&bp(s,c,e),e=C,l=c;var b=e.updateQueue;if(b===null){var k=new Set;k.add(l),e.updateQueue=k}else b.add(l);break e}else{if(!(e&1)){bp(s,c,e),Ph();break e}l=Error(x(426))}}else if(we&&u.mode&1){var P=Ip(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Ap(P,o,u,s,e),lh(wi(l,u));break e}}s=l=wi(l,u),Be!==4&&(Be=2),ms===null?ms=[s]:ms.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=Kv(s,l,e);wp(s,y);break e;case 1:u=l;var g=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Wn===null||!Wn.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var a=Wv(s,u,e);wp(s,a);break e}}s=s.return}while(s!==null)}d0(n)}catch(d){e=d,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(1)}function l0(){var t=za.current;return za.current=xa,t===null?xa:t}function Ph(){(Be===0||Be===3||Be===2)&&(Be=4),Ke===null||!(Ir&268435455)&&!(_u&268435455)||xn(Ke,Ye)}function Ba(t,e){var n=se;se|=2;var r=l0();(Ke!==t||Ye!==e)&&(gn=null,_r(t,e));do try{p2();break}catch(i){u0(t,i)}while(1);if(dh(),se=n,za.current=r,xe!==null)throw Error(x(261));return Ke=null,Ye=0,Be}function p2(){for(;xe!==null;)c0(xe)}function m2(){for(;xe!==null&&!Fw();)c0(xe)}function c0(t){var e=f0(t.alternate,t,Tt);t.memoizedProps=t.pendingProps,e===null?d0(t):xe=e,Ch.current=null}function d0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=u2(n,e),n!==null){n.flags&=32767,xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Be=6,xe=null;return}}else if(n=a2(n,e,Tt),n!==null){xe=n;return}if(e=e.sibling,e!==null){xe=e;return}xe=e=t}while(e!==null);Be===0&&(Be=5)}function hr(t,e,n){var r=le,i=jt.transition;try{jt.transition=null,le=1,g2(t,e,n,r)}finally{jt.transition=i,le=r}return null}function g2(t,e,n,r){do ui();while(jn!==null);if(se&6)throw Error(x(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Xw(t,s),t===Ke&&(xe=Ke=null,Ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uo||(Uo=!0,p0(ka,function(){return ui(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=jt.transition,jt.transition=null;var o=le;le=1;var u=se;se|=4,Ch.current=null,c2(t,n),s0(n,t),O3(zc),Ca=!!xc,zc=xc=null,t.current=n,d2(n),Bw(),se=u,le=o,jt.transition=s}else t.current=n;if(Uo&&(Uo=!1,jn=t,Fa=i),s=t.pendingLanes,s===0&&(Wn=null),Hw(n.stateNode),kt(t,Me()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ja)throw ja=!1,t=id,id=null,t;return Fa&1&&t.tag!==0&&ui(),s=t.pendingLanes,s&1?t===sd?gs++:(gs=0,sd=t):gs=0,or(),null}function ui(){if(jn!==null){var t=Hg(Fa),e=jt.transition,n=le;try{if(jt.transition=null,le=16>t?16:t,jn===null)var r=!1;else{if(t=jn,jn=null,Fa=0,se&6)throw Error(x(331));var i=se;for(se|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var u=s.deletions;if(u!==null){for(var l=0;l<u.length;l++){var c=u[l];for(K=c;K!==null;){var f=K;switch(f.tag){case 0:case 11:case 15:ps(8,f,s)}var m=f.child;if(m!==null)m.return=f,K=m;else for(;K!==null;){f=K;var v=f.sibling,C=f.return;if(n0(f),f===c){K=null;break}if(v!==null){v.return=C,K=v;break}K=C}}}var b=s.alternate;if(b!==null){var k=b.child;if(k!==null){b.child=null;do{var P=k.sibling;k.sibling=null,k=P}while(k!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ps(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,K=y;break e}K=s.return}}var g=t.current;for(K=g;K!==null;){o=K;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,K=_;else e:for(o=g;K!==null;){if(u=K,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:wu(9,u)}}catch(d){Ie(u,u.return,d)}if(u===o){K=null;break e}var a=u.sibling;if(a!==null){a.return=u.return,K=a;break e}K=u.return}}if(se=i,or(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(du,t)}catch{}r=!0}return r}finally{le=n,jt.transition=e}}return!1}function Bp(t,e,n){e=wi(n,e),e=Kv(t,e,1),t=Kn(t,e,1),e=mt(),t!==null&&(eo(t,1,e),kt(t,e))}function Ie(t,e,n){if(t.tag===3)Bp(t,t,n);else for(;e!==null;){if(e.tag===3){Bp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wn===null||!Wn.has(r))){t=wi(n,t),t=Wv(e,t,1),e=Kn(e,t,1),t=mt(),e!==null&&(eo(e,1,t),kt(e,t));break}}e=e.return}}function v2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mt(),t.pingedLanes|=t.suspendedLanes&n,Ke===t&&(Ye&n)===n&&(Be===4||Be===3&&(Ye&130023424)===Ye&&500>Me()-bh?_r(t,0):Th|=n),kt(t,e)}function h0(t,e){e===0&&(t.mode&1?(e=Mo,Mo<<=1,!(Mo&130023424)&&(Mo=4194304)):e=1);var n=mt();t=Tn(t,e),t!==null&&(eo(t,e,n),kt(t,n))}function y2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),h0(t,n)}function w2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(e),h0(t,n)}var f0;f0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_t.current)wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wt=!1,o2(t,e,n);wt=!!(t.flags&131072)}else wt=!1,we&&e.flags&1048576&&gv(e,Da,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;da(t,e),t=e.pendingProps;var i=mi(e,dt.current);ai(e,n),i=wh(null,e,r,t,i,n);var s=_h();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,St(r)?(s=!0,Pa(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ph(e),i.updater=vu,e.stateNode=i,i._reactInternals=e,Gc(e,r,t,n),e=Xc(null,e,r,!0,s,n)):(e.tag=0,we&&s&&ah(e),ft(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(da(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=S2(r),t=Gt(r,t),i){case 0:e=Qc(null,e,r,t,n);break e;case 1:e=Dp(null,e,r,t,n);break e;case 11:e=Pp(null,e,r,t,n);break e;case 14:e=Np(null,e,r,Gt(r.type,t),n);break e}throw Error(x(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gt(r,i),Qc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gt(r,i),Dp(t,e,r,i,n);case 3:e:{if(Xv(e),t===null)throw Error(x(387));r=e.pendingProps,s=e.memoizedState,i=s.element,_v(t,e),La(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=wi(Error(x(423)),e),e=Mp(t,e,r,n,i);break e}else if(r!==i){i=wi(Error(x(424)),e),e=Mp(t,e,r,n,i);break e}else for(bt=Hn(e.stateNode.containerInfo.firstChild),It=e,we=!0,Qt=null,n=Cv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gi(),r===i){e=bn(t,e,n);break e}ft(t,e,r,n)}e=e.child}return e;case 5:return Tv(e),t===null&&Hc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,jc(r,i)?o=null:s!==null&&jc(r,s)&&(e.flags|=32),Qv(t,e),ft(t,e,o,n),e.child;case 6:return t===null&&Hc(e),null;case 13:return Yv(t,e,n);case 4:return mh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=vi(e,null,r,n):ft(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gt(r,i),Pp(t,e,r,i,n);case 7:return ft(t,e,e.pendingProps,n),e.child;case 8:return ft(t,e,e.pendingProps.children,n),e.child;case 12:return ft(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,fe(Ma,r._currentValue),r._currentValue=o,s!==null)if(en(s.value,o)){if(s.children===i.children&&!_t.current){e=bn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var l=u.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=kn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Kc(s.return,n,e),u.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(x(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Kc(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ft(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ai(e,n),i=Ft(i),r=r(i),e.flags|=1,ft(t,e,r,n),e.child;case 14:return r=e.type,i=Gt(r,e.pendingProps),i=Gt(r.type,i),Np(t,e,r,i,n);case 15:return Gv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gt(r,i),da(t,e),e.tag=1,St(r)?(t=!0,Pa(e)):t=!1,ai(e,n),kv(e,r,i),Gc(e,r,i,n),Xc(null,e,r,!0,t,n);case 19:return Jv(t,e,n);case 22:return qv(t,e,n)}throw Error(x(156,e.tag))};function p0(t,e){return Fg(t,e)}function _2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(t,e,n,r){return new _2(t,e,n,r)}function Nh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function S2(t){if(typeof t=="function")return Nh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qd)return 11;if(t===Xd)return 14}return 2}function qn(t,e){var n=t.alternate;return n===null?(n=zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pa(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Nh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vr:return Sr(n.children,i,s,e);case qd:o=8,i|=8;break;case vc:return t=zt(12,n,e,i|2),t.elementType=vc,t.lanes=s,t;case yc:return t=zt(13,n,e,i),t.elementType=yc,t.lanes=s,t;case wc:return t=zt(19,n,e,i),t.elementType=wc,t.lanes=s,t;case Eg:return Su(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Sg:o=10;break e;case kg:o=9;break e;case Qd:o=11;break e;case Xd:o=14;break e;case Ln:o=16,r=null;break e}throw Error(x(130,t==null?t:typeof t,""))}return e=zt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Sr(t,e,n,r){return t=zt(7,t,r,e),t.lanes=n,t}function Su(t,e,n,r){return t=zt(22,t,r,e),t.elementType=Eg,t.lanes=n,t.stateNode={isHidden:!1},t}function Bl(t,e,n){return t=zt(6,t,null,e),t.lanes=n,t}function Ul(t,e,n){return e=zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function k2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kl(0),this.expirationTimes=kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dh(t,e,n,r,i,s,o,u,l){return t=new k2(t,e,n,u,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=zt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ph(s),t}function E2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ur,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function m0(t){if(!t)return er;t=t._reactInternals;e:{if(Lr(t)!==t||t.tag!==1)throw Error(x(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(St(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(x(171))}if(t.tag===1){var n=t.type;if(St(n))return pv(t,n,e)}return e}function g0(t,e,n,r,i,s,o,u,l){return t=Dh(n,r,!0,t,i,s,o,u,l),t.context=m0(null),n=t.current,r=mt(),i=Gn(n),s=kn(r,i),s.callback=e??null,Kn(n,s,i),t.current.lanes=i,eo(t,i,r),kt(t,r),t}function ku(t,e,n,r){var i=e.current,s=mt(),o=Gn(i);return n=m0(n),e.context===null?e.context=n:e.pendingContext=n,e=kn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Kn(i,e,o),t!==null&&(Jt(t,i,o,s),ua(t,i,o)),o}function Ua(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Up(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mh(t,e){Up(t,e),(t=t.alternate)&&Up(t,e)}function C2(){return null}var v0=typeof reportError=="function"?reportError:function(t){console.error(t)};function $h(t){this._internalRoot=t}Eu.prototype.render=$h.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));ku(t,e,null,null)};Eu.prototype.unmount=$h.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ar(function(){ku(null,t,null,null)}),e[Cn]=null}};function Eu(t){this._internalRoot=t}Eu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Gg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<On.length&&e!==0&&e<On[n].priority;n++);On.splice(n,0,t),n===0&&Qg(t)}};function Lh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vp(){}function T2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ua(o);s.call(c)}}var o=g0(e,r,t,0,null,!1,!1,"",Vp);return t._reactRootContainer=o,t[Cn]=o.current,Ns(t.nodeType===8?t.parentNode:t),Ar(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var c=Ua(l);u.call(c)}}var l=Dh(t,0,!1,null,null,!1,!1,"",Vp);return t._reactRootContainer=l,t[Cn]=l.current,Ns(t.nodeType===8?t.parentNode:t),Ar(function(){ku(e,l,n,r)}),l}function Tu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var l=Ua(o);u.call(l)}}ku(e,o,t,i)}else o=T2(n,e,t,i,r);return Ua(o)}Kg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ts(e.pendingLanes);n!==0&&(Zd(e,n|1),kt(e,Me()),!(se&6)&&(_i=Me()+500,or()))}break;case 13:Ar(function(){var r=Tn(t,1);if(r!==null){var i=mt();Jt(r,t,1,i)}}),Mh(t,1)}};eh=function(t){if(t.tag===13){var e=Tn(t,134217728);if(e!==null){var n=mt();Jt(e,t,134217728,n)}Mh(t,134217728)}};Wg=function(t){if(t.tag===13){var e=Gn(t),n=Tn(t,e);if(n!==null){var r=mt();Jt(n,t,e,r)}Mh(t,e)}};Gg=function(){return le};qg=function(t,e){var n=le;try{return le=t,e()}finally{le=n}};Pc=function(t,e,n){switch(e){case"input":if(kc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=mu(r);if(!i)throw Error(x(90));Tg(r),kc(r,i)}}}break;case"textarea":Ig(t,n);break;case"select":e=n.value,e!=null&&ri(t,!!n.multiple,e,!1)}};Lg=Ih;Rg=Ar;var b2={usingClientEntryPoint:!1,Events:[no,Gr,mu,Mg,$g,Ih]},qi={findFiberByHostInstance:pr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},I2={bundleType:qi.bundleType,version:qi.version,rendererPackageName:qi.rendererPackageName,rendererConfig:qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zg(t),t===null?null:t.stateNode},findFiberByHostInstance:qi.findFiberByHostInstance||C2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vo.isDisabled&&Vo.supportsFiber)try{du=Vo.inject(I2),un=Vo}catch{}}Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b2;Dt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lh(e))throw Error(x(200));return E2(t,e,null,n)};Dt.createRoot=function(t,e){if(!Lh(t))throw Error(x(299));var n=!1,r="",i=v0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Dh(t,1,!1,null,null,n,!1,r,i),t[Cn]=e.current,Ns(t.nodeType===8?t.parentNode:t),new $h(e)};Dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=zg(e),t=t===null?null:t.stateNode,t};Dt.flushSync=function(t){return Ar(t)};Dt.hydrate=function(t,e,n){if(!Cu(e))throw Error(x(200));return Tu(null,t,e,!0,n)};Dt.hydrateRoot=function(t,e,n){if(!Lh(t))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=v0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=g0(e,null,t,1,n??null,i,!1,s,o),t[Cn]=e.current,Ns(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Eu(e)};Dt.render=function(t,e,n){if(!Cu(e))throw Error(x(200));return Tu(null,t,e,!1,n)};Dt.unmountComponentAtNode=function(t){if(!Cu(t))throw Error(x(40));return t._reactRootContainer?(Ar(function(){Tu(null,null,t,!1,function(){t._reactRootContainer=null,t[Cn]=null})}),!0):!1};Dt.unstable_batchedUpdates=Ih;Dt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cu(n))throw Error(x(200));if(t==null||t._reactInternals===void 0)throw Error(x(38));return Tu(t,e,n,!1,r)};Dt.version="18.2.0-next-9e3b772b8-20220608";function y0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y0)}catch(t){console.error(t)}}y0(),gg.exports=Dt;var A2=gg.exports,Hp=A2;mc.createRoot=Hp.createRoot,mc.hydrateRoot=Hp.hydrateRoot;function P2(t){const e=t.notes.map((n,r)=>Le.jsx("div",{children:Le.jsxs("div",{className:`title ${n.id===t.currentNote.id?"selected-note":""}`,onClick:()=>t.setCurrentNoteId(n.id),children:[Le.jsx("h4",{className:"text-snippet",children:n.body.split(`
`)[0]}),Le.jsx("button",{className:"delete-btn",onClick:()=>t.deleteNote(n.id),children:Le.jsx("i",{className:"gg-trash trash-icon"})})]})},n.id));return Le.jsxs("section",{className:"pane sidebar",children:[Le.jsxs("div",{className:"sidebar--header",children:[Le.jsx("h3",{children:"Notes"}),Le.jsx("button",{className:"new-note",onClick:t.newNote,children:"+"})]}),e]})}var Vl={},ze={};Object.defineProperty(ze,"__esModule",{value:!0});ze.getBreaksNeededForEmptyLineAfter=ze.getBreaksNeededForEmptyLineBefore=ze.selectWord=ze.getSurroundingWord=void 0;function w0(t,e){if(!t)throw Error("Argument 'text' should be truthy");for(var n=function(o){return o===" "||o.charCodeAt(0)===10},r=0,i=t.length,s=e;s-1>-1;s--)if(n(t[s-1])){r=s;break}for(var s=e;s<t.length;s++)if(n(t[s])){i=s;break}return{start:r,end:i}}ze.getSurroundingWord=w0;function N2(t){var e=t.text,n=t.selection;return e&&e.length&&n.start===n.end?w0(e,n.start):n}ze.selectWord=N2;function D2(t,e){if(t===void 0&&(t=""),e===0)return 0;for(var n=2,r=!0,i=e-1;i>=0&&n>=0;i--)switch(t.charCodeAt(i)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n}ze.getBreaksNeededForEmptyLineBefore=D2;function M2(t,e){if(t===void 0&&(t=""),e===t.length-1)return 0;for(var n=2,r=!0,i=e;i<t.length&&n>=0;i++)switch(t.charCodeAt(i)){case 32:continue;case 10:{n--,r=!1;break}default:return n}return r?0:n}ze.getBreaksNeededForEmptyLineAfter=M2;var Hl={},io={},Mn={};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/Object.defineProperty(Mn,"__esModule",{value:!0});Mn.classNames=void 0;function $2(t){return typeof t=="string"}function L2(t){return Array.isArray(t)&&t.length>0}function R2(t){return typeof t=="object"}function _0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0;r<t.length;r++){var i=t[r];if(i){if($2(i))n.push(i);else if(L2(i)){var s=_0.apply(null,i);s&&n.push(s)}else if(R2(i))for(var o in i)i.hasOwnProperty(o)&&i[o]&&n.push(o)}}return n.join(" ")}Mn.classNames=_0;Object.defineProperty(io,"__esModule",{value:!0});io.ToolbarButtonGroup=void 0;var O2=Oe,x2=Mn,z2=function(t){return O2.createElement("ul",{className:x2.classNames("mde-header-group",{hidden:t.hidden})},t.children)};io.ToolbarButtonGroup=z2;var so={},ei=Z&&Z.__assign||function(){return ei=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ei.apply(this,arguments)};Object.defineProperty(so,"__esModule",{value:!0});so.ToolbarButton=void 0;var Kp=Oe,j2={tabIndex:-1},F2=function(t){var e=t.buttonComponentClass,n=t.buttonContent,r=t.buttonProps,i=t.onClick,s=t.readOnly,o=t.name,u=ei(ei({},j2),r||{}),l=e||"button";return Kp.createElement("li",{className:"mde-header-item"},Kp.createElement(l,ei(ei({"data-name":o},u),{onClick:i,disabled:s,type:"button"}),n))};so.ToolbarButton=F2;var oo={};Object.defineProperty(oo,"__esModule",{value:!0});oo.MdeFontAwesomeIcon=void 0;var B2=Oe,U2=function(t){var e=t.icon,n=e;switch(e){case"header":n="heading";break;case"quote":n="quote-right";break;case"unordered-list":n="tasks";break;case"ordered-list":n="list-ol";break;case"checked-list":n="tasks";break;default:n=e}return B2.createElement("i",{className:"fas fa-"+n,"aria-hidden":"true"})};oo.MdeFontAwesomeIcon=U2;var bu={},V2=Z&&Z.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(bu,"__esModule",{value:!0});bu.Preview=void 0;var Ho=Oe,H2=Mn,K2=function(t){V2(e,t);function e(n){var r=t.call(this,n)||this;return r.state={loading:!0},r}return e.prototype.componentDidMount=function(){this.generatePreview()},e.prototype.componentDidUpdate=function(n,r){this.props.markdown!==n.markdown&&this.generatePreview()},e.prototype.generatePreview=function(){var n=this,r=this.props,i=r.markdown,s=r.generateMarkdownPreview;s(i).then(function(o){n.setState({preview:o,loading:!1})})},e.prototype.render=function(){var n=this.props,r=n.classes,i=n.minHeight,s=n.loadingPreview,o=n.refObject,u=n.heightUnits,l=this.state,c=l.preview,f=l.loading,m=f?s:c,v;typeof m=="string"?v=Ho.createElement("div",{className:"mde-preview-content",dangerouslySetInnerHTML:{__html:m||"<p>&nbsp;</p>"},ref:o}):v=Ho.createElement("div",{className:"mde-preview-content"},m);var C=i&&u?i+10+u:i+10;return Ho.createElement("div",{className:H2.classNames("mde-preview",r,{loading:f}),style:{minHeight:C},"data-testid":"mde-preview"},v)},e}(Ho.Component);bu.Preview=K2;var Iu={},Au={};Object.defineProperty(Au,"__esModule",{value:!0});Au.getCaretCoordinates=void 0;var W2=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],S0=typeof window<"u",G2=S0&&window.mozInnerScreenX!=null;function q2(t,e){if(!S0)throw new Error("getCaretCoordinates should only be called in a browser");var n=document.createElement("div");n.id="input-textarea-caret-position-mirror-div",document.body.appendChild(n);var r=n.style,i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;r.whiteSpace="pre-wrap",r.wordWrap="break-word",r.position="absolute",r.visibility="hidden",W2.forEach(function(u){r[u]=i[u]}),G2?t.scrollHeight>parseInt(i.height)&&(r.overflowY="scroll"):r.overflow="hidden",n.textContent=t.value.substring(0,t.selectionStart),e&&(n.textContent+=e);var s=document.createElement("span");s.textContent=t.value.substring(t.selectionEnd)||".",n.appendChild(s);var o={top:s.offsetTop+parseInt(i.borderTopWidth),left:s.offsetLeft+parseInt(i.borderLeftWidth),lineHeight:parseInt(i.lineHeight)};return document.body.removeChild(n),o}Au.getCaretCoordinates=q2;var ao={};/*!
 * The MIT License
   Copyright (c) 2018 Dmitriy Kubyshkin
   Copied from https://github.com/grassator/insert-text-at-cursor
 */Object.defineProperty(ao,"__esModule",{value:!0});ao.insertText=void 0;function Q2(t,e){if(t.focus(),document.selection){var n=document.selection.createRange();n.text=e,n.collapse(!1),n.select();return}var r=document.execCommand("insertText",!1,e);if(!r){var i=t.selectionStart,s=t.selectionEnd;if(typeof t.setRangeText=="function")t.setRangeText(e);else if(X2(t)){var o=document.createTextNode(e),u=t.firstChild;if(!u)t.appendChild(o);else{for(var l=0,c=null,f=null,m=document.createRange();u&&(c===null||f===null);){var v=u.nodeValue.length;i>=l&&i<=l+v&&m.setStart(c=u,i-l),s>=l&&s<=l+v&&m.setEnd(f=u,s-l),l+=v,u=u.nextSibling}i!==s&&m.deleteContents(),m.insertNode(o)}}else{var C=t.value;t.value=C.slice(0,i)+e+C.slice(s)}t.setSelectionRange(i+e.length,i+e.length);var b=document.createEvent("UIEvent");b.initEvent("input",!0,!1),t.dispatchEvent(b)}}ao.insertText=Q2;function X2(t){if(t.nodeName!=="TEXTAREA")return!1;var e;if(typeof e>"u"){var n=document.createElement("textarea");n.value="1",e=!!n.firstChild}return e}var Pu={};Object.defineProperty(Pu,"__esModule",{value:!0});Pu.mod=void 0;function Y2(t,e){return(t%e+e)%e}Pu.mod=Y2;var uo={};Object.defineProperty(uo,"__esModule",{value:!0});uo.SuggestionsDropdown=void 0;var Wp=Oe,J2=Mn,Z2=function(t){var e=t.classes,n=t.suggestions,r=t.caret,i=t.onSuggestionSelected,s=t.suggestionsAutoplace,o=t.focusIndex,u=t.textAreaRef,l=function(k){k.preventDefault();var P=parseInt(k.currentTarget.attributes["data-index"].value);i(P)},c=function(k){return k.preventDefault()},f=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),m=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),v=r.left-u.current.scrollLeft,C=r.top-u.current.scrollTop,b={};return s&&C+u.current.getBoundingClientRect().top>m/2?b.bottom=u.current.offsetHeight-C:b.top=C,s&&v+u.current.getBoundingClientRect().left>f/2?b.right=u.current.offsetWidth-v:b.left=v,Wp.createElement("ul",{className:J2.classNames("mde-suggestions",e),style:b},n.map(function(k,P){return Wp.createElement("li",{onClick:l,onMouseDown:c,key:P,"aria-selected":o===P?"true":"false","data-index":""+P},k.preview)}))};uo.SuggestionsDropdown=Z2;var e_=Z&&Z.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ct=Z&&Z.__assign||function(){return Ct=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ct.apply(this,arguments)};Object.defineProperty(Iu,"__esModule",{value:!0});Iu.TextArea=void 0;var Ko=Oe,t_=Mn,n_=Au,r_=ao,i_=Pu,s_=uo,o_=function(t){e_(e,t);function e(n){var r=t.call(this,n)||this;return r.currentLoadSuggestionsPromise=Promise.resolve(void 0),r.suggestionsPromiseIndex=0,r.getTextArea=function(){return r.props.refObject.current},r.handleOnChange=function(i){var s=r.props.onChange;s(i.target.value)},r.handleBlur=function(){var i=r.state.mention;i&&r.setState({mention:{status:"inactive",suggestions:[]}})},r.startLoadingSuggestions=function(i){var s=++r.suggestionsPromiseIndex,o=r.props.loadSuggestions;r.currentLoadSuggestionsPromise=r.currentLoadSuggestionsPromise.then(function(){return o(i,r.state.mention.triggeredBy)}).then(function(u){if(r.state.mention.status!=="inactive")return r.suggestionsPromiseIndex===s&&(!u||!u.length?r.setState({mention:{status:"inactive",suggestions:[]}}):r.setState({mention:Ct(Ct({},r.state.mention),{status:"active",suggestions:u,focusIndex:0})}),r.suggestionsPromiseIndex=0),Promise.resolve()})},r.loadEmptySuggestion=function(i,s){var o=n_.getCaretCoordinates(i,s);r.startLoadingSuggestions(""),r.setState({mention:{status:"loading",startPosition:i.selectionStart+1,caret:o,suggestions:[],triggeredBy:s}})},r.handleSuggestionSelected=function(i){var s=r.state.mention;r.getTextArea().selectionStart=s.startPosition-1,r.props.value.substr(r.getTextArea().selectionStart,r.getTextArea().selectionEnd-r.getTextArea().selectionStart),r_.insertText(r.getTextArea(),s.suggestions[i].value+" "),r.setState({mention:{status:"inactive",suggestions:[]}})},r.handleKeyDown=function(i){if(r.props.onPossibleKeyCommand){var s=r.props.onPossibleKeyCommand(i);if(s){i.preventDefault(),r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});return}}if(r.suggestionsEnabled()){var o=i.key,u=i.shiftKey,l=i.currentTarget,c=l.selectionStart,f=r.state.mention;switch(f.status){case"loading":case"active":if(o==="Escape"||o==="Backspace"&&c<=r.state.mention.startPosition)r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});else if(f.status==="active"&&(o==="ArrowUp"||o==="ArrowDown")&&!u){i.preventDefault();var m=o==="ArrowUp"?-1:1;r.setState({mention:Ct(Ct({},f),{focusIndex:i_.mod(f.focusIndex+m,f.suggestions.length)})})}else o==="Enter"&&f.status==="active"&&f.suggestions.length&&(i.preventDefault(),r.handleSuggestionSelected(f.focusIndex));break}}},r.handleKeyUp=function(i){var s=i.key,o=r.state.mention,u=r.props,l=u.suggestionTriggerCharacters,c=u.value;switch(o.status){case"loading":case"active":if(s==="Backspace"){var f=c.substr(o.startPosition,r.getTextArea().selectionStart-o.startPosition);r.startLoadingSuggestions(f),o.status!=="loading"&&r.setState({mention:Ct(Ct({},r.state.mention),{status:"loading"})})}break;case"inactive":if(s==="Backspace"){var m=c.charAt(r.getTextArea().selectionStart-1),v=l.includes(c.charAt(r.getTextArea().selectionStart-1));v&&r.loadEmptySuggestion(i.currentTarget,m)}break}},r.handleKeyPress=function(i){var s=r.props,o=s.suggestionTriggerCharacters,u=s.value,l=r.state.mention,c=i.key;switch(l.status){case"loading":case"active":if(c===" "){r.setState({mention:Ct(Ct({},r.state.mention),{status:"inactive"})});return}var f=u.substr(l.startPosition,r.getTextArea().selectionStart-l.startPosition)+c;r.startLoadingSuggestions(f),l.status!=="loading"&&r.setState({mention:Ct(Ct({},r.state.mention),{status:"loading"})});break;case"inactive":if(o.indexOf(i.key)===-1||!/\s|\(|\[|^.{0}$/.test(u.charAt(r.getTextArea().selectionStart-1)))return;r.loadEmptySuggestion(i.currentTarget,i.key);break}},r.state={mention:{status:"inactive",suggestions:[]}},r}return e.prototype.suggestionsEnabled=function(){return this.props.suggestionTriggerCharacters&&this.props.suggestionTriggerCharacters.length&&this.props.loadSuggestions},e.prototype.render=function(){var n=this,r=this.props,i=r.classes,s=r.readOnly,o=r.textAreaProps,u=r.height,l=r.heightUnits,c=r.value,f=r.suggestionTriggerCharacters,m=r.loadSuggestions,v=r.suggestionsDropdownClasses,C=r.textAreaComponent,b=r.onPaste,k=r.onDrop,P=f&&f.length&&m,y=this.state.mention,g=C||"textarea",_=u&&l?u+l:u;return Ko.createElement("div",{className:"mde-textarea-wrapper"},Ko.createElement(g,Ct({className:t_.classNames("mde-text",i),style:{height:_},ref:this.props.refObject,readOnly:s,value:c,"data-testid":"text-area"},o,{onChange:function(a){var d;(d=o==null?void 0:o.onChange)===null||d===void 0||d.call(o,a),n.handleOnChange(a)},onBlur:function(a){var d;(d=o==null?void 0:o.onBlur)===null||d===void 0||d.call(o,a),P&&n.handleBlur()},onKeyDown:function(a){var d;(d=o==null?void 0:o.onKeyDown)===null||d===void 0||d.call(o,a),n.handleKeyDown(a)},onKeyUp:function(a){var d;(d=o==null?void 0:o.onKeyUp)===null||d===void 0||d.call(o,a),P&&n.handleKeyUp(a)},onKeyPress:function(a){var d;(d=o==null?void 0:o.onKeyPress)===null||d===void 0||d.call(o,a),P&&n.handleKeyPress(a)},onPaste:function(a){var d;(d=o==null?void 0:o.onPaste)===null||d===void 0||d.call(o,a),b(a)},onDragOver:function(a){a.preventDefault(),a.stopPropagation()},onDrop:function(a){var d;(d=o==null?void 0:o.onDrop)===null||d===void 0||d.call(o,a),k(a),a.preventDefault()}})),y.status==="active"&&y.suggestions.length&&Ko.createElement(s_.SuggestionsDropdown,{classes:v,caret:y.caret,suggestions:y.suggestions,onSuggestionSelected:this.handleSuggestionSelected,suggestionsAutoplace:this.props.suggestionsAutoplace,focusIndex:y.focusIndex,textAreaRef:this.props.refObject}))},e}(Ko.Component);Iu.TextArea=o_;var Nu={},a_=Z&&Z.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ti=Z&&Z.__assign||function(){return ti=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ti.apply(this,arguments)};Object.defineProperty(Nu,"__esModule",{value:!0});Nu.Toolbar=void 0;var cr=Oe,Kl=Mn,u_=io,l_=so,c_=function(t){a_(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleTabChange=function(r){var i=n.props.onTabChange;i(r)},n}return e.prototype.render=function(){var n=this,r=this.props.l18n,i=this.props,s=i.classes,o=i.children,u=i.buttons,l=i.onCommand,c=i.readOnly,f=i.disablePreview,m=i.writeButtonProps,v=i.previewButtonProps,C=i.buttonProps;if((!u||u.length===0)&&!o)return null;var b=cr.createElement("div",{className:"mde-tabs"},cr.createElement("button",ti({type:"button",className:Kl.classNames({selected:this.props.tab==="write"}),onClick:function(){return n.handleTabChange("write")}},m),r.write),cr.createElement("button",ti({type:"button",className:Kl.classNames({selected:this.props.tab==="preview"}),onClick:function(){return n.handleTabChange("preview")}},v),r.preview));return cr.createElement("div",{className:Kl.classNames("mde-header",s)},!f&&b,u.map(function(k,P){return cr.createElement(u_.ToolbarButtonGroup,{key:P,hidden:n.props.tab==="preview"},k.map(function(y,g){return cr.createElement(l_.ToolbarButton,{key:g,name:y.commandName,buttonContent:y.buttonContent,buttonProps:ti(ti({},C||{}),y.buttonProps),onClick:function(){return l(y.commandName)},readOnly:c,buttonComponentClass:y.buttonComponentClass})}))}))},e}(cr.Component);Nu.Toolbar=c_;var Qi={},cn={},Du={};Object.defineProperty(Du,"__esModule",{value:!0});Du.headerCommand=void 0;var d_=ze;function h_(t,e,n){var r=d_.selectWord({text:t.text,selection:t.selection}),i=e.setSelectionRange(r),s=e.replaceSelection(""+n+i.selectedText);e.setSelectionRange({start:s.selection.end-i.selectedText.length,end:s.selection.end})}Du.headerCommand={buttonProps:{"aria-label":"Add header"},execute:function(t){var e=t.initialState,n=t.textApi;h_(e,n,"### ")}};var Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});Mu.boldCommand=void 0;var f_=ze;Mu.boldCommand={buttonProps:{"aria-label":"Add bold text"},execute:function(t){var e=t.initialState,n=t.textApi,r=f_.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("**"+i.selectedText+"**");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="b"}};var $u={};Object.defineProperty($u,"__esModule",{value:!0});$u.italicCommand=void 0;var p_=ze;$u.italicCommand={buttonProps:{"aria-label":"Add italic text"},execute:function(t){var e=t.initialState,n=t.textApi,r=p_.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("*"+i.selectedText+"*");n.setSelectionRange({start:s.selection.end-1-i.selectedText.length,end:s.selection.end-1})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="i"}};var Lu={};Object.defineProperty(Lu,"__esModule",{value:!0});Lu.strikeThroughCommand=void 0;var m_=ze;Lu.strikeThroughCommand={buttonProps:{"aria-label":"Add strikethrough text"},execute:function(t){var e=t.initialState,n=t.textApi,r=m_.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("~~"+i.selectedText+"~~");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})}};var Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.linkCommand=void 0;var g_=ze;Ru.linkCommand={buttonProps:{"aria-label":"Add a link"},execute:function(t){var e=t.initialState,n=t.textApi,r=g_.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("["+i.selectedText+"](url)");n.setSelectionRange({start:s.selection.end-6-i.selectedText.length,end:s.selection.end-6})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="k"}};var Ou={};Object.defineProperty(Ou,"__esModule",{value:!0});Ou.quoteCommand=void 0;var Wl=ze;Ou.quoteCommand={buttonProps:{"aria-label":"Insert a quote"},execute:function(t){var e=t.initialState,n=t.textApi,r=Wl.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=Wl.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),o=Array(s+1).join(`
`),u=Wl.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),l=Array(u+1).join(`
`);n.replaceSelection(o+"> "+i.selectedText+l);var c=i.selection.start+s+2,f=c+i.selectedText.length;n.setSelectionRange({start:c,end:f})}};var xu={};Object.defineProperty(xu,"__esModule",{value:!0});xu.codeCommand=void 0;var Gl=ze;xu.codeCommand={buttonProps:{"aria-label":"Insert code"},execute:function(t){var e=t.initialState,n=t.textApi,r=Gl.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r);if(i.selectedText.indexOf(`
`)===-1){n.replaceSelection("`"+i.selectedText+"`");var s=i.selection.start+1,o=s+i.selectedText.length;n.setSelectionRange({start:s,end:o});return}var u=Gl.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),l=Array(u+1).join(`
`),c=Gl.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),f=Array(c+1).join(`
`);n.replaceSelection(l+"```\n"+i.selectedText+"\n```"+f);var m=i.selection.start+u+4,v=m+i.selectedText.length;n.setSelectionRange({start:m,end:v})}};var k0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkedListCommand=t.orderedListCommand=t.unorderedListCommand=t.makeList=t.insertBeforeEachLine=void 0;var e=ze;function n(i,s){var o=i.split(/\n/),u=0,l=o.map(function(c,f){if(typeof s=="string")return u+=s.length,s+c;if(typeof s=="function"){var m=s(c,f);return u+=m.length,s(c,f)+c}throw Error("insertion is expected to be either a string or a function")}).join(`
`);return{modifiedText:l,insertionLength:u}}t.insertBeforeEachLine=n;var r=function(i,s,o){var u=e.selectWord({text:i.text,selection:i.selection}),l=s.setSelectionRange(u),c=e.getBreaksNeededForEmptyLineBefore(l.text,l.selection.start),f=Array(c+1).join(`
`),m=e.getBreaksNeededForEmptyLineAfter(l.text,l.selection.end),v=Array(m+1).join(`
`),C=n(l.selectedText,o);s.replaceSelection(""+f+C.modifiedText+v);var b=l.selectedText.indexOf(`
`)===-1?C.insertionLength:0,k=l.selection.start+c+b,P=k+C.modifiedText.length-b;s.setSelectionRange({start:k,end:P})};t.makeList=r,t.unorderedListCommand={buttonProps:{"aria-label":"Add unordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,"- ")}},t.orderedListCommand={buttonProps:{"aria-label":"Add ordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(u,l){return l+1+". "})}},t.checkedListCommand={buttonProps:{"aria-label":"Add checked list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(u,l){return"- [ ] "})}}})(k0);var zu={};Object.defineProperty(zu,"__esModule",{value:!0});zu.imageCommand=void 0;var v_=ze;zu.imageCommand={buttonProps:{"aria-label":"Add image"},execute:function(t){var e=t.initialState,n=t.textApi,r=n.setSelectionRange(v_.selectWord({text:e.text,selection:e.selection})),i=r.selectedText||"https://example.com/your-image.png";n.replaceSelection("![]("+i+")"),n.setSelectionRange({start:r.selection.start+4,end:r.selection.start+4+i.length})}};var ju={},Fu={},y_=Z&&Z.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(f){try{c(r.next(f))}catch(m){o(m)}}function l(f){try{c(r.throw(f))}catch(m){o(m)}}function c(f){f.done?s(f.value):i(f.value).then(u,l)}c((r=r.apply(t,e||[])).next())})},w_=Z&&Z.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(f){return l([c,f])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(f){c=[6,f],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Fu,"__esModule",{value:!0});Fu.readFileAsync=void 0;function __(t){return y_(this,void 0,void 0,function(){return w_(this,function(e){return[2,new Promise(function(n,r){var i=new FileReader;i.onload=function(){if(typeof i.result=="string")throw new Error("reader.result is expected to be an ArrayBuffer");n(i.result)},i.onerror=r,i.readAsArrayBuffer(t)})]})})}Fu.readFileAsync=__;var S_=Z&&Z.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(f){try{c(r.next(f))}catch(m){o(m)}}function l(f){try{c(r.throw(f))}catch(m){o(m)}}function c(f){f.done?s(f.value):i(f.value).then(u,l)}c((r=r.apply(t,e||[])).next())})},k_=Z&&Z.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(f){return l([c,f])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(f){c=[6,f],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(ju,"__esModule",{value:!0});ju.saveImageCommand=void 0;var E_=Fu,C_=ze;function Gp(t){var e=[];for(var n in t){var r=t[n];r.kind==="file"&&e.push(r.getAsFile())}return e}function T_(t){for(var e=[],n=0;n<t.length;n++)e.push(t[0]);return e}function b_(t,e){var n=e.multiple,r=e.accept,i=t;if(n||(i=i.slice(0,1)),r){var s=r.split(","),o=new Set(s.filter(function(c){return/^\.\w+/.test(c)}).map(function(c){return c.split(".")[1]})),u=new Set(s.filter(function(c){return/^[-\w.]+\/[-\w.]+$/.test(c)})),l=new Set(s.filter(function(c){return/(audio|video|image)\/\*/.test(c)}).map(function(c){return c.split("/")[0]}));i=i.filter(function(c){return o.has(c.name.split(".")[1])||u.has(c.type)||l.has(c.type.split("/")[0])})}return i}ju.saveImageCommand={execute:function(t){t.initialState;var e=t.textApi,n=t.context,r=t.l18n;return S_(this,void 0,void 0,function(){var i,s,o,u,l,c,f,m,v,C,b,k,P,y,g,_,a,d,h,p,w,T,S,I;return k_(this,function(O){switch(O.label){case 0:if(!n)throw new Error("wrong context");i=n,s=i.event,o=i.pasteOptions,u=o.saveImage,l=o.multiple,c=o.accept,f=I_(n)?Gp(s.clipboardData.items):A_(n)?Gp(s.dataTransfer.items):T_(s.target.files),m=b_(f,{multiple:l,accept:c}),v=[];for(C in m)v.push(C);b=0,O.label=1;case 1:return b<v.length?(k=v[b],P=e.getState(),y=C_.getBreaksNeededForEmptyLineBefore(P.text,P.selection.start),g=Array(y+1).join(`
`),_=g+"!["+r.uploadingImage+"]()",e.replaceSelection(_),a=f[k],[4,E_.readFileAsync(a)]):[3,5];case 2:return d=O.sent(),h=u(d,a),[4,h.next()];case 3:p=O.sent().value,w=e.getState(),T=w.text.substr(P.selection.start,_.length),T===_&&(e.setSelectionRange({start:P.selection.start,end:P.selection.start+_.length}),S=p?g+"![image]("+p+")":"",I=S.length-_.length,e.replaceSelection(S),e.setSelectionRange({start:w.selection.start+I,end:w.selection.end+I})),O.label=4;case 4:return b++,[3,1];case 5:return[2]}})})}};function I_(t){return t.event.clipboardData!==void 0}function A_(t){return t.event.dataTransfer!==void 0}Object.defineProperty(cn,"__esModule",{value:!0});cn.getDefaultSaveImageCommandName=cn.getDefaultCommandMap=cn.getDefaultToolbarCommands=void 0;var P_=Du,N_=Mu,D_=$u,M_=Lu,$_=Ru,L_=Ou,R_=xu,ql=k0,O_=zu,x_=ju;function z_(){return[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unordered-list","ordered-list","checked-list"]]}cn.getDefaultToolbarCommands=z_;function j_(){return{header:P_.headerCommand,bold:N_.boldCommand,italic:D_.italicCommand,strikethrough:M_.strikeThroughCommand,link:$_.linkCommand,quote:L_.quoteCommand,code:R_.codeCommand,image:O_.imageCommand,"unordered-list":ql.unorderedListCommand,"ordered-list":ql.orderedListCommand,"checked-list":ql.checkedListCommand,"save-image":x_.saveImageCommand}}cn.getDefaultCommandMap=j_;function F_(){return"save-image"}cn.getDefaultSaveImageCommandName=F_;var Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});Bu.enL18n=void 0;Bu.enL18n={write:"Write",preview:"Preview",uploadingImage:"Uploading image...",pasteDropSelect:"Attach files by dragging & dropping, selecting or pasting them."};var Rh={},Uu={};Object.defineProperty(Uu,"__esModule",{value:!0});Uu.SvgIcon=void 0;var Ae=Oe,B_=Ae.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"tasks",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ae.createElement("path",{fill:"currentColor",d:"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"})),U_=Ae.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ol",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ae.createElement("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),V_=Ae.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ul",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ae.createElement("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),H_=Ae.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"image",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ae.createElement("path",{fill:"currentColor",d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"})),K_=Ae.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"code",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512","data-fa-i2svg":""},Ae.createElement("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})),W_=Ae.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"quote-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ae.createElement("path",{fill:"currentColor",d:"M512 80v128c0 137.018-63.772 236.324-193.827 271.172-15.225 4.08-30.173-7.437-30.173-23.199v-33.895c0-10.057 6.228-19.133 15.687-22.55C369.684 375.688 408 330.054 408 256h-72c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h128c26.51 0 48 21.49 48 48zM176 32H48C21.49 32 0 53.49 0 80v128c0 26.51 21.49 48 48 48h72c0 74.054-38.316 119.688-104.313 143.528C6.228 402.945 0 412.021 0 422.078v33.895c0 15.762 14.948 27.279 30.173 23.199C160.228 444.324 224 345.018 224 208V80c0-26.51-21.49-48-48-48z"})),G_=Ae.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"link",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ae.createElement("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"})),q_=Ae.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"strikethrough",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ae.createElement("path",{fill:"currentColor",d:"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"})),Q_=Ae.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"italic",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512","data-fa-i2svg":""},Ae.createElement("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})),X_=Ae.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"heading",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ae.createElement("path",{fill:"currentColor",d:"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z"})),Y_=Ae.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"bold",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512","data-fa-i2svg":""},Ae.createElement("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"})),J_=function(t){var e=t.icon;switch(e){case"header":return X_;case"bold":return Y_;case"italic":return Q_;case"strikethrough":return q_;case"link":return G_;case"quote":return W_;case"code":return K_;case"image":return H_;case"unordered-list":return V_;case"ordered-list":return U_;case"checked-list":return B_;default:return null}};Uu.SvgIcon=J_;(function(t){var e=Z&&Z.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=Z&&Z.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(oo,t),n(Uu,t)})(Rh);var pn={},Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});Vu.extractKeyActivatedCommands=void 0;function Z_(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t[n].handleKeyCommand&&e.push(n);return e}Vu.extractKeyActivatedCommands=Z_;var qp;function e8(){if(qp)return pn;qp=1;var t=Z&&Z.__assign||function(){return t=Object.assign||function(f){for(var m,v=1,C=arguments.length;v<C;v++){m=arguments[v];for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(f[b]=m[b])}return f},t.apply(this,arguments)},e=Z&&Z.__awaiter||function(f,m,v,C){function b(k){return k instanceof v?k:new v(function(P){P(k)})}return new(v||(v=Promise))(function(k,P){function y(a){try{_(C.next(a))}catch(d){P(d)}}function g(a){try{_(C.throw(a))}catch(d){P(d)}}function _(a){a.done?k(a.value):b(a.value).then(y,g)}_((C=C.apply(f,m||[])).next())})},n=Z&&Z.__generator||function(f,m){var v={label:0,sent:function(){if(k[0]&1)throw k[1];return k[1]},trys:[],ops:[]},C,b,k,P;return P={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function y(_){return function(a){return g([_,a])}}function g(_){if(C)throw new TypeError("Generator is already executing.");for(;v;)try{if(C=1,b&&(k=_[0]&2?b.return:_[0]?b.throw||((k=b.return)&&k.call(b),0):b.next)&&!(k=k.call(b,_[1])).done)return k;switch(b=0,k&&(_=[_[0]&2,k.value]),_[0]){case 0:case 1:k=_;break;case 4:return v.label++,{value:_[1],done:!1};case 5:v.label++,b=_[1],_=[0];continue;case 7:_=v.ops.pop(),v.trys.pop();continue;default:if(k=v.trys,!(k=k.length>0&&k[k.length-1])&&(_[0]===6||_[0]===2)){v=0;continue}if(_[0]===3&&(!k||_[1]>k[0]&&_[1]<k[3])){v.label=_[1];break}if(_[0]===6&&v.label<k[1]){v.label=k[1],k=_;break}if(k&&v.label<k[2]){v.label=k[2],v.ops.push(_);break}k[2]&&v.ops.pop(),v.trys.pop();continue}_=m.call(f,v)}catch(a){_=[6,a],b=0}finally{C=k=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}};Object.defineProperty(pn,"__esModule",{value:!0}),pn.CommandOrchestrator=pn.getStateFromTextArea=pn.TextAreaTextApi=void 0;var r=C0(),i=ao,s=Vu,o=cn,u=function(){function f(m){this.textAreaRef=m}return f.prototype.replaceSelection=function(m){var v=this.textAreaRef.current;return i.insertText(v,m),l(v)},f.prototype.setSelectionRange=function(m){var v=this.textAreaRef.current;return v.focus(),v.selectionStart=m.start,v.selectionEnd=m.end,l(v)},f.prototype.getState=function(){var m=this.textAreaRef.current;return l(m)},f}();pn.TextAreaTextApi=u;function l(f){return{selection:{start:f.selectionStart,end:f.selectionEnd},text:f.value,selectedText:f.value.slice(f.selectionStart,f.selectionEnd)}}pn.getStateFromTextArea=l;var c=function(){function f(m,v,C,b){var k=this;if(this.getCommand=function(P){var y=k.commandMap[P];if(!y)throw new Error("Cannot execute command. Command not found: "+P);return y},this.handlePossibleKeyCommand=function(P){for(var y=0,g=k.keyActivatedCommands;y<g.length;y++){var _=g[y];if(k.getCommand(_).handleKeyCommand(P))return k.executeCommand(_).then(function(a){}),!0}return!1},b&&!b.saveImage)throw new Error("paste options are incomplete. saveImage are required ");this.commandMap=t(t({},r.getDefaultCommandMap()),m||{}),this.pasteOptions=b,this.keyActivatedCommands=s.extractKeyActivatedCommands(m),this.textAreaRef=v,this.textApi=new u(v),this.l18n=C}return f.prototype.executeCommand=function(m,v){return e(this,void 0,void 0,function(){var C,b;return n(this,function(k){switch(k.label){case 0:return this.isExecuting?[2]:(this.isExecuting=!0,C=this.commandMap[m],b=C.execute({initialState:l(this.textAreaRef.current),textApi:this.textApi,l18n:this.l18n,context:v}),[4,b]);case 1:return k.sent(),this.isExecuting=!1,[2]}})})},f.prototype.executePasteCommand=function(m){return e(this,void 0,void 0,function(){return n(this,function(v){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:m})]:[2]})})},f.prototype.executeDropCommand=function(m){return e(this,void 0,void 0,function(){return n(this,function(v){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:m})]:[2]})})},f.prototype.executeSelectImageCommand=function(m){return e(this,void 0,void 0,function(){return n(this,function(v){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:m})]:[2]})})},f.prototype.getCommandByName=function(m){return this.commandMap[m]},f}();return pn.CommandOrchestrator=c,pn}var Qp;function t8(){if(Qp)return Qi;Qp=1;var t=Z&&Z.__extends||function(){var C=function(b,k){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,y){P.__proto__=y}||function(P,y){for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(P[g]=y[g])},C(b,k)};return function(b,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");C(b,k);function P(){this.constructor=b}b.prototype=k===null?Object.create(k):(P.prototype=k.prototype,new P)}}(),e=Z&&Z.__assign||function(){return e=Object.assign||function(C){for(var b,k=1,P=arguments.length;k<P;k++){b=arguments[k];for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(C[y]=b[y])}return C},e.apply(this,arguments)},n=Z&&Z.__awaiter||function(C,b,k,P){function y(g){return g instanceof k?g:new k(function(_){_(g)})}return new(k||(k=Promise))(function(g,_){function a(p){try{h(P.next(p))}catch(w){_(w)}}function d(p){try{h(P.throw(p))}catch(w){_(w)}}function h(p){p.done?g(p.value):y(p.value).then(a,d)}h((P=P.apply(C,b||[])).next())})},r=Z&&Z.__generator||function(C,b){var k={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},P,y,g,_;return _={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function a(h){return function(p){return d([h,p])}}function d(h){if(P)throw new TypeError("Generator is already executing.");for(;k;)try{if(P=1,y&&(g=h[0]&2?y.return:h[0]?y.throw||((g=y.return)&&g.call(y),0):y.next)&&!(g=g.call(y,h[1])).done)return g;switch(y=0,g&&(h=[h[0]&2,g.value]),h[0]){case 0:case 1:g=h;break;case 4:return k.label++,{value:h[1],done:!1};case 5:k.label++,y=h[1],h=[0];continue;case 7:h=k.ops.pop(),k.trys.pop();continue;default:if(g=k.trys,!(g=g.length>0&&g[g.length-1])&&(h[0]===6||h[0]===2)){k=0;continue}if(h[0]===3&&(!g||h[1]>g[0]&&h[1]<g[3])){k.label=h[1];break}if(h[0]===6&&k.label<g[1]){k.label=g[1],g=h;break}if(g&&k.label<g[2]){k.label=g[2],k.ops.push(h);break}g[2]&&k.ops.pop(),k.trys.pop();continue}h=b.call(C,k)}catch(p){h=[6,p],y=0}finally{P=g=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}};Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.ReactMde=void 0;var i=Oe,s=E0(),o=cn,u=Bu,l=Rh,c=Mn,f=e8(),m={accept:"image/*",multiple:!1},v=function(C){t(b,C);function b(k){var P,y=C.call(this,k)||this;y.handleTextChange=function(_){var a=y.props.onChange;a(_)},y.handlePaste=function(_){return n(y,void 0,void 0,function(){var a;return r(this,function(d){switch(d.label){case 0:return a=this.props.paste,!a||!a.saveImage?[2]:[4,this.commandOrchestrator.executePasteCommand(_)];case 1:return d.sent(),[2]}})})},y.handleDrop=function(_){return n(y,void 0,void 0,function(){var a;return r(this,function(d){switch(d.label){case 0:return a=this.props.paste,!a||!a.saveImage?[2]:[4,this.commandOrchestrator.executeDropCommand(_)];case 1:return d.sent(),[2]}})})},y.handleImageSelection=function(_){return n(y,void 0,void 0,function(){var a;return r(this,function(d){switch(d.label){case 0:return a=this.props.paste,!a||!a.saveImage?[2]:[4,this.commandOrchestrator.executeSelectImageCommand(_)];case 1:return d.sent(),[2]}})})},y.handleTabChange=function(_){var a=y.props.onTabChange;a(_)},y.handleCommand=function(_){return n(y,void 0,void 0,function(){return r(this,function(a){switch(a.label){case 0:return[4,this.commandOrchestrator.executeCommand(_)];case 1:return a.sent(),[2]}})})},y.finalRefs=e({},k.refs||{}),y.finalRefs.textarea||(y.finalRefs.textarea=i.createRef()),y.finalRefs.preview||(y.finalRefs.preview=i.createRef()),y.commandOrchestrator=new f.CommandOrchestrator(y.props.commands,y.finalRefs.textarea,y.props.l18n,y.props.paste?e(e({},m),y.props.paste):void 0);var g=Math.min(k.maxEditorHeight,k.minEditorHeight);return y.state={editorHeight:(P=k.initialEditorHeight)!==null&&P!==void 0?P:g},y}return b.prototype.render=function(){var k=this,P,y,g=this.props,_=g.getIcon,a=g.toolbarCommands,d=g.classes,h=g.loadingPreview,p=g.readOnly,w=g.disablePreview,T=g.value,S=g.l18n,I=g.minPreviewHeight,O=g.heightUnits,D=g.childProps,$=g.selectedTab,L=g.generateMarkdownPreview,E=g.loadSuggestions,N=g.suggestionTriggerCharacters,A=g.textAreaComponent,M=D||{},V=a.map(function(F){return F.map(function(te){var he=k.commandOrchestrator.getCommand(te);return{commandName:te,buttonContent:he.icon?he.icon(_):_(te),buttonProps:he.buttonProps,buttonComponentClass:he.buttonComponentClass}})});return i.createElement("div",{className:c.classNames("react-mde","react-mde-tabbed-layout",d==null?void 0:d.reactMde)},i.createElement(s.Toolbar,{classes:d==null?void 0:d.toolbar,buttons:V,onCommand:this.handleCommand,onTabChange:this.handleTabChange,tab:$,readOnly:p,disablePreview:w,l18n:S,buttonProps:M.commandButtons,writeButtonProps:M.writeButton,previewButtonProps:M.previewButton}),i.createElement("div",{className:c.classNames({invisible:$!=="write"})},i.createElement(s.TextArea,{classes:d==null?void 0:d.textArea,suggestionsDropdownClasses:d==null?void 0:d.suggestionsDropdown,suggestionsAutoplace:this.props.suggestionsAutoplace,refObject:this.finalRefs.textarea,onChange:this.handleTextChange,onPaste:this.handlePaste,onDrop:this.handleDrop,readOnly:p,textAreaComponent:A,textAreaProps:D&&D.textArea,height:this.state.editorHeight,heightUnits:this.props.heightUnits,value:T,suggestionTriggerCharacters:N,loadSuggestions:E,onPossibleKeyCommand:this.commandOrchestrator.handlePossibleKeyCommand}),this.props.paste&&i.createElement("label",{className:c.classNames("image-tip")},i.createElement("input",{className:c.classNames("image-input"),type:"file",accept:(P=this.props.paste.accept)!==null&&P!==void 0?P:m.accept,multiple:(y=this.props.paste.multiple)!==null&&y!==void 0?y:m.multiple,onChange:this.handleImageSelection}),i.createElement("span",null,S.pasteDropSelect))),$!=="write"&&i.createElement(s.Preview,{classes:d==null?void 0:d.preview,refObject:this.finalRefs.preview,loadingPreview:h,minHeight:I,heightUnits:O,generateMarkdownPreview:L,markdown:T}))},b.defaultProps={commands:o.getDefaultCommandMap(),toolbarCommands:o.getDefaultToolbarCommands(),getIcon:function(k){return i.createElement(l.SvgIcon,{icon:k})},readOnly:!1,l18n:u.enL18n,minEditorHeight:200,maxEditorHeight:500,minPreviewHeight:200,heightUnits:"px",selectedTab:"write",disablePreview:!1,suggestionTriggerCharacters:["@"],suggestionsAutoplace:!1},b}(i.Component);return Qi.ReactMde=v,Qi}var Xp;function E0(){return Xp||(Xp=1,function(t){var e=Z&&Z.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=Z&&Z.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(io,t),n(so,t),n(oo,t),n(bu,t),n(Iu,t),n(Nu,t),n(t8(),t),n(uo,t)}(Hl)),Hl}var Yp;function C0(){return Yp||(Yp=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultToolbarCommands=t.getDefaultCommandMap=t.MdeFontAwesomeIcon=t.SvgIcon=t.MarkdownUtil=t.ToolbarButtonGroup=t.Toolbar=t.Preview=t.SuggestionsDropdown=t.TextArea=void 0;var e=ze;t.MarkdownUtil=e;var n=E0();Object.defineProperty(t,"TextArea",{enumerable:!0,get:function(){return n.TextArea}}),Object.defineProperty(t,"SuggestionsDropdown",{enumerable:!0,get:function(){return n.SuggestionsDropdown}}),Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return n.Preview}}),Object.defineProperty(t,"Toolbar",{enumerable:!0,get:function(){return n.Toolbar}}),Object.defineProperty(t,"ToolbarButtonGroup",{enumerable:!0,get:function(){return n.ToolbarButtonGroup}});var r=Rh;Object.defineProperty(t,"SvgIcon",{enumerable:!0,get:function(){return r.SvgIcon}}),Object.defineProperty(t,"MdeFontAwesomeIcon",{enumerable:!0,get:function(){return r.MdeFontAwesomeIcon}});var i=cn;Object.defineProperty(t,"getDefaultCommandMap",{enumerable:!0,get:function(){return i.getDefaultCommandMap}}),Object.defineProperty(t,"getDefaultToolbarCommands",{enumerable:!0,get:function(){return i.getDefaultToolbarCommands}}),t.default=n.ReactMde}(Vl)),Vl}var n8=C0();const r8=lu(n8);var T0={exports:{}};(function(t){(function(){function e(a){var d={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(a===!1)return JSON.parse(JSON.stringify(d));var h={};for(var p in d)d.hasOwnProperty(p)&&(h[p]=d[p].defaultValue);return h}function n(){var a=e(!0),d={};for(var h in a)a.hasOwnProperty(h)&&(d[h]=!0);return d}var r={},i={},s={},o=e(!0),u="vanilla",l={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:e(!0),allOn:n()};r.helper={},r.extensions={},r.setOption=function(a,d){return o[a]=d,this},r.getOption=function(a){return o[a]},r.getOptions=function(){return o},r.resetOptions=function(){o=e(!0)},r.setFlavor=function(a){if(!l.hasOwnProperty(a))throw Error(a+" flavor was not found");r.resetOptions();var d=l[a];u=a;for(var h in d)d.hasOwnProperty(h)&&(o[h]=d[h])},r.getFlavor=function(){return u},r.getFlavorOptions=function(a){if(l.hasOwnProperty(a))return l[a]},r.getDefaultOptions=function(a){return e(a)},r.subParser=function(a,d){if(r.helper.isString(a))if(typeof d<"u")i[a]=d;else{if(i.hasOwnProperty(a))return i[a];throw Error("SubParser named "+a+" not registered!")}},r.extension=function(a,d){if(!r.helper.isString(a))throw Error("Extension 'name' must be a string");if(a=r.helper.stdExtName(a),r.helper.isUndefined(d)){if(!s.hasOwnProperty(a))throw Error("Extension named "+a+" is not registered!");return s[a]}else{typeof d=="function"&&(d=d()),r.helper.isArray(d)||(d=[d]);var h=c(d,a);if(h.valid)s[a]=d;else throw Error(h.error)}},r.getAllExtensions=function(){return s},r.removeExtension=function(a){delete s[a]},r.resetExtensions=function(){s={}};function c(a,d){var h=d?"Error in "+d+" extension->":"Error in unnamed extension",p={valid:!0,error:""};r.helper.isArray(a)||(a=[a]);for(var w=0;w<a.length;++w){var T=h+" sub-extension "+w+": ",S=a[w];if(typeof S!="object")return p.valid=!1,p.error=T+"must be an object, but "+typeof S+" given",p;if(!r.helper.isString(S.type))return p.valid=!1,p.error=T+'property "type" must be a string, but '+typeof S.type+" given",p;var I=S.type=S.type.toLowerCase();if(I==="language"&&(I=S.type="lang"),I==="html"&&(I=S.type="output"),I!=="lang"&&I!=="output"&&I!=="listener")return p.valid=!1,p.error=T+"type "+I+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',p;if(I==="listener"){if(r.helper.isUndefined(S.listeners))return p.valid=!1,p.error=T+'. Extensions of type "listener" must have a property called "listeners"',p}else if(r.helper.isUndefined(S.filter)&&r.helper.isUndefined(S.regex))return p.valid=!1,p.error=T+I+' extensions must define either a "regex" property or a "filter" method',p;if(S.listeners){if(typeof S.listeners!="object")return p.valid=!1,p.error=T+'"listeners" property must be an object but '+typeof S.listeners+" given",p;for(var O in S.listeners)if(S.listeners.hasOwnProperty(O)&&typeof S.listeners[O]!="function")return p.valid=!1,p.error=T+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+O+" must be a function but "+typeof S.listeners[O]+" given",p}if(S.filter){if(typeof S.filter!="function")return p.valid=!1,p.error=T+'"filter" must be a function, but '+typeof S.filter+" given",p}else if(S.regex){if(r.helper.isString(S.regex)&&(S.regex=new RegExp(S.regex,"g")),!(S.regex instanceof RegExp))return p.valid=!1,p.error=T+'"regex" property must either be a string or a RegExp object, but '+typeof S.regex+" given",p;if(r.helper.isUndefined(S.replace))return p.valid=!1,p.error=T+'"regex" extensions must implement a replace string or function',p}}return p}r.validateExtension=function(a){var d=c(a,null);return d.valid?!0:(console.warn(d.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(a){return typeof a=="string"||a instanceof String},r.helper.isFunction=function(a){var d={};return a&&d.toString.call(a)==="[object Function]"},r.helper.isArray=function(a){return Array.isArray(a)},r.helper.isUndefined=function(a){return typeof a>"u"},r.helper.forEach=function(a,d){if(r.helper.isUndefined(a))throw new Error("obj param is required");if(r.helper.isUndefined(d))throw new Error("callback param is required");if(!r.helper.isFunction(d))throw new Error("callback param must be a function/closure");if(typeof a.forEach=="function")a.forEach(d);else if(r.helper.isArray(a))for(var h=0;h<a.length;h++)d(a[h],h,a);else if(typeof a=="object")for(var p in a)a.hasOwnProperty(p)&&d(a[p],p,a);else throw new Error("obj does not seem to be an array or an iterable object")},r.helper.stdExtName=function(a){return a.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function f(a,d){var h=d.charCodeAt(0);return"¨E"+h+"E"}r.helper.escapeCharactersCallback=f,r.helper.escapeCharacters=function(a,d,h){var p="(["+d.replace(/([\[\]\\])/g,"\\$1")+"])";h&&(p="\\\\"+p);var w=new RegExp(p,"g");return a=a.replace(w,f),a},r.helper.unescapeHTMLEntities=function(a){return a.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var m=function(a,d,h,p){var w=p||"",T=w.indexOf("g")>-1,S=new RegExp(d+"|"+h,"g"+w.replace(/g/g,"")),I=new RegExp(d,w.replace(/g/g,"")),O=[],D,$,L,E,N;do for(D=0;L=S.exec(a);)if(I.test(L[0]))D++||($=S.lastIndex,E=$-L[0].length);else if(D&&!--D){N=L.index+L[0].length;var A={left:{start:E,end:$},match:{start:$,end:L.index},right:{start:L.index,end:N},wholeMatch:{start:E,end:N}};if(O.push(A),!T)return O}while(D&&(S.lastIndex=$));return O};r.helper.matchRecursiveRegExp=function(a,d,h,p){for(var w=m(a,d,h,p),T=[],S=0;S<w.length;++S)T.push([a.slice(w[S].wholeMatch.start,w[S].wholeMatch.end),a.slice(w[S].match.start,w[S].match.end),a.slice(w[S].left.start,w[S].left.end),a.slice(w[S].right.start,w[S].right.end)]);return T},r.helper.replaceRecursiveRegExp=function(a,d,h,p,w){if(!r.helper.isFunction(d)){var T=d;d=function(){return T}}var S=m(a,h,p,w),I=a,O=S.length;if(O>0){var D=[];S[0].wholeMatch.start!==0&&D.push(a.slice(0,S[0].wholeMatch.start));for(var $=0;$<O;++$)D.push(d(a.slice(S[$].wholeMatch.start,S[$].wholeMatch.end),a.slice(S[$].match.start,S[$].match.end),a.slice(S[$].left.start,S[$].left.end),a.slice(S[$].right.start,S[$].right.end))),$<O-1&&D.push(a.slice(S[$].wholeMatch.end,S[$+1].wholeMatch.start));S[O-1].wholeMatch.end<a.length&&D.push(a.slice(S[O-1].wholeMatch.end)),I=D.join("")}return I},r.helper.regexIndexOf=function(a,d,h){if(!r.helper.isString(a))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(d instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var p=a.substring(h||0).search(d);return p>=0?p+(h||0):p},r.helper.splitAtIndex=function(a,d){if(!r.helper.isString(a))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[a.substring(0,d),a.substring(d)]},r.helper.encodeEmailAddress=function(a){var d=[function(h){return"&#"+h.charCodeAt(0)+";"},function(h){return"&#x"+h.charCodeAt(0).toString(16)+";"},function(h){return h}];return a=a.replace(/./g,function(h){if(h==="@")h=d[Math.floor(Math.random()*2)](h);else{var p=Math.random();h=p>.9?d[2](h):p>.45?d[1](h):d[0](h)}return h}),a},r.helper.padEnd=function(d,h,p){return h=h>>0,p=String(p||" "),d.length>h?String(d):(h=h-d.length,h>p.length&&(p+=p.repeat(h/p.length)),String(d)+p.slice(0,h))},typeof console>"u"&&(console={warn:function(a){alert(a)},log:function(a){alert(a)},error:function(a){throw a}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},r.Converter=function(a){var d={},h=[],p=[],w={},T=u,S={parsed:{},raw:"",format:""};I();function I(){a=a||{};for(var E in o)o.hasOwnProperty(E)&&(d[E]=o[E]);if(typeof a=="object")for(var N in a)a.hasOwnProperty(N)&&(d[N]=a[N]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof a+" was passed instead.");d.extensions&&r.helper.forEach(d.extensions,O)}function O(E,N){if(N=N||null,r.helper.isString(E))if(E=r.helper.stdExtName(E),N=E,r.extensions[E]){console.warn("DEPRECATION WARNING: "+E+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),D(r.extensions[E],E);return}else if(!r.helper.isUndefined(s[E]))E=s[E];else throw Error('Extension "'+E+'" could not be loaded. It was either not found or is not a valid extension.');typeof E=="function"&&(E=E()),r.helper.isArray(E)||(E=[E]);var A=c(E,N);if(!A.valid)throw Error(A.error);for(var M=0;M<E.length;++M){switch(E[M].type){case"lang":h.push(E[M]);break;case"output":p.push(E[M]);break}if(E[M].hasOwnProperty("listeners"))for(var V in E[M].listeners)E[M].listeners.hasOwnProperty(V)&&$(V,E[M].listeners[V])}}function D(E,N){typeof E=="function"&&(E=E(new r.Converter)),r.helper.isArray(E)||(E=[E]);var A=c(E,N);if(!A.valid)throw Error(A.error);for(var M=0;M<E.length;++M)switch(E[M].type){case"lang":h.push(E[M]);break;case"output":p.push(E[M]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function $(E,N){if(!r.helper.isString(E))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof E+" given");if(typeof N!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof N+" given");w.hasOwnProperty(E)||(w[E]=[]),w[E].push(N)}function L(E){var N=E.match(/^\s*/)[0].length,A=new RegExp("^\\s{0,"+N+"}","gm");return E.replace(A,"")}this._dispatch=function(N,A,M,V){if(w.hasOwnProperty(N))for(var F=0;F<w[N].length;++F){var te=w[N][F](N,A,this,M,V);te&&typeof te<"u"&&(A=te)}return A},this.listen=function(E,N){return $(E,N),this},this.makeHtml=function(E){if(!E)return E;var N={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:h,outputModifiers:p,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return E=E.replace(/¨/g,"¨T"),E=E.replace(/\$/g,"¨D"),E=E.replace(/\r\n/g,`
`),E=E.replace(/\r/g,`
`),E=E.replace(/\u00A0/g,"&nbsp;"),d.smartIndentationFix&&(E=L(E)),E=`

`+E+`

`,E=r.subParser("detab")(E,d,N),E=E.replace(/^[ \t]+$/mg,""),r.helper.forEach(h,function(A){E=r.subParser("runExtension")(A,E,d,N)}),E=r.subParser("metadata")(E,d,N),E=r.subParser("hashPreCodeTags")(E,d,N),E=r.subParser("githubCodeBlocks")(E,d,N),E=r.subParser("hashHTMLBlocks")(E,d,N),E=r.subParser("hashCodeTags")(E,d,N),E=r.subParser("stripLinkDefinitions")(E,d,N),E=r.subParser("blockGamut")(E,d,N),E=r.subParser("unhashHTMLSpans")(E,d,N),E=r.subParser("unescapeSpecialChars")(E,d,N),E=E.replace(/¨D/g,"$$"),E=E.replace(/¨T/g,"¨"),E=r.subParser("completeHTMLDocument")(E,d,N),r.helper.forEach(p,function(A){E=r.subParser("runExtension")(A,E,d,N)}),S=N.metadata,E},this.makeMarkdown=this.makeMd=function(E,N){if(E=E.replace(/\r\n/g,`
`),E=E.replace(/\r/g,`
`),E=E.replace(/>[ \t]+</,">¨NBSP;<"),!N)if(window&&window.document)N=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var A=N.createElement("div");A.innerHTML=E;var M={preList:de(A)};he(A);for(var V=A.childNodes,F="",te=0;te<V.length;te++)F+=r.subParser("makeMarkdown.node")(V[te],M);function he(ye){for(var pe=0;pe<ye.childNodes.length;++pe){var Ne=ye.childNodes[pe];Ne.nodeType===3?!/\S/.test(Ne.nodeValue)&&!/^[ ]+$/.test(Ne.nodeValue)?(ye.removeChild(Ne),--pe):(Ne.nodeValue=Ne.nodeValue.split(`
`).join(" "),Ne.nodeValue=Ne.nodeValue.replace(/(\s)+/g,"$1")):Ne.nodeType===1&&he(Ne)}}function de(ye){for(var pe=ye.querySelectorAll("pre"),Ne=[],B=0;B<pe.length;++B)if(pe[B].childElementCount===1&&pe[B].firstChild.tagName.toLowerCase()==="code"){var R=pe[B].firstChild.innerHTML.trim(),U=pe[B].firstChild.getAttribute("data-language")||"";if(U==="")for(var G=pe[B].firstChild.className.split(" "),De=0;De<G.length;++De){var ke=G[De].match(/^language-(.+)$/);if(ke!==null){U=ke[1];break}}R=r.helper.unescapeHTMLEntities(R),Ne.push(R),pe[B].outerHTML='<precode language="'+U+'" precodenum="'+B.toString()+'"></precode>'}else Ne.push(pe[B].innerHTML),pe[B].innerHTML="",pe[B].setAttribute("prenum",B.toString());return Ne}return F},this.setOption=function(E,N){d[E]=N},this.getOption=function(E){return d[E]},this.getOptions=function(){return d},this.addExtension=function(E,N){N=N||null,O(E,N)},this.useExtension=function(E){O(E)},this.setFlavor=function(E){if(!l.hasOwnProperty(E))throw Error(E+" flavor was not found");var N=l[E];T=E;for(var A in N)N.hasOwnProperty(A)&&(d[A]=N[A])},this.getFlavor=function(){return T},this.removeExtension=function(E){r.helper.isArray(E)||(E=[E]);for(var N=0;N<E.length;++N){for(var A=E[N],M=0;M<h.length;++M)h[M]===A&&h.splice(M,1);for(var V=0;V<p.length;++V)p[V]===A&&p.splice(V,1)}},this.getAllExtensions=function(){return{language:h,output:p}},this.getMetadata=function(E){return E?S.raw:S.parsed},this.getMetadataFormat=function(){return S.format},this._setMetadataPair=function(E,N){S.parsed[E]=N},this._setMetadataFormat=function(E){S.format=E},this._setMetadataRaw=function(E){S.raw=E}},r.subParser("anchors",function(a,d,h){a=h.converter._dispatch("anchors.before",a,d,h);var p=function(w,T,S,I,O,D,$){if(r.helper.isUndefined($)&&($=""),S=S.toLowerCase(),w.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)I="";else if(!I)if(S||(S=T.toLowerCase().replace(/ ?\n/g," ")),I="#"+S,!r.helper.isUndefined(h.gUrls[S]))I=h.gUrls[S],r.helper.isUndefined(h.gTitles[S])||($=h.gTitles[S]);else return w;I=I.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var L='<a href="'+I+'"';return $!==""&&$!==null&&($=$.replace(/"/g,"&quot;"),$=$.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),L+=' title="'+$+'"'),d.openLinksInNewWindow&&!/^#/.test(I)&&(L+=' rel="noopener noreferrer" target="¨E95Eblank"'),L+=">"+T+"</a>",L};return a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,p),a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,p),a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,p),a=a.replace(/\[([^\[\]]+)]()()()()()/g,p),d.ghMentions&&(a=a.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(w,T,S,I,O){if(S==="\\")return T+I;if(!r.helper.isString(d.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var D=d.ghMentionsLink.replace(/\{u}/g,O),$="";return d.openLinksInNewWindow&&($=' rel="noopener noreferrer" target="¨E95Eblank"'),T+'<a href="'+D+'"'+$+">"+I+"</a>"})),a=h.converter._dispatch("anchors.after",a,d,h),a});var v=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,C=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,b=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,k=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,P=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,y=function(a){return function(d,h,p,w,T,S,I){p=p.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var O=p,D="",$="",L=h||"",E=I||"";return/^www\./i.test(p)&&(p=p.replace(/^www\./i,"http://www.")),a.excludeTrailingPunctuationFromURLs&&S&&(D=S),a.openLinksInNewWindow&&($=' rel="noopener noreferrer" target="¨E95Eblank"'),L+'<a href="'+p+'"'+$+">"+O+"</a>"+D+E}},g=function(a,d){return function(h,p,w){var T="mailto:";return p=p||"",w=r.subParser("unescapeSpecialChars")(w,a,d),a.encodeEmails?(T=r.helper.encodeEmailAddress(T+w),w=r.helper.encodeEmailAddress(w)):T=T+w,p+'<a href="'+T+'">'+w+"</a>"}};r.subParser("autoLinks",function(a,d,h){return a=h.converter._dispatch("autoLinks.before",a,d,h),a=a.replace(b,y(d)),a=a.replace(P,g(d,h)),a=h.converter._dispatch("autoLinks.after",a,d,h),a}),r.subParser("simplifiedAutoLinks",function(a,d,h){return d.simplifiedAutoLink&&(a=h.converter._dispatch("simplifiedAutoLinks.before",a,d,h),d.excludeTrailingPunctuationFromURLs?a=a.replace(C,y(d)):a=a.replace(v,y(d)),a=a.replace(k,g(d,h)),a=h.converter._dispatch("simplifiedAutoLinks.after",a,d,h)),a}),r.subParser("blockGamut",function(a,d,h){return a=h.converter._dispatch("blockGamut.before",a,d,h),a=r.subParser("blockQuotes")(a,d,h),a=r.subParser("headers")(a,d,h),a=r.subParser("horizontalRule")(a,d,h),a=r.subParser("lists")(a,d,h),a=r.subParser("codeBlocks")(a,d,h),a=r.subParser("tables")(a,d,h),a=r.subParser("hashHTMLBlocks")(a,d,h),a=r.subParser("paragraphs")(a,d,h),a=h.converter._dispatch("blockGamut.after",a,d,h),a}),r.subParser("blockQuotes",function(a,d,h){a=h.converter._dispatch("blockQuotes.before",a,d,h),a=a+`

`;var p=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return d.splitAdjacentBlockquotes&&(p=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),a=a.replace(p,function(w){return w=w.replace(/^[ \t]*>[ \t]?/gm,""),w=w.replace(/¨0/g,""),w=w.replace(/^[ \t]+$/gm,""),w=r.subParser("githubCodeBlocks")(w,d,h),w=r.subParser("blockGamut")(w,d,h),w=w.replace(/(^|\n)/g,"$1  "),w=w.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(T,S){var I=S;return I=I.replace(/^  /mg,"¨0"),I=I.replace(/¨0/g,""),I}),r.subParser("hashBlock")(`<blockquote>
`+w+`
</blockquote>`,d,h)}),a=h.converter._dispatch("blockQuotes.after",a,d,h),a}),r.subParser("codeBlocks",function(a,d,h){a=h.converter._dispatch("codeBlocks.before",a,d,h),a+="¨0";var p=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g;return a=a.replace(p,function(w,T,S){var I=T,O=S,D=`
`;return I=r.subParser("outdent")(I,d,h),I=r.subParser("encodeCode")(I,d,h),I=r.subParser("detab")(I,d,h),I=I.replace(/^\n+/g,""),I=I.replace(/\n+$/g,""),d.omitExtraWLInCodeBlocks&&(D=""),I="<pre><code>"+I+D+"</code></pre>",r.subParser("hashBlock")(I,d,h)+O}),a=a.replace(/¨0/,""),a=h.converter._dispatch("codeBlocks.after",a,d,h),a}),r.subParser("codeSpans",function(a,d,h){return a=h.converter._dispatch("codeSpans.before",a,d,h),typeof a>"u"&&(a=""),a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(p,w,T,S){var I=S;return I=I.replace(/^([ \t]*)/g,""),I=I.replace(/[ \t]*$/g,""),I=r.subParser("encodeCode")(I,d,h),I=w+"<code>"+I+"</code>",I=r.subParser("hashHTMLSpans")(I,d,h),I}),a=h.converter._dispatch("codeSpans.after",a,d,h),a}),r.subParser("completeHTMLDocument",function(a,d,h){if(!d.completeHTMLDocument)return a;a=h.converter._dispatch("completeHTMLDocument.before",a,d,h);var p="html",w=`<!DOCTYPE HTML>
`,T="",S=`<meta charset="utf-8">
`,I="",O="";typeof h.metadata.parsed.doctype<"u"&&(w="<!DOCTYPE "+h.metadata.parsed.doctype+`>
`,p=h.metadata.parsed.doctype.toString().toLowerCase(),(p==="html"||p==="html5")&&(S='<meta charset="utf-8">'));for(var D in h.metadata.parsed)if(h.metadata.parsed.hasOwnProperty(D))switch(D.toLowerCase()){case"doctype":break;case"title":T="<title>"+h.metadata.parsed.title+`</title>
`;break;case"charset":p==="html"||p==="html5"?S='<meta charset="'+h.metadata.parsed.charset+`">
`:S='<meta name="charset" content="'+h.metadata.parsed.charset+`">
`;break;case"language":case"lang":I=' lang="'+h.metadata.parsed[D]+'"',O+='<meta name="'+D+'" content="'+h.metadata.parsed[D]+`">
`;break;default:O+='<meta name="'+D+'" content="'+h.metadata.parsed[D]+`">
`}return a=w+"<html"+I+`>
<head>
`+T+S+O+`</head>
<body>
`+a.trim()+`
</body>
</html>`,a=h.converter._dispatch("completeHTMLDocument.after",a,d,h),a}),r.subParser("detab",function(a,d,h){return a=h.converter._dispatch("detab.before",a,d,h),a=a.replace(/\t(?=\t)/g,"    "),a=a.replace(/\t/g,"¨A¨B"),a=a.replace(/¨B(.+?)¨A/g,function(p,w){for(var T=w,S=4-T.length%4,I=0;I<S;I++)T+=" ";return T}),a=a.replace(/¨A/g,"    "),a=a.replace(/¨B/g,""),a=h.converter._dispatch("detab.after",a,d,h),a}),r.subParser("ellipsis",function(a,d,h){return d.ellipsis&&(a=h.converter._dispatch("ellipsis.before",a,d,h),a=a.replace(/\.\.\./g,"…"),a=h.converter._dispatch("ellipsis.after",a,d,h)),a}),r.subParser("emoji",function(a,d,h){if(!d.emoji)return a;a=h.converter._dispatch("emoji.before",a,d,h);var p=/:([\S]+?):/g;return a=a.replace(p,function(w,T){return r.helper.emojis.hasOwnProperty(T)?r.helper.emojis[T]:w}),a=h.converter._dispatch("emoji.after",a,d,h),a}),r.subParser("encodeAmpsAndAngles",function(a,d,h){return a=h.converter._dispatch("encodeAmpsAndAngles.before",a,d,h),a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a=a.replace(/<(?![a-z\/?$!])/gi,"&lt;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=h.converter._dispatch("encodeAmpsAndAngles.after",a,d,h),a}),r.subParser("encodeBackslashEscapes",function(a,d,h){return a=h.converter._dispatch("encodeBackslashEscapes.before",a,d,h),a=a.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),a=a.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,r.helper.escapeCharactersCallback),a=h.converter._dispatch("encodeBackslashEscapes.after",a,d,h),a}),r.subParser("encodeCode",function(a,d,h){return a=h.converter._dispatch("encodeCode.before",a,d,h),a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),a=h.converter._dispatch("encodeCode.after",a,d,h),a}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(a,d,h){a=h.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",a,d,h);var p=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,w=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return a=a.replace(p,function(T){return T.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),a=a.replace(w,function(T){return T.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),a=h.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",a,d,h),a}),r.subParser("githubCodeBlocks",function(a,d,h){return d.ghCodeBlocks?(a=h.converter._dispatch("githubCodeBlocks.before",a,d,h),a+="¨0",a=a.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(p,w,T,S){var I=d.omitExtraWLInCodeBlocks?"":`
`;return S=r.subParser("encodeCode")(S,d,h),S=r.subParser("detab")(S,d,h),S=S.replace(/^\n+/g,""),S=S.replace(/\n+$/g,""),S="<pre><code"+(T?' class="'+T+" language-"+T+'"':"")+">"+S+I+"</code></pre>",S=r.subParser("hashBlock")(S,d,h),`

¨G`+(h.ghCodeBlocks.push({text:p,codeblock:S})-1)+`G

`}),a=a.replace(/¨0/,""),h.converter._dispatch("githubCodeBlocks.after",a,d,h)):a}),r.subParser("hashBlock",function(a,d,h){return a=h.converter._dispatch("hashBlock.before",a,d,h),a=a.replace(/(^\n+|\n+$)/g,""),a=`

¨K`+(h.gHtmlBlocks.push(a)-1)+`K

`,a=h.converter._dispatch("hashBlock.after",a,d,h),a}),r.subParser("hashCodeTags",function(a,d,h){a=h.converter._dispatch("hashCodeTags.before",a,d,h);var p=function(w,T,S,I){var O=S+r.subParser("encodeCode")(T,d,h)+I;return"¨C"+(h.gHtmlSpans.push(O)-1)+"C"};return a=r.helper.replaceRecursiveRegExp(a,p,"<code\\b[^>]*>","</code>","gim"),a=h.converter._dispatch("hashCodeTags.after",a,d,h),a}),r.subParser("hashElement",function(a,d,h){return function(p,w){var T=w;return T=T.replace(/\n\n/g,`
`),T=T.replace(/^\n/,""),T=T.replace(/\n+$/g,""),T=`

¨K`+(h.gHtmlBlocks.push(T)-1)+`K

`,T}}),r.subParser("hashHTMLBlocks",function(a,d,h){a=h.converter._dispatch("hashHTMLBlocks.before",a,d,h);var p=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],w=function(E,N,A,M){var V=E;return A.search(/\bmarkdown\b/)!==-1&&(V=A+h.converter.makeHtml(N)+M),`

¨K`+(h.gHtmlBlocks.push(V)-1)+`K

`};d.backslashEscapesHTMLTags&&(a=a.replace(/\\<(\/?[^>]+?)>/g,function(E,N){return"&lt;"+N+"&gt;"}));for(var T=0;T<p.length;++T)for(var S,I=new RegExp("^ {0,3}(<"+p[T]+"\\b[^>]*>)","im"),O="<"+p[T]+"\\b[^>]*>",D="</"+p[T]+">";(S=r.helper.regexIndexOf(a,I))!==-1;){var $=r.helper.splitAtIndex(a,S),L=r.helper.replaceRecursiveRegExp($[1],w,O,D,"im");if(L===$[1])break;a=$[0].concat(L)}return a=a.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(a,d,h)),a=r.helper.replaceRecursiveRegExp(a,function(E){return`

¨K`+(h.gHtmlBlocks.push(E)-1)+`K

`},"^ {0,3}<!--","-->","gm"),a=a.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(a,d,h)),a=h.converter._dispatch("hashHTMLBlocks.after",a,d,h),a}),r.subParser("hashHTMLSpans",function(a,d,h){a=h.converter._dispatch("hashHTMLSpans.before",a,d,h);function p(w){return"¨C"+(h.gHtmlSpans.push(w)-1)+"C"}return a=a.replace(/<[^>]+?\/>/gi,function(w){return p(w)}),a=a.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(w){return p(w)}),a=a.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(w){return p(w)}),a=a.replace(/<[^>]+?>/gi,function(w){return p(w)}),a=h.converter._dispatch("hashHTMLSpans.after",a,d,h),a}),r.subParser("unhashHTMLSpans",function(a,d,h){a=h.converter._dispatch("unhashHTMLSpans.before",a,d,h);for(var p=0;p<h.gHtmlSpans.length;++p){for(var w=h.gHtmlSpans[p],T=0;/¨C(\d+)C/.test(w);){var S=RegExp.$1;if(w=w.replace("¨C"+S+"C",h.gHtmlSpans[S]),T===10){console.error("maximum nesting of 10 spans reached!!!");break}++T}a=a.replace("¨C"+p+"C",w)}return a=h.converter._dispatch("unhashHTMLSpans.after",a,d,h),a}),r.subParser("hashPreCodeTags",function(a,d,h){a=h.converter._dispatch("hashPreCodeTags.before",a,d,h);var p=function(w,T,S,I){var O=S+r.subParser("encodeCode")(T,d,h)+I;return`

¨G`+(h.ghCodeBlocks.push({text:w,codeblock:O})-1)+`G

`};return a=r.helper.replaceRecursiveRegExp(a,p,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),a=h.converter._dispatch("hashPreCodeTags.after",a,d,h),a}),r.subParser("headers",function(a,d,h){a=h.converter._dispatch("headers.before",a,d,h);var p=isNaN(parseInt(d.headerLevelStart))?1:parseInt(d.headerLevelStart),w=d.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,T=d.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;a=a.replace(w,function(O,D){var $=r.subParser("spanGamut")(D,d,h),L=d.noHeaderId?"":' id="'+I(D)+'"',E=p,N="<h"+E+L+">"+$+"</h"+E+">";return r.subParser("hashBlock")(N,d,h)}),a=a.replace(T,function(O,D){var $=r.subParser("spanGamut")(D,d,h),L=d.noHeaderId?"":' id="'+I(D)+'"',E=p+1,N="<h"+E+L+">"+$+"</h"+E+">";return r.subParser("hashBlock")(N,d,h)});var S=d.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;a=a.replace(S,function(O,D,$){var L=$;d.customizedHeaderId&&(L=$.replace(/\s?\{([^{]+?)}\s*$/,""));var E=r.subParser("spanGamut")(L,d,h),N=d.noHeaderId?"":' id="'+I($)+'"',A=p-1+D.length,M="<h"+A+N+">"+E+"</h"+A+">";return r.subParser("hashBlock")(M,d,h)});function I(O){var D,$;if(d.customizedHeaderId){var L=O.match(/\{([^{]+?)}\s*$/);L&&L[1]&&(O=L[1])}return D=O,r.helper.isString(d.prefixHeaderId)?$=d.prefixHeaderId:d.prefixHeaderId===!0?$="section-":$="",d.rawPrefixHeaderId||(D=$+D),d.ghCompatibleHeaderId?D=D.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():d.rawHeaderId?D=D.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():D=D.replace(/[^\w]/g,"").toLowerCase(),d.rawPrefixHeaderId&&(D=$+D),h.hashLinkCounts[D]?D=D+"-"+h.hashLinkCounts[D]++:h.hashLinkCounts[D]=1,D}return a=h.converter._dispatch("headers.after",a,d,h),a}),r.subParser("horizontalRule",function(a,d,h){a=h.converter._dispatch("horizontalRule.before",a,d,h);var p=r.subParser("hashBlock")("<hr />",d,h);return a=a.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,p),a=a.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,p),a=a.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,p),a=h.converter._dispatch("horizontalRule.after",a,d,h),a}),r.subParser("images",function(a,d,h){a=h.converter._dispatch("images.before",a,d,h);var p=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,w=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,T=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,S=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,I=/!\[([^\[\]]+)]()()()()()/g;function O($,L,E,N,A,M,V,F){return N=N.replace(/\s/g,""),D($,L,E,N,A,M,V,F)}function D($,L,E,N,A,M,V,F){var te=h.gUrls,he=h.gTitles,de=h.gDimensions;if(E=E.toLowerCase(),F||(F=""),$.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)N="";else if(N===""||N===null)if((E===""||E===null)&&(E=L.toLowerCase().replace(/ ?\n/g," ")),N="#"+E,!r.helper.isUndefined(te[E]))N=te[E],r.helper.isUndefined(he[E])||(F=he[E]),r.helper.isUndefined(de[E])||(A=de[E].width,M=de[E].height);else return $;L=L.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),N=N.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var ye='<img src="'+N+'" alt="'+L+'"';return F&&r.helper.isString(F)&&(F=F.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),ye+=' title="'+F+'"'),A&&M&&(A=A==="*"?"auto":A,M=M==="*"?"auto":M,ye+=' width="'+A+'"',ye+=' height="'+M+'"'),ye+=" />",ye}return a=a.replace(S,D),a=a.replace(T,O),a=a.replace(w,D),a=a.replace(p,D),a=a.replace(I,D),a=h.converter._dispatch("images.after",a,d,h),a}),r.subParser("italicsAndBold",function(a,d,h){a=h.converter._dispatch("italicsAndBold.before",a,d,h);function p(w,T,S){return T+w+S}return d.literalMidWordUnderscores?(a=a.replace(/\b___(\S[\s\S]*?)___\b/g,function(w,T){return p(T,"<strong><em>","</em></strong>")}),a=a.replace(/\b__(\S[\s\S]*?)__\b/g,function(w,T){return p(T,"<strong>","</strong>")}),a=a.replace(/\b_(\S[\s\S]*?)_\b/g,function(w,T){return p(T,"<em>","</em>")})):(a=a.replace(/___(\S[\s\S]*?)___/g,function(w,T){return/\S$/.test(T)?p(T,"<strong><em>","</em></strong>"):w}),a=a.replace(/__(\S[\s\S]*?)__/g,function(w,T){return/\S$/.test(T)?p(T,"<strong>","</strong>"):w}),a=a.replace(/_([^\s_][\s\S]*?)_/g,function(w,T){return/\S$/.test(T)?p(T,"<em>","</em>"):w})),d.literalMidWordAsterisks?(a=a.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(w,T,S){return p(S,T+"<strong><em>","</em></strong>")}),a=a.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(w,T,S){return p(S,T+"<strong>","</strong>")}),a=a.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(w,T,S){return p(S,T+"<em>","</em>")})):(a=a.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(w,T){return/\S$/.test(T)?p(T,"<strong><em>","</em></strong>"):w}),a=a.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(w,T){return/\S$/.test(T)?p(T,"<strong>","</strong>"):w}),a=a.replace(/\*([^\s*][\s\S]*?)\*/g,function(w,T){return/\S$/.test(T)?p(T,"<em>","</em>"):w})),a=h.converter._dispatch("italicsAndBold.after",a,d,h),a}),r.subParser("lists",function(a,d,h){function p(S,I){h.gListLevel++,S=S.replace(/\n{2,}$/,`
`),S+="¨0";var O=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,D=/\n[ \t]*\n(?!¨0)/.test(S);return d.disableForced4SpacesIndentedSublists&&(O=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),S=S.replace(O,function($,L,E,N,A,M,V){V=V&&V.trim()!=="";var F=r.subParser("outdent")(A,d,h),te="";return M&&d.tasklists&&(te=' class="task-list-item" style="list-style-type: none;"',F=F.replace(/^[ \t]*\[(x|X| )?]/m,function(){var he='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return V&&(he+=" checked"),he+=">",he})),F=F.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(he){return"¨A"+he}),L||F.search(/\n{2,}/)>-1?(F=r.subParser("githubCodeBlocks")(F,d,h),F=r.subParser("blockGamut")(F,d,h)):(F=r.subParser("lists")(F,d,h),F=F.replace(/\n$/,""),F=r.subParser("hashHTMLBlocks")(F,d,h),F=F.replace(/\n\n+/g,`

`),D?F=r.subParser("paragraphs")(F,d,h):F=r.subParser("spanGamut")(F,d,h)),F=F.replace("¨A",""),F="<li"+te+">"+F+`</li>
`,F}),S=S.replace(/¨0/g,""),h.gListLevel--,I&&(S=S.replace(/\s+$/,"")),S}function w(S,I){if(I==="ol"){var O=S.match(/^ *(\d+)\./);if(O&&O[1]!=="1")return' start="'+O[1]+'"'}return""}function T(S,I,O){var D=d.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,$=d.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,L=I==="ul"?D:$,E="";if(S.search(L)!==-1)(function A(M){var V=M.search(L),F=w(S,I);V!==-1?(E+=`

<`+I+F+`>
`+p(M.slice(0,V),!!O)+"</"+I+`>
`,I=I==="ul"?"ol":"ul",L=I==="ul"?D:$,A(M.slice(V))):E+=`

<`+I+F+`>
`+p(M,!!O)+"</"+I+`>
`})(S);else{var N=w(S,I);E=`

<`+I+N+`>
`+p(S,!!O)+"</"+I+`>
`}return E}return a=h.converter._dispatch("lists.before",a,d,h),a+="¨0",h.gListLevel?a=a.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(S,I,O){var D=O.search(/[*+-]/g)>-1?"ul":"ol";return T(I,D,!0)}):a=a.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(S,I,O,D){var $=D.search(/[*+-]/g)>-1?"ul":"ol";return T(O,$,!1)}),a=a.replace(/¨0/,""),a=h.converter._dispatch("lists.after",a,d,h),a}),r.subParser("metadata",function(a,d,h){if(!d.metadata)return a;a=h.converter._dispatch("metadata.before",a,d,h);function p(w){h.metadata.raw=w,w=w.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),w=w.replace(/\n {4}/g," "),w.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(T,S,I){return h.metadata.parsed[S]=I,""})}return a=a.replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,function(w,T,S){return p(S),"¨M"}),a=a.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(w,T,S){return T&&(h.metadata.format=T),p(S),"¨M"}),a=a.replace(/¨M/g,""),a=h.converter._dispatch("metadata.after",a,d,h),a}),r.subParser("outdent",function(a,d,h){return a=h.converter._dispatch("outdent.before",a,d,h),a=a.replace(/^(\t|[ ]{1,4})/gm,"¨0"),a=a.replace(/¨0/g,""),a=h.converter._dispatch("outdent.after",a,d,h),a}),r.subParser("paragraphs",function(a,d,h){a=h.converter._dispatch("paragraphs.before",a,d,h),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,"");for(var p=a.split(/\n{2,}/g),w=[],T=p.length,S=0;S<T;S++){var I=p[S];I.search(/¨(K|G)(\d+)\1/g)>=0?w.push(I):I.search(/\S/)>=0&&(I=r.subParser("spanGamut")(I,d,h),I=I.replace(/^([ \t]*)/g,"<p>"),I+="</p>",w.push(I))}for(T=w.length,S=0;S<T;S++){for(var O="",D=w[S],$=!1;/¨(K|G)(\d+)\1/.test(D);){var L=RegExp.$1,E=RegExp.$2;L==="K"?O=h.gHtmlBlocks[E]:$?O=r.subParser("encodeCode")(h.ghCodeBlocks[E].text,d,h):O=h.ghCodeBlocks[E].codeblock,O=O.replace(/\$/g,"$$$$"),D=D.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,O),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(D)&&($=!0)}w[S]=D}return a=w.join(`
`),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),h.converter._dispatch("paragraphs.after",a,d,h)}),r.subParser("runExtension",function(a,d,h,p){if(a.filter)d=a.filter(d,p.converter,h);else if(a.regex){var w=a.regex;w instanceof RegExp||(w=new RegExp(w,"g")),d=d.replace(w,a.replace)}return d}),r.subParser("spanGamut",function(a,d,h){return a=h.converter._dispatch("spanGamut.before",a,d,h),a=r.subParser("codeSpans")(a,d,h),a=r.subParser("escapeSpecialCharsWithinTagAttributes")(a,d,h),a=r.subParser("encodeBackslashEscapes")(a,d,h),a=r.subParser("images")(a,d,h),a=r.subParser("anchors")(a,d,h),a=r.subParser("autoLinks")(a,d,h),a=r.subParser("simplifiedAutoLinks")(a,d,h),a=r.subParser("emoji")(a,d,h),a=r.subParser("underline")(a,d,h),a=r.subParser("italicsAndBold")(a,d,h),a=r.subParser("strikethrough")(a,d,h),a=r.subParser("ellipsis")(a,d,h),a=r.subParser("hashHTMLSpans")(a,d,h),a=r.subParser("encodeAmpsAndAngles")(a,d,h),d.simpleLineBreaks?/\n\n¨K/.test(a)||(a=a.replace(/\n+/g,`<br />
`)):a=a.replace(/  +\n/g,`<br />
`),a=h.converter._dispatch("spanGamut.after",a,d,h),a}),r.subParser("strikethrough",function(a,d,h){function p(w){return d.simplifiedAutoLink&&(w=r.subParser("simplifiedAutoLinks")(w,d,h)),"<del>"+w+"</del>"}return d.strikethrough&&(a=h.converter._dispatch("strikethrough.before",a,d,h),a=a.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(w,T){return p(T)}),a=h.converter._dispatch("strikethrough.after",a,d,h)),a}),r.subParser("stripLinkDefinitions",function(a,d,h){var p=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,w=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm;a+="¨0";var T=function(S,I,O,D,$,L,E){return I=I.toLowerCase(),a.toLowerCase().split(I).length-1<2?S:(O.match(/^data:.+?\/.+?;base64,/)?h.gUrls[I]=O.replace(/\s/g,""):h.gUrls[I]=r.subParser("encodeAmpsAndAngles")(O,d,h),L?L+E:(E&&(h.gTitles[I]=E.replace(/"|'/g,"&quot;")),d.parseImgDimensions&&D&&$&&(h.gDimensions[I]={width:D,height:$}),""))};return a=a.replace(w,T),a=a.replace(p,T),a=a.replace(/¨0/,""),a}),r.subParser("tables",function(a,d,h){if(!d.tables)return a;var p=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,w=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm;function T($){return/^:[ \t]*--*$/.test($)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test($)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test($)?' style="text-align:center;"':""}function S($,L){var E="";return $=$.trim(),(d.tablesHeaderId||d.tableHeaderId)&&(E=' id="'+$.replace(/ /g,"_").toLowerCase()+'"'),$=r.subParser("spanGamut")($,d,h),"<th"+E+L+">"+$+`</th>
`}function I($,L){var E=r.subParser("spanGamut")($,d,h);return"<td"+L+">"+E+`</td>
`}function O($,L){for(var E=`<table>
<thead>
<tr>
`,N=$.length,A=0;A<N;++A)E+=$[A];for(E+=`</tr>
</thead>
<tbody>
`,A=0;A<L.length;++A){E+=`<tr>
`;for(var M=0;M<N;++M)E+=L[A][M];E+=`</tr>
`}return E+=`</tbody>
</table>
`,E}function D($){var L,E=$.split(`
`);for(L=0;L<E.length;++L)/^ {0,3}\|/.test(E[L])&&(E[L]=E[L].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(E[L])&&(E[L]=E[L].replace(/\|[ \t]*$/,"")),E[L]=r.subParser("codeSpans")(E[L],d,h);var N=E[0].split("|").map(function(ye){return ye.trim()}),A=E[1].split("|").map(function(ye){return ye.trim()}),M=[],V=[],F=[],te=[];for(E.shift(),E.shift(),L=0;L<E.length;++L)E[L].trim()!==""&&M.push(E[L].split("|").map(function(ye){return ye.trim()}));if(N.length<A.length)return $;for(L=0;L<A.length;++L)F.push(T(A[L]));for(L=0;L<N.length;++L)r.helper.isUndefined(F[L])&&(F[L]=""),V.push(S(N[L],F[L]));for(L=0;L<M.length;++L){for(var he=[],de=0;de<V.length;++de)r.helper.isUndefined(M[L][de]),he.push(I(M[L][de],F[de]));te.push(he)}return O(V,te)}return a=h.converter._dispatch("tables.before",a,d,h),a=a.replace(/\\(\|)/g,r.helper.escapeCharactersCallback),a=a.replace(p,D),a=a.replace(w,D),a=h.converter._dispatch("tables.after",a,d,h),a}),r.subParser("underline",function(a,d,h){return d.underline&&(a=h.converter._dispatch("underline.before",a,d,h),d.literalMidWordUnderscores?(a=a.replace(/\b___(\S[\s\S]*?)___\b/g,function(p,w){return"<u>"+w+"</u>"}),a=a.replace(/\b__(\S[\s\S]*?)__\b/g,function(p,w){return"<u>"+w+"</u>"})):(a=a.replace(/___(\S[\s\S]*?)___/g,function(p,w){return/\S$/.test(w)?"<u>"+w+"</u>":p}),a=a.replace(/__(\S[\s\S]*?)__/g,function(p,w){return/\S$/.test(w)?"<u>"+w+"</u>":p})),a=a.replace(/(_)/g,r.helper.escapeCharactersCallback),a=h.converter._dispatch("underline.after",a,d,h)),a}),r.subParser("unescapeSpecialChars",function(a,d,h){return a=h.converter._dispatch("unescapeSpecialChars.before",a,d,h),a=a.replace(/¨E(\d+)E/g,function(p,w){var T=parseInt(w);return String.fromCharCode(T)}),a=h.converter._dispatch("unescapeSpecialChars.after",a,d,h),a}),r.subParser("makeMarkdown.blockquote",function(a,d){var h="";if(a.hasChildNodes())for(var p=a.childNodes,w=p.length,T=0;T<w;++T){var S=r.subParser("makeMarkdown.node")(p[T],d);S!==""&&(h+=S)}return h=h.trim(),h="> "+h.split(`
`).join(`
> `),h}),r.subParser("makeMarkdown.codeBlock",function(a,d){var h=a.getAttribute("language"),p=a.getAttribute("precodenum");return"```"+h+`
`+d.preList[p]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(a){return"`"+a.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(a,d){var h="";if(a.hasChildNodes()){h+="*";for(var p=a.childNodes,w=p.length,T=0;T<w;++T)h+=r.subParser("makeMarkdown.node")(p[T],d);h+="*"}return h}),r.subParser("makeMarkdown.header",function(a,d,h){var p=new Array(h+1).join("#"),w="";if(a.hasChildNodes()){w=p+" ";for(var T=a.childNodes,S=T.length,I=0;I<S;++I)w+=r.subParser("makeMarkdown.node")(T[I],d)}return w}),r.subParser("makeMarkdown.hr",function(){return"---"}),r.subParser("makeMarkdown.image",function(a){var d="";return a.hasAttribute("src")&&(d+="!["+a.getAttribute("alt")+"](",d+="<"+a.getAttribute("src")+">",a.hasAttribute("width")&&a.hasAttribute("height")&&(d+=" ="+a.getAttribute("width")+"x"+a.getAttribute("height")),a.hasAttribute("title")&&(d+=' "'+a.getAttribute("title")+'"'),d+=")"),d}),r.subParser("makeMarkdown.links",function(a,d){var h="";if(a.hasChildNodes()&&a.hasAttribute("href")){var p=a.childNodes,w=p.length;h="[";for(var T=0;T<w;++T)h+=r.subParser("makeMarkdown.node")(p[T],d);h+="](",h+="<"+a.getAttribute("href")+">",a.hasAttribute("title")&&(h+=' "'+a.getAttribute("title")+'"'),h+=")"}return h}),r.subParser("makeMarkdown.list",function(a,d,h){var p="";if(!a.hasChildNodes())return"";for(var w=a.childNodes,T=w.length,S=a.getAttribute("start")||1,I=0;I<T;++I)if(!(typeof w[I].tagName>"u"||w[I].tagName.toLowerCase()!=="li")){var O="";h==="ol"?O=S.toString()+". ":O="- ",p+=O+r.subParser("makeMarkdown.listItem")(w[I],d),++S}return p+=`
<!-- -->
`,p.trim()}),r.subParser("makeMarkdown.listItem",function(a,d){for(var h="",p=a.childNodes,w=p.length,T=0;T<w;++T)h+=r.subParser("makeMarkdown.node")(p[T],d);return/\n$/.test(h)?h=h.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):h+=`
`,h}),r.subParser("makeMarkdown.node",function(a,d,h){h=h||!1;var p="";if(a.nodeType===3)return r.subParser("makeMarkdown.txt")(a,d);if(a.nodeType===8)return"<!--"+a.data+`-->

`;if(a.nodeType!==1)return"";var w=a.tagName.toLowerCase();switch(w){case"h1":h||(p=r.subParser("makeMarkdown.header")(a,d,1)+`

`);break;case"h2":h||(p=r.subParser("makeMarkdown.header")(a,d,2)+`

`);break;case"h3":h||(p=r.subParser("makeMarkdown.header")(a,d,3)+`

`);break;case"h4":h||(p=r.subParser("makeMarkdown.header")(a,d,4)+`

`);break;case"h5":h||(p=r.subParser("makeMarkdown.header")(a,d,5)+`

`);break;case"h6":h||(p=r.subParser("makeMarkdown.header")(a,d,6)+`

`);break;case"p":h||(p=r.subParser("makeMarkdown.paragraph")(a,d)+`

`);break;case"blockquote":h||(p=r.subParser("makeMarkdown.blockquote")(a,d)+`

`);break;case"hr":h||(p=r.subParser("makeMarkdown.hr")(a,d)+`

`);break;case"ol":h||(p=r.subParser("makeMarkdown.list")(a,d,"ol")+`

`);break;case"ul":h||(p=r.subParser("makeMarkdown.list")(a,d,"ul")+`

`);break;case"precode":h||(p=r.subParser("makeMarkdown.codeBlock")(a,d)+`

`);break;case"pre":h||(p=r.subParser("makeMarkdown.pre")(a,d)+`

`);break;case"table":h||(p=r.subParser("makeMarkdown.table")(a,d)+`

`);break;case"code":p=r.subParser("makeMarkdown.codeSpan")(a,d);break;case"em":case"i":p=r.subParser("makeMarkdown.emphasis")(a,d);break;case"strong":case"b":p=r.subParser("makeMarkdown.strong")(a,d);break;case"del":p=r.subParser("makeMarkdown.strikethrough")(a,d);break;case"a":p=r.subParser("makeMarkdown.links")(a,d);break;case"img":p=r.subParser("makeMarkdown.image")(a,d);break;default:p=a.outerHTML+`

`}return p}),r.subParser("makeMarkdown.paragraph",function(a,d){var h="";if(a.hasChildNodes())for(var p=a.childNodes,w=p.length,T=0;T<w;++T)h+=r.subParser("makeMarkdown.node")(p[T],d);return h=h.trim(),h}),r.subParser("makeMarkdown.pre",function(a,d){var h=a.getAttribute("prenum");return"<pre>"+d.preList[h]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(a,d){var h="";if(a.hasChildNodes()){h+="~~";for(var p=a.childNodes,w=p.length,T=0;T<w;++T)h+=r.subParser("makeMarkdown.node")(p[T],d);h+="~~"}return h}),r.subParser("makeMarkdown.strong",function(a,d){var h="";if(a.hasChildNodes()){h+="**";for(var p=a.childNodes,w=p.length,T=0;T<w;++T)h+=r.subParser("makeMarkdown.node")(p[T],d);h+="**"}return h}),r.subParser("makeMarkdown.table",function(a,d){var h="",p=[[],[]],w=a.querySelectorAll("thead>tr>th"),T=a.querySelectorAll("tbody>tr"),S,I;for(S=0;S<w.length;++S){var O=r.subParser("makeMarkdown.tableCell")(w[S],d),D="---";if(w[S].hasAttribute("style")){var $=w[S].getAttribute("style").toLowerCase().replace(/\s/g,"");switch($){case"text-align:left;":D=":---";break;case"text-align:right;":D="---:";break;case"text-align:center;":D=":---:";break}}p[0][S]=O.trim(),p[1][S]=D}for(S=0;S<T.length;++S){var L=p.push([])-1,E=T[S].getElementsByTagName("td");for(I=0;I<w.length;++I){var N=" ";typeof E[I]<"u"&&(N=r.subParser("makeMarkdown.tableCell")(E[I],d)),p[L].push(N)}}var A=3;for(S=0;S<p.length;++S)for(I=0;I<p[S].length;++I){var M=p[S][I].length;M>A&&(A=M)}for(S=0;S<p.length;++S){for(I=0;I<p[S].length;++I)S===1?p[S][I].slice(-1)===":"?p[S][I]=r.helper.padEnd(p[S][I].slice(-1),A-1,"-")+":":p[S][I]=r.helper.padEnd(p[S][I],A,"-"):p[S][I]=r.helper.padEnd(p[S][I],A);h+="| "+p[S].join(" | ")+` |
`}return h.trim()}),r.subParser("makeMarkdown.tableCell",function(a,d){var h="";if(!a.hasChildNodes())return"";for(var p=a.childNodes,w=p.length,T=0;T<w;++T)h+=r.subParser("makeMarkdown.node")(p[T],d,!0);return h.trim()}),r.subParser("makeMarkdown.txt",function(a){var d=a.nodeValue;return d=d.replace(/ +/g," "),d=d.replace(/¨NBSP;/g," "),d=r.helper.unescapeHTMLEntities(d),d=d.replace(/([*_~|`])/g,"\\$1"),d=d.replace(/^(\s*)>/g,"\\$1>"),d=d.replace(/^#/gm,"\\#"),d=d.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),d=d.replace(/^( {0,3}\d+)\./gm,"$1\\."),d=d.replace(/^( {0,3})([+-])/gm,"$1\\$2"),d=d.replace(/]([\s]*)\(/g,"\\]$1\\("),d=d.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),d});var _=this;t.exports?t.exports=r:_.showdown=r}).call(Z)})(T0);var i8=T0.exports;const s8=lu(i8);function o8({tempNoteText:t,setTempNoteText:e}){const[n,r]=Oe.useState("write"),i=new s8.Converter({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0});return Le.jsx("section",{className:"pane editor",children:Le.jsx(r8,{value:t,onChange:e,selectedTab:n,onTabChange:r,generateMarkdownPreview:s=>Promise.resolve(i.makeHtml(s)),minEditorHeight:80,heightUnits:"vh"})})}var b0={exports:{}},a8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",u8=a8,l8=u8;function I0(){}function A0(){}A0.resetWarningCache=I0;var c8=function(){function t(r,i,s,o,u,l){if(l!==l8){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:A0,resetWarningCache:I0};return n.PropTypes=n,n};b0.exports=c8();var d8=b0.exports;const ue=lu(d8);var $t=typeof window<"u"?window:null,Oh=$t===null,js=Oh?void 0:$t.document,Vt="addEventListener",Ht="removeEventListener",Ql="getBoundingClientRect",Xi="_a",Kt="_b",mn="_c",Wo="horizontal",Wt=function(){return!1},h8=Oh?"calc":["","-webkit-","-moz-","-o-"].filter(function(t){var e=js.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length}).shift()+"calc",P0=function(t){return typeof t=="string"||t instanceof String},Jp=function(t){if(P0(t)){var e=js.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},nt=function(t,e,n){var r=t[e];return r!==void 0?r:n},Go=function(t,e,n,r){if(e){if(r==="end")return 0;if(r==="center")return t/2}else if(n){if(r==="start")return 0;if(r==="center")return t/2}return t},f8=function(t,e){var n=js.createElement("div");return n.className="gutter gutter-"+e,n},p8=function(t,e,n){var r={};return P0(e)?r[t]=e:r[t]=h8+"("+e+"% - "+n+"px)",r},m8=function(t,e){var n;return n={},n[t]=e+"px",n},Zp=function(t,e){if(e===void 0&&(e={}),Oh)return{};var n=t,r,i,s,o,u,l;Array.from&&(n=Array.from(n));var c=Jp(n[0]),f=c.parentNode,m=getComputedStyle?getComputedStyle(f):null,v=m?m.flexDirection:null,C=nt(e,"sizes")||n.map(function(){return 100/n.length}),b=nt(e,"minSize",100),k=Array.isArray(b)?b:n.map(function(){return b}),P=nt(e,"maxSize",1/0),y=Array.isArray(P)?P:n.map(function(){return P}),g=nt(e,"expandToMin",!1),_=nt(e,"gutterSize",10),a=nt(e,"gutterAlign","center"),d=nt(e,"snapOffset",30),h=Array.isArray(d)?d:n.map(function(){return d}),p=nt(e,"dragInterval",1),w=nt(e,"direction",Wo),T=nt(e,"cursor",w===Wo?"col-resize":"row-resize"),S=nt(e,"gutter",f8),I=nt(e,"elementStyle",p8),O=nt(e,"gutterStyle",m8);w===Wo?(r="width",i="clientX",s="left",o="right",u="clientWidth"):w==="vertical"&&(r="height",i="clientY",s="top",o="bottom",u="clientHeight");function D(B,R,U,G){var De=I(r,R,U,G);Object.keys(De).forEach(function(ke){B.style[ke]=De[ke]})}function $(B,R,U){var G=O(r,R,U);Object.keys(G).forEach(function(De){B.style[De]=G[De]})}function L(){return l.map(function(B){return B.size})}function E(B){return"touches"in B?B.touches[0][i]:B[i]}function N(B){var R=l[this.a],U=l[this.b],G=R.size+U.size;R.size=B/this.size*G,U.size=G-B/this.size*G,D(R.element,R.size,this[Kt],R.i),D(U.element,U.size,this[mn],U.i)}function A(B){var R,U=l[this.a],G=l[this.b];this.dragging&&(R=E(B)-this.start+(this[Kt]-this.dragOffset),p>1&&(R=Math.round(R/p)*p),R<=U.minSize+U.snapOffset+this[Kt]?R=U.minSize+this[Kt]:R>=this.size-(G.minSize+G.snapOffset+this[mn])&&(R=this.size-(G.minSize+this[mn])),R>=U.maxSize-U.snapOffset+this[Kt]?R=U.maxSize+this[Kt]:R<=this.size-(G.maxSize-G.snapOffset+this[mn])&&(R=this.size-(G.maxSize+this[mn])),N.call(this,R),nt(e,"onDrag",Wt)(L()))}function M(){var B=l[this.a].element,R=l[this.b].element,U=B[Ql](),G=R[Ql]();this.size=U[r]+G[r]+this[Kt]+this[mn],this.start=U[s],this.end=U[o]}function V(B){if(!getComputedStyle)return null;var R=getComputedStyle(B);if(!R)return null;var U=B[u];return U===0?null:(w===Wo?U-=parseFloat(R.paddingLeft)+parseFloat(R.paddingRight):U-=parseFloat(R.paddingTop)+parseFloat(R.paddingBottom),U)}function F(B){var R=V(f);if(R===null||k.reduce(function(ke,Et){return ke+Et},0)>R)return B;var U=0,G=[],De=B.map(function(ke,Et){var lr=R*ke/100,To=Go(_,Et===0,Et===B.length-1,a),bo=k[Et]+To;return lr<bo?(U+=bo-lr,G.push(0),bo):(G.push(lr-bo),lr)});return U===0?B:De.map(function(ke,Et){var lr=ke;if(U>0&&G[Et]-U>0){var To=Math.min(U,G[Et]-U);U-=To,lr=ke-To}return lr/R*100})}function te(){var B=this,R=l[B.a].element,U=l[B.b].element;B.dragging&&nt(e,"onDragEnd",Wt)(L()),B.dragging=!1,$t[Ht]("mouseup",B.stop),$t[Ht]("touchend",B.stop),$t[Ht]("touchcancel",B.stop),$t[Ht]("mousemove",B.move),$t[Ht]("touchmove",B.move),B.stop=null,B.move=null,R[Ht]("selectstart",Wt),R[Ht]("dragstart",Wt),U[Ht]("selectstart",Wt),U[Ht]("dragstart",Wt),R.style.userSelect="",R.style.webkitUserSelect="",R.style.MozUserSelect="",R.style.pointerEvents="",U.style.userSelect="",U.style.webkitUserSelect="",U.style.MozUserSelect="",U.style.pointerEvents="",B.gutter.style.cursor="",B.parent.style.cursor="",js.body.style.cursor=""}function he(B){if(!("button"in B&&B.button!==0)){var R=this,U=l[R.a].element,G=l[R.b].element;R.dragging||nt(e,"onDragStart",Wt)(L()),B.preventDefault(),R.dragging=!0,R.move=A.bind(R),R.stop=te.bind(R),$t[Vt]("mouseup",R.stop),$t[Vt]("touchend",R.stop),$t[Vt]("touchcancel",R.stop),$t[Vt]("mousemove",R.move),$t[Vt]("touchmove",R.move),U[Vt]("selectstart",Wt),U[Vt]("dragstart",Wt),G[Vt]("selectstart",Wt),G[Vt]("dragstart",Wt),U.style.userSelect="none",U.style.webkitUserSelect="none",U.style.MozUserSelect="none",U.style.pointerEvents="none",G.style.userSelect="none",G.style.webkitUserSelect="none",G.style.MozUserSelect="none",G.style.pointerEvents="none",R.gutter.style.cursor=T,R.parent.style.cursor=T,js.body.style.cursor=T,M.call(R),R.dragOffset=E(B)-R.end}}C=F(C);var de=[];l=n.map(function(B,R){var U={element:Jp(B),size:C[R],minSize:k[R],maxSize:y[R],snapOffset:h[R],i:R},G;if(R>0&&(G={a:R-1,b:R,dragging:!1,direction:w,parent:f},G[Kt]=Go(_,R-1===0,!1,a),G[mn]=Go(_,!1,R===n.length-1,a),v==="row-reverse"||v==="column-reverse")){var De=G.a;G.a=G.b,G.b=De}if(R>0){var ke=S(R,w,U.element);$(ke,_,R),G[Xi]=he.bind(G),ke[Vt]("mousedown",G[Xi]),ke[Vt]("touchstart",G[Xi]),f.insertBefore(ke,U.element),G.gutter=ke}return D(U.element,U.size,Go(_,R===0,R===n.length-1,a),R),R>0&&de.push(G),U});function ye(B){var R=B.i===de.length,U=R?de[B.i-1]:de[B.i];M.call(U);var G=R?U.size-B.minSize-U[mn]:B.minSize+U[Kt];N.call(U,G)}l.forEach(function(B){var R=B.element[Ql]()[r];R<B.minSize&&(g?ye(B):B.minSize=R)});function pe(B){var R=F(B);R.forEach(function(U,G){if(G>0){var De=de[G-1],ke=l[De.a],Et=l[De.b];ke.size=R[G-1],Et.size=U,D(ke.element,ke.size,De[Kt],ke.i),D(Et.element,Et.size,De[mn],Et.i)}})}function Ne(B,R){de.forEach(function(U){if(R!==!0?U.parent.removeChild(U.gutter):(U.gutter[Ht]("mousedown",U[Xi]),U.gutter[Ht]("touchstart",U[Xi])),B!==!0){var G=I(r,U.a.size,U[Kt]);Object.keys(G).forEach(function(De){l[U.a].element.style[De]="",l[U.b].element.style[De]=""})}})}return{setSizes:pe,getSizes:L,collapse:function(R){ye(l[R])},destroy:Ne,parent:f,pairs:de}};function Xl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)===-1&&(n[r]=t[r]);return n}var xh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidMount=function(){var r=this.props;r.children;var i=r.gutter,s=Xl(r,["children","gutter"]),o=s;o.gutter=function(u,l){var c;return i?c=i(u,l):(c=document.createElement("div"),c.className="gutter gutter-"+l),c.__isSplitGutter=!0,c},this.split=Zp(this.parent.children,o)},e.prototype.componentDidUpdate=function(r){var i=this,s=this.props;s.children;var o=s.minSize,u=s.sizes,l=s.collapsed,c=Xl(s,["children","minSize","sizes","collapsed"]),f=c,m=r.minSize,v=r.sizes,C=r.collapsed,b=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],k=b.map(function(g){return i.props[g]!==r[g]}).reduce(function(g,_){return g||_},!1);if(Array.isArray(o)&&Array.isArray(m)){var P=!1;o.forEach(function(g,_){P=P||g!==m[_]}),k=k||P}else Array.isArray(o)||Array.isArray(m)?k=!0:k=k||o!==m;if(k)f.minSize=o,f.sizes=u||this.split.getSizes(),this.split.destroy(!0,!0),f.gutter=function(g,_,a){return a.previousSibling},this.split=Zp(Array.from(this.parent.children).filter(function(g){return!g.__isSplitGutter}),f);else if(u){var y=!1;u.forEach(function(g,_){y=y||g!==v[_]}),y&&this.split.setSizes(this.props.sizes)}Number.isInteger(l)&&(l!==C||k)&&this.split.collapse(l)},e.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},e.prototype.render=function(){var r=this,i=this.props;i.sizes,i.minSize,i.maxSize,i.expandToMin,i.gutterSize,i.gutterAlign,i.snapOffset,i.dragInterval,i.direction,i.cursor,i.gutter,i.elementStyle,i.gutterStyle,i.onDrag,i.onDragStart,i.onDragEnd,i.collapsed;var s=i.children,o=Xl(i,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),u=o;return pc.createElement("div",Object.assign({},{ref:function(l){r.parent=l}},u),s)},e}(pc.Component);xh.propTypes={sizes:ue.arrayOf(ue.number),minSize:ue.oneOfType([ue.number,ue.arrayOf(ue.number)]),maxSize:ue.oneOfType([ue.number,ue.arrayOf(ue.number)]),expandToMin:ue.bool,gutterSize:ue.number,gutterAlign:ue.string,snapOffset:ue.oneOfType([ue.number,ue.arrayOf(ue.number)]),dragInterval:ue.number,direction:ue.string,cursor:ue.string,gutter:ue.func,elementStyle:ue.func,gutterStyle:ue.func,onDrag:ue.func,onDragStart:ue.func,onDragEnd:ue.func,collapsed:ue.number,children:ue.arrayOf(ue.element)};xh.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},g8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],u=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},D0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,u=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,f=s>>2,m=(s&3)<<4|u>>4;let v=(u&15)<<2|c>>6,C=c&63;l||(C=64,o||(v=64)),r.push(n[f],n[m],n[v],n[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(N0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):g8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||c==null||m==null)throw new v8;const v=s<<2|u>>4;if(r.push(v),c!==64){const C=u<<4&240|c>>2;if(r.push(C),m!==64){const b=c<<6&192|m;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class v8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y8=function(t){const e=N0(t);return D0.encodeByteArray(e,!0)},Va=function(t){return y8(t).replace(/\./g,"")},w8=function(t){try{return D0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=()=>_8().__FIREBASE_DEFAULTS__,k8=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},E8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&w8(t[1]);return e&&JSON.parse(e)},M0=()=>{try{return S8()||k8()||E8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},C8=t=>{var e,n;return(n=(e=M0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},T8=t=>{const e=C8(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},b8=()=>{var t;return(t=M0())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[Va(JSON.stringify(n)),Va(JSON.stringify(o)),u].join(".")}function P8(){try{return typeof indexedDB=="object"}catch{return!1}}function N8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8="FirebaseError";class Li extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=D8,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$0.prototype.create)}}class $0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?M8(s,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new Li(i,u,r)}}function M8(t,e){return t.replace($8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $8=/\{\$([^}]+)}/g;function ud(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(em(s)&&em(o)){if(!ud(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function em(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t){return t&&t._delegate?t._delegate:t}class Fs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new I8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(O8(e))try{this.getOrInitializeService({instanceIdentifier:fr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fr){return this.instances.has(e)}getOptions(e=fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:R8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fr){return this.component?this.component.multipleInstances?e:fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R8(t){return t===fr?void 0:t}function O8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new L8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const z8={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},j8=ae.INFO,F8={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},B8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=F8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class L0{constructor(e){this.name=e,this._logLevel=j8,this._logHandler=B8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const U8=(t,e)=>e.some(n=>t instanceof n);let tm,nm;function V8(){return tm||(tm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H8(){return nm||(nm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R0=new WeakMap,ld=new WeakMap,O0=new WeakMap,Yl=new WeakMap,zh=new WeakMap;function K8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Qn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&R0.set(n,t)}).catch(()=>{}),zh.set(e,t),e}function W8(t){if(ld.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ld.set(t,e)}let cd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ld.get(t);if(e==="objectStoreNames")return t.objectStoreNames||O0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function G8(t){cd=t(cd)}function q8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jl(this),e,...n);return O0.set(r,e.sort?e.sort():[e]),Qn(r)}:H8().includes(t)?function(...e){return t.apply(Jl(this),e),Qn(R0.get(this))}:function(...e){return Qn(t.apply(Jl(this),e))}}function Q8(t){return typeof t=="function"?q8(t):(t instanceof IDBTransaction&&W8(t),U8(t,V8())?new Proxy(t,cd):t)}function Qn(t){if(t instanceof IDBRequest)return K8(t);if(Yl.has(t))return Yl.get(t);const e=Q8(t);return e!==t&&(Yl.set(t,e),zh.set(e,t)),e}const Jl=t=>zh.get(t);function X8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),u=Qn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Qn(o.result),l.oldVersion,l.newVersion,Qn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),u.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),u}const Y8=["get","getKey","getAll","getAllKeys","count"],J8=["put","add","delete","clear"],Zl=new Map;function rm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zl.get(e))return Zl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=J8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Y8.includes(n)))return;const s=async function(o,...u){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(await Promise.all([c[n](...u),i&&l.done]))[0]};return Zl.set(e,s),s}G8(t=>({...t,get:(e,n,r)=>rm(e,n)||t.get(e,n,r),has:(e,n)=>!!rm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dd="@firebase/app",im="0.9.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new L0("@firebase/app"),tS="@firebase/app-compat",nS="@firebase/analytics-compat",rS="@firebase/analytics",iS="@firebase/app-check-compat",sS="@firebase/app-check",oS="@firebase/auth",aS="@firebase/auth-compat",uS="@firebase/database",lS="@firebase/database-compat",cS="@firebase/functions",dS="@firebase/functions-compat",hS="@firebase/installations",fS="@firebase/installations-compat",pS="@firebase/messaging",mS="@firebase/messaging-compat",gS="@firebase/performance",vS="@firebase/performance-compat",yS="@firebase/remote-config",wS="@firebase/remote-config-compat",_S="@firebase/storage",SS="@firebase/storage-compat",kS="@firebase/firestore",ES="@firebase/firestore-compat",CS="firebase",TS="9.21.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="[DEFAULT]",bS={[dd]:"fire-core",[tS]:"fire-core-compat",[rS]:"fire-analytics",[nS]:"fire-analytics-compat",[sS]:"fire-app-check",[iS]:"fire-app-check-compat",[oS]:"fire-auth",[aS]:"fire-auth-compat",[uS]:"fire-rtdb",[lS]:"fire-rtdb-compat",[cS]:"fire-fn",[dS]:"fire-fn-compat",[hS]:"fire-iid",[fS]:"fire-iid-compat",[pS]:"fire-fcm",[mS]:"fire-fcm-compat",[gS]:"fire-perf",[vS]:"fire-perf-compat",[yS]:"fire-rc",[wS]:"fire-rc-compat",[_S]:"fire-gcs",[SS]:"fire-gcs-compat",[kS]:"fire-fst",[ES]:"fire-fst-compat","fire-js":"fire-js",[CS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new Map,fd=new Map;function IS(t,e){try{t.container.addComponent(e)}catch(n){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ka(t){const e=t.name;if(fd.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;fd.set(e,t);for(const n of Ha.values())IS(n,t);return!0}function AS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Xn=new $0("app","Firebase",PS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=TS;function x0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:hd,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xn.create("bad-app-name",{appName:String(i)});if(n||(n=b8()),!n)throw Xn.create("no-options");const s=Ha.get(i);if(s){if(ud(n,s.options)&&ud(r,s.config))return s;throw Xn.create("duplicate-app",{appName:i})}const o=new x8(i);for(const l of fd.values())o.addComponent(l);const u=new NS(n,r,o);return Ha.set(i,u),u}function MS(t=hd){const e=Ha.get(t);if(!e&&t===hd)return x0();if(!e)throw Xn.create("no-app",{appName:t});return e}function li(t,e,n){var r;let i=(r=bS[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(u.join(" "));return}Ka(new Fs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="firebase-heartbeat-database",LS=1,Bs="firebase-heartbeat-store";let ec=null;function z0(){return ec||(ec=X8($S,LS,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Bs)}}}).catch(t=>{throw Xn.create("idb-open",{originalErrorMessage:t.message})})),ec}async function RS(t){try{return(await z0()).transaction(Bs).objectStore(Bs).get(j0(t))}catch(e){if(e instanceof Li)Pr.warn(e.message);else{const n=Xn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pr.warn(n.message)}}}async function sm(t,e){try{const r=(await z0()).transaction(Bs,"readwrite");return await r.objectStore(Bs).put(e,j0(t)),r.done}catch(n){if(n instanceof Li)Pr.warn(n.message);else{const r=Xn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pr.warn(r.message)}}}function j0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=1024,xS=30*24*60*60*1e3;class zS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=om();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=xS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=om(),{heartbeatsToSend:n,unsentEntries:r}=jS(this._heartbeatsCache.heartbeats),i=Va(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function om(){return new Date().toISOString().substring(0,10)}function jS(t,e=OS){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),am(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),am(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P8()?N8().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await RS(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return sm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return sm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function am(t){return Va(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t){Ka(new Fs("platform-logger",e=>new Z8(e),"PRIVATE")),Ka(new Fs("heartbeat",e=>new zS(e),"PRIVATE")),li(dd,im,t),li(dd,im,"esm2017"),li("fire-js","")}BS("");var US=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H,jh=jh||{},Y=US||self;function Wa(){}function Hu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function lo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function VS(t){return Object.prototype.hasOwnProperty.call(t,tc)&&t[tc]||(t[tc]=++HS)}var tc="closure_uid_"+(1e9*Math.random()>>>0),HS=0;function KS(t,e,n){return t.call.apply(t.bind,arguments)}function WS(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ut(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ut=KS:ut=WS,ut.apply(null,arguments)}function qo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ge(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),u=2;u<arguments.length;u++)o[u-2]=arguments[u];return e.prototype[i].apply(r,o)}}function ar(){this.s=this.s,this.o=this.o}var GS=0;ar.prototype.s=!1;ar.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),GS!=0)&&VS(this)};ar.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const F0=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Fh(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function um(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Hu(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function lt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var qS=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Y.addEventListener("test",Wa,e),Y.removeEventListener("test",Wa,e)}catch{}return t}();function Ga(t){return/^[\s\xa0]*$/.test(t)}var lm=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function nc(t,e){return t<e?-1:t>e?1:0}function Ku(){var t=Y.navigator;return t&&(t=t.userAgent)?t:""}function on(t){return Ku().indexOf(t)!=-1}function Bh(t){return Bh[" "](t),t}Bh[" "]=Wa;function B0(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}var QS=on("Opera"),ki=on("Trident")||on("MSIE"),U0=on("Edge"),pd=U0||ki,V0=on("Gecko")&&!(Ku().toLowerCase().indexOf("webkit")!=-1&&!on("Edge"))&&!(on("Trident")||on("MSIE"))&&!on("Edge"),XS=Ku().toLowerCase().indexOf("webkit")!=-1&&!on("Edge");function H0(){var t=Y.document;return t?t.documentMode:void 0}var qa;e:{var rc="",ic=function(){var t=Ku();if(V0)return/rv:([^\);]+)(\)|;)/.exec(t);if(U0)return/Edge\/([\d\.]+)/.exec(t);if(ki)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(XS)return/WebKit\/(\S+)/.exec(t);if(QS)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ic&&(rc=ic?ic[1]:""),ki){var sc=H0();if(sc!=null&&sc>parseFloat(rc)){qa=String(sc);break e}}qa=rc}var YS={};function JS(){return B0(YS,9,function(){let t=0;const e=lm(String(qa)).split("."),n=lm("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=nc(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||nc(i[2].length==0,s[2].length==0)||nc(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var md;if(Y.document&&ki){var cm=H0();md=cm||parseInt(qa,10)||void 0}else md=void 0;var ZS=md;function Us(t,e){if(lt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(V0){e:{try{Bh(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:ek[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Us.$.h.call(this)}}Ge(Us,lt);var ek={2:"touch",3:"pen",4:"mouse"};Us.prototype.h=function(){Us.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var co="closure_listenable_"+(1e6*Math.random()|0),tk=0;function nk(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++tk,this.fa=this.ia=!1}function Wu(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Uh(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function K0(t){const e={};for(const n in t)e[n]=t[n];return e}const dm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W0(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<dm.length;s++)n=dm[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Gu(t){this.src=t,this.g={},this.h=0}Gu.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=vd(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new nk(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function gd(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=F0(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Wu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function vd(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Vh="closure_lm_"+(1e6*Math.random()|0),oc={};function G0(t,e,n,r,i){if(r&&r.once)return Q0(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)G0(t,e[s],n,r,i);return null}return n=Wh(n),t&&t[co]?t.O(e,n,lo(r)?!!r.capture:!!r,i):q0(t,e,n,!1,r,i)}function q0(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=lo(i)?!!i.capture:!!i,u=Kh(t);if(u||(t[Vh]=u=new Gu(t)),n=u.add(e,n,r,o,s),n.proxy)return n;if(r=rk(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)qS||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Y0(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function rk(){function t(n){return e.call(t.src,t.listener,n)}const e=ik;return t}function Q0(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Q0(t,e[s],n,r,i);return null}return n=Wh(n),t&&t[co]?t.P(e,n,lo(r)?!!r.capture:!!r,i):q0(t,e,n,!0,r,i)}function X0(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)X0(t,e[s],n,r,i);else r=lo(r)?!!r.capture:!!r,n=Wh(n),t&&t[co]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=vd(s,n,r,i),-1<n&&(Wu(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Kh(t))&&(e=t.g[e.toString()],t=-1,e&&(t=vd(e,n,r,i)),(n=-1<t?e[t]:null)&&Hh(n))}function Hh(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[co])gd(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Y0(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Kh(e))?(gd(n,t),n.h==0&&(n.src=null,e[Vh]=null)):Wu(t)}}}function Y0(t){return t in oc?oc[t]:oc[t]="on"+t}function ik(t,e){if(t.fa)t=!0;else{e=new Us(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Hh(t),t=n.call(r,e)}return t}function Kh(t){return t=t[Vh],t instanceof Gu?t:null}var ac="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wh(t){return typeof t=="function"?t:(t[ac]||(t[ac]=function(e){return t.handleEvent(e)}),t[ac])}function We(){ar.call(this),this.i=new Gu(this),this.S=this,this.J=null}Ge(We,ar);We.prototype[co]=!0;We.prototype.removeEventListener=function(t,e,n,r){X0(this,t,e,n,r)};function Je(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new lt(e,t);else if(e instanceof lt)e.target=e.target||t;else{var i=e;e=new lt(r,t),W0(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Qo(o,r,!0,e)&&i}if(o=e.g=t,i=Qo(o,r,!0,e)&&i,i=Qo(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Qo(o,r,!1,e)&&i}We.prototype.N=function(){if(We.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Wu(n[r]);delete t.g[e],t.h--}}this.J=null};We.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};We.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Qo(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var u=o.listener,l=o.la||o.src;o.ia&&gd(t.i,o),i=u.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Gh=Y.JSON.stringify;function sk(){var t=e1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class ok{constructor(){this.h=this.g=null}add(e,n){const r=J0.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var J0=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new ak,t=>t.reset());class ak{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function uk(t){Y.setTimeout(()=>{throw t},0)}function Z0(t,e){yd||lk(),wd||(yd(),wd=!0),e1.add(t,e)}var yd;function lk(){var t=Y.Promise.resolve(void 0);yd=function(){t.then(ck)}}var wd=!1,e1=new ok;function ck(){for(var t;t=sk();){try{t.h.call(t.g)}catch(n){uk(n)}var e=J0;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}wd=!1}function qu(t,e){We.call(this),this.h=t||1,this.g=e||Y,this.j=ut(this.qb,this),this.l=Date.now()}Ge(qu,We);H=qu.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Je(this,"tick"),this.ga&&(qh(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function qh(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}H.N=function(){qu.$.N.call(this),qh(this),delete this.g};function Qh(t,e,n){if(typeof t=="function")n&&(t=ut(t,n));else if(t&&typeof t.handleEvent=="function")t=ut(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Y.setTimeout(t,e||0)}function t1(t){t.g=Qh(()=>{t.g=null,t.i&&(t.i=!1,t1(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class dk extends ar{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:t1(this)}N(){super.N(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vs(t){ar.call(this),this.h=t,this.g={}}Ge(Vs,ar);var hm=[];function n1(t,e,n,r){Array.isArray(n)||(n&&(hm[0]=n.toString()),n=hm);for(var i=0;i<n.length;i++){var s=G0(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function r1(t){Uh(t.g,function(e,n){this.g.hasOwnProperty(n)&&Hh(e)},t),t.g={}}Vs.prototype.N=function(){Vs.$.N.call(this),r1(this)};Vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Qu(){this.g=!0}Qu.prototype.Ea=function(){this.g=!1};function hk(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",u=s.split("&"),l=0;l<u.length;l++){var c=u[l].split("=");if(1<c.length){var f=c[0];c=c[1];var m=f.split("_");o=2<=m.length&&m[1]=="type"?o+(f+"="+c+"&"):o+(f+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function fk(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ni(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+mk(t,n)+(r?" "+r:"")})}function pk(t,e){t.info(function(){return"TIMEOUT: "+e})}Qu.prototype.info=function(){};function mk(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Gh(n)}catch{return e}}var Rr={},fm=null;function Xu(){return fm=fm||new We}Rr.Ta="serverreachability";function i1(t){lt.call(this,Rr.Ta,t)}Ge(i1,lt);function Hs(t){const e=Xu();Je(e,new i1(e))}Rr.STAT_EVENT="statevent";function s1(t,e){lt.call(this,Rr.STAT_EVENT,t),this.stat=e}Ge(s1,lt);function pt(t){const e=Xu();Je(e,new s1(e,t))}Rr.Ua="timingevent";function o1(t,e){lt.call(this,Rr.Ua,t),this.size=e}Ge(o1,lt);function ho(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){t()},e)}var Yu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},a1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Xh(){}Xh.prototype.h=null;function pm(t){return t.h||(t.h=t.i())}function u1(){}var fo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yh(){lt.call(this,"d")}Ge(Yh,lt);function Jh(){lt.call(this,"c")}Ge(Jh,lt);var _d;function Ju(){}Ge(Ju,Xh);Ju.prototype.g=function(){return new XMLHttpRequest};Ju.prototype.i=function(){return{}};_d=new Ju;function po(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Vs(this),this.P=gk,t=pd?125:void 0,this.V=new qu(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new l1}function l1(){this.i=null,this.g="",this.h=!1}var gk=45e3,Sd={},Qa={};H=po.prototype;H.setTimeout=function(t){this.P=t};function kd(t,e,n){t.L=1,t.v=el(In(e)),t.s=n,t.S=!0,c1(t,null)}function c1(t,e){t.G=Date.now(),mo(t),t.A=In(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),y1(n.i,"t",r),t.C=0,n=t.l.I,t.h=new l1,t.g=j1(t.l,n?e:null,!t.s),0<t.O&&(t.M=new dk(ut(t.Pa,t,t.g),t.O)),n1(t.U,t.g,"readystatechange",t.nb),e=t.I?K0(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Hs(),hk(t.j,t.u,t.A,t.m,t.W,t.s)}H.nb=function(t){t=t.target;const e=this.M;e&&_n(t)==3?e.l():this.Pa(t)};H.Pa=function(t){try{if(t==this.g)e:{const f=_n(this.g);var e=this.g.Ia();const m=this.g.da();if(!(3>f)&&(f!=3||pd||this.g&&(this.h.h||this.g.ja()||ym(this.g)))){this.J||f!=4||e==7||(e==8||0>=m?Hs(3):Hs(2)),Zu(this);var n=this.g.da();this.aa=n;t:if(d1(this)){var r=ym(this.g);t="";var i=r.length,s=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vr(this),vs(this);var o="";break t}this.h.i=new Y.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,fk(this.j,this.u,this.A,this.m,this.W,f,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ga(u)){var c=u;break t}}c=null}if(n=c)ni(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ed(this,n);else{this.i=!1,this.o=3,pt(12),vr(this),vs(this);break e}}this.S?(h1(this,f,o),pd&&this.i&&f==3&&(n1(this.U,this.V,"tick",this.mb),this.V.start())):(ni(this.j,this.m,o,null),Ed(this,o)),f==4&&vr(this),this.i&&!this.J&&(f==4?R1(this.l,this):(this.i=!1,mo(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,pt(12)):(this.o=0,pt(13)),vr(this),vs(this)}}}catch{}finally{}};function d1(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function h1(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=vk(t,n),i==Qa){e==4&&(t.o=4,pt(14),r=!1),ni(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Sd){t.o=4,pt(15),ni(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ni(t.j,t.m,i,null),Ed(t,i);d1(t)&&i!=Qa&&i!=Sd&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,pt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ca&&(t.ca=!0,e=t.l,e.g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),of(e),e.L=!0,pt(11))):(ni(t.j,t.m,n,"[Invalid Chunked Response]"),vr(t),vs(t))}H.mb=function(){if(this.g){var t=_n(this.g),e=this.g.ja();this.C<e.length&&(Zu(this),h1(this,t,e),this.i&&t!=4&&mo(this))}};function vk(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Qa:(n=Number(e.substring(n,r)),isNaN(n)?Sd:(r+=1,r+n>e.length?Qa:(e=e.substr(r,n),t.C=r+n,e)))}H.cancel=function(){this.J=!0,vr(this)};function mo(t){t.Y=Date.now()+t.P,f1(t,t.P)}function f1(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ho(ut(t.lb,t),e)}function Zu(t){t.B&&(Y.clearTimeout(t.B),t.B=null)}H.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(pk(this.j,this.A),this.L!=2&&(Hs(),pt(17)),vr(this),this.o=2,vs(this)):f1(this,this.Y-t)};function vs(t){t.l.H==0||t.J||R1(t.l,t)}function vr(t){Zu(t);var e=t.M;e&&typeof e.ra=="function"&&e.ra(),t.M=null,qh(t.V),r1(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function Ed(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Cd(n.h,t))){if(!t.K&&Cd(n.h,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ja(n),rl(n);else break e;sf(n),pt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&n.A==0&&!n.v&&(n.v=ho(ut(n.ib,n),6e3));if(1>=S1(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else yr(n,11)}else if((t.K||n.g==t)&&Ja(n),!Ga(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.J=c[1],n.oa=c[2];const f=c[3];f!=null&&(n.qa=f,n.j.info("VER="+n.qa));const m=c[4];m!=null&&(n.Ga=m,n.j.info("SVER="+n.Ga));const v=c[5];v!=null&&typeof v=="number"&&0<v&&(r=1.5*v,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const C=t.g;if(C){const b=C.g?C.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var s=r.h;s.g||b.indexOf("spdy")==-1&&b.indexOf("quic")==-1&&b.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Zh(s,s.h),s.h=null))}if(r.F){const k=C.g?C.g.getResponseHeader("X-HTTP-Session-Id"):null;k&&(r.Da=k,_e(r.G,r.F,k))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=z1(r,r.I?r.oa:null,r.Y),o.K){k1(r.h,o);var u=o,l=r.K;l&&u.setTimeout(l),u.B&&(Zu(u),mo(u)),r.g=o}else $1(r);0<n.i.length&&il(n)}else c[0]!="stop"&&c[0]!="close"||yr(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?yr(n,7):rf(n):c[0]!="noop"&&n.l&&n.l.Aa(c),n.A=0)}}Hs(4)}catch{}}function yk(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Hu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function wk(t){if(t.sa&&typeof t.sa=="function")return t.sa();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Hu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function p1(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Hu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=wk(t),r=yk(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var m1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _k(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function kr(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof kr){this.h=e!==void 0?e:t.h,Xa(this,t.j),this.s=t.s,this.g=t.g,Ya(this,t.m),this.l=t.l,e=t.i;var n=new Ks;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),mm(this,n),this.o=t.o}else t&&(n=String(t).match(m1))?(this.h=!!e,Xa(this,n[1]||"",!0),this.s=rs(n[2]||""),this.g=rs(n[3]||"",!0),Ya(this,n[4]),this.l=rs(n[5]||"",!0),mm(this,n[6]||"",!0),this.o=rs(n[7]||"")):(this.h=!!e,this.i=new Ks(null,this.h))}kr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(is(e,gm,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(is(e,gm,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(is(n,n.charAt(0)=="/"?Ek:kk,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",is(n,Tk)),t.join("")};function In(t){return new kr(t)}function Xa(t,e,n){t.j=n?rs(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ya(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function mm(t,e,n){e instanceof Ks?(t.i=e,bk(t.i,t.h)):(n||(e=is(e,Ck)),t.i=new Ks(e,t.h))}function _e(t,e,n){t.i.set(e,n)}function el(t){return _e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function rs(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function is(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Sk),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Sk(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var gm=/[#\/\?@]/g,kk=/[#\?:]/g,Ek=/[#\?]/g,Ck=/[#\?@]/g,Tk=/#/g;function Ks(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ur(t){t.g||(t.g=new Map,t.h=0,t.i&&_k(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=Ks.prototype;H.add=function(t,e){ur(this),this.i=null,t=Ri(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function g1(t,e){ur(t),e=Ri(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function v1(t,e){return ur(t),e=Ri(t,e),t.g.has(e)}H.forEach=function(t,e){ur(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};H.sa=function(){ur(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};H.Z=function(t){ur(this);let e=[];if(typeof t=="string")v1(this,t)&&(e=e.concat(this.g.get(Ri(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return ur(this),this.i=null,t=Ri(this,t),v1(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function y1(t,e,n){g1(t,e),0<n.length&&(t.i=null,t.g.set(Ri(t,e),Fh(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ri(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function bk(t,e){e&&!t.j&&(ur(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(g1(this,r),y1(this,i,n))},t)),t.j=e}var Ik=class{constructor(t,e){this.h=t,this.g=e}};function w1(t){this.l=t||Ak,Y.PerformanceNavigationTiming?(t=Y.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Y.g&&Y.g.Ka&&Y.g.Ka()&&Y.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ak=10;function _1(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function S1(t){return t.h?1:t.g?t.g.size:0}function Cd(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Zh(t,e){t.g?t.g.add(e):t.h=e}function k1(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}w1.prototype.cancel=function(){if(this.i=E1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function E1(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Fh(t.i)}function ef(){}ef.prototype.stringify=function(t){return Y.JSON.stringify(t,void 0)};ef.prototype.parse=function(t){return Y.JSON.parse(t,void 0)};function Pk(){this.g=new ef}function Nk(t,e,n){const r=n||"";try{p1(t,function(i,s){let o=i;lo(i)&&(o=Gh(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Dk(t,e){const n=new Qu;if(Y.Image){const r=new Image;r.onload=qo(Xo,n,r,"TestLoadImage: loaded",!0,e),r.onerror=qo(Xo,n,r,"TestLoadImage: error",!1,e),r.onabort=qo(Xo,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=qo(Xo,n,r,"TestLoadImage: timeout",!1,e),Y.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Xo(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function go(t){this.l=t.fc||null,this.j=t.ob||!1}Ge(go,Xh);go.prototype.g=function(){return new tl(this.l,this.j)};go.prototype.i=function(t){return function(){return t}}({});function tl(t,e){We.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=tf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ge(tl,We);var tf=0;H=tl.prototype;H.open=function(t,e){if(this.readyState!=tf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ws(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Y).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vo(this)),this.readyState=tf};H.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ws(this)),this.g&&(this.readyState=3,Ws(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Y.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;C1(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function C1(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}H.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?vo(this):Ws(this),this.readyState==3&&C1(this)}};H.Za=function(t){this.g&&(this.response=this.responseText=t,vo(this))};H.Ya=function(t){this.g&&(this.response=t,vo(this))};H.ka=function(){this.g&&vo(this)};function vo(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ws(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ws(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(tl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Mk=Y.JSON.parse;function Pe(t){We.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=T1,this.L=this.M=!1}Ge(Pe,We);var T1="",$k=/^https?$/i,Lk=["POST","PUT"];H=Pe.prototype;H.Oa=function(t){this.M=t};H.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_d.g(),this.C=this.u?pm(this.u):pm(_d),this.g.onreadystatechange=ut(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){vm(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Y.FormData&&t instanceof Y.FormData,!(0<=F0(Lk,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{A1(this),0<this.B&&((this.L=Rk(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ut(this.ua,this)):this.A=Qh(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){vm(this,s)}};function Rk(t){return ki&&JS()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.ua=function(){typeof jh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Je(this,"timeout"),this.abort(8))};function vm(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,b1(t),nl(t)}function b1(t){t.F||(t.F=!0,Je(t,"complete"),Je(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Je(this,"complete"),Je(this,"abort"),nl(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nl(this,!0)),Pe.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?I1(this):this.kb())};H.kb=function(){I1(this)};function I1(t){if(t.h&&typeof jh<"u"&&(!t.C[1]||_n(t)!=4||t.da()!=2)){if(t.v&&_n(t)==4)Qh(t.La,0,t);else if(Je(t,"readystatechange"),_n(t)==4){t.h=!1;try{const u=t.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=u===0){var i=String(t.I).match(m1)[1]||null;if(!i&&Y.self&&Y.self.location){var s=Y.self.location.protocol;i=s.substr(0,s.length-1)}r=!$k.test(i?i.toLowerCase():"")}n=r}if(n)Je(t,"complete"),Je(t,"success");else{t.m=6;try{var o=2<_n(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",b1(t)}}finally{nl(t)}}}}function nl(t,e){if(t.g){A1(t);const n=t.g,r=t.C[0]?Wa:null;t.g=null,t.C=null,e||Je(t,"ready");try{n.onreadystatechange=r}catch{}}}function A1(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Y.clearTimeout(t.A),t.A=null)}function _n(t){return t.g?t.g.readyState:0}H.da=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Mk(e)}};function ym(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case T1:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function P1(t){let e="";return Uh(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function nf(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=P1(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):_e(t,e,n))}function Yi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function N1(t){this.Ga=0,this.i=[],this.j=new Qu,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Yi("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Yi("baseRetryDelayMs",5e3,t),this.hb=Yi("retryDelaySeedMs",1e4,t),this.eb=Yi("forwardChannelMaxRetries",2,t),this.xa=Yi("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new w1(t&&t.concurrentRequestLimit),this.Ja=new Pk,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}H=N1.prototype;H.qa=8;H.H=1;function rf(t){if(D1(t),t.H==3){var e=t.W++,n=In(t.G);_e(n,"SID",t.J),_e(n,"RID",e),_e(n,"TYPE","terminate"),yo(t,n),e=new po(t,t.j,e,void 0),e.L=2,e.v=el(In(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon&&(n=Y.navigator.sendBeacon(e.v.toString(),"")),!n&&Y.Image&&(new Image().src=e.v,n=!0),n||(e.g=j1(e.l,null),e.g.ha(e.v)),e.G=Date.now(),mo(e)}x1(t)}function rl(t){t.g&&(of(t),t.g.cancel(),t.g=null)}function D1(t){rl(t),t.u&&(Y.clearTimeout(t.u),t.u=null),Ja(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Y.clearTimeout(t.m),t.m=null)}function il(t){_1(t.h)||t.m||(t.m=!0,Z0(t.Na,t),t.C=0)}function Ok(t,e){return S1(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.F.concat(t.i),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ho(ut(t.Na,t,e),O1(t,t.C)),t.C++,!0)}H.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new po(this,this.j,t,void 0);let s=this.s;if(this.U&&(s?(s=K0(s),W0(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=M1(this,i,e),n=In(this.G),_e(n,"RID",t),_e(n,"CVER",22),this.F&&_e(n,"X-HTTP-Session-Id",this.F),yo(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(P1(s)))+"&"+e:this.o&&nf(n,this.o,s)),Zh(this.h,i),this.bb&&_e(n,"TYPE","init"),this.P?(_e(n,"$req",e),_e(n,"SID","null"),i.ba=!0,kd(i,n,null)):kd(i,n,e),this.H=2}}else this.H==3&&(t?wm(this,t):this.i.length==0||_1(this.h)||wm(this))};function wm(t,e){var n;e?n=e.m:n=t.W++;const r=In(t.G);_e(r,"SID",t.J),_e(r,"RID",n),_e(r,"AID",t.V),yo(t,r),t.o&&t.s&&nf(r,t.o,t.s),n=new po(t,t.j,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=M1(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Zh(t.h,n),kd(n,r,e)}function yo(t,e){t.ma&&Uh(t.ma,function(n,r){_e(e,r,n)}),t.l&&p1({},function(n,r){_e(e,r,n)})}function M1(t,e,n){n=Math.min(t.i.length,n);var r=t.l?ut(t.l.Va,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let u=!0;for(let l=0;l<n;l++){let c=i[l].h;const f=i[l].g;if(c-=s,0>c)s=Math.max(0,i[l].h-100),u=!1;else try{Nk(f,o,"req"+c+"_")}catch{r&&r(f)}}if(u){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,r}function $1(t){t.g||t.u||(t.ba=1,Z0(t.Ma,t),t.A=0)}function sf(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ho(ut(t.Ma,t),O1(t,t.A)),t.A++,!0)}H.Ma=function(){if(this.u=null,L1(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=ho(ut(this.jb,this),t)}};H.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,pt(10),rl(this),L1(this))};function of(t){t.B!=null&&(Y.clearTimeout(t.B),t.B=null)}function L1(t){t.g=new po(t,t.j,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=In(t.wa);_e(e,"RID","rpc"),_e(e,"SID",t.J),_e(e,"CI",t.M?"0":"1"),_e(e,"AID",t.V),_e(e,"TYPE","xmlhttp"),yo(t,e),t.o&&t.s&&nf(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=el(In(e)),n.s=null,n.S=!0,c1(n,t)}H.ib=function(){this.v!=null&&(this.v=null,rl(this),sf(this),pt(19))};function Ja(t){t.v!=null&&(Y.clearTimeout(t.v),t.v=null)}function R1(t,e){var n=null;if(t.g==e){Ja(t),of(t),t.g=null;var r=2}else if(Cd(t.h,e))n=e.F,k1(t.h,e),r=1;else return;if(t.H!=0){if(t.ta=e.aa,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Xu(),Je(r,new o1(r,n)),il(t)}else $1(t);else if(i=e.o,i==3||i==0&&0<t.ta||!(r==1&&Ok(t,e)||r==2&&sf(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:yr(t,5);break;case 4:yr(t,10);break;case 3:yr(t,6);break;default:yr(t,2)}}}function O1(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function yr(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=ut(t.pb,t);n||(n=new kr("//www.google.com/images/cleardot.gif"),Y.location&&Y.location.protocol=="http"||Xa(n,"https"),el(n)),Dk(n.toString(),r)}else pt(2);t.H=0,t.l&&t.l.za(e),x1(t),D1(t)}H.pb=function(t){t?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function x1(t){if(t.H=0,t.pa=[],t.l){const e=E1(t.h);(e.length!=0||t.i.length!=0)&&(um(t.pa,e),um(t.pa,t.i),t.h.i.length=0,Fh(t.i),t.i.length=0),t.l.ya()}}function z1(t,e,n){var r=n instanceof kr?In(n):new kr(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Ya(r,r.m);else{var i=Y.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new kr(null,void 0);r&&Xa(s,r),e&&(s.g=e),i&&Ya(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&_e(r,n,e),_e(r,"VER",t.qa),yo(t,r),r}function j1(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Pe(new go({ob:!0})):new Pe(t.va),e.Oa(t.I),e}function F1(){}H=F1.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.Va=function(){};function Za(){if(ki&&!(10<=Number(ZS)))throw Error("Environmental error: no available transport.")}Za.prototype.g=function(t,e){return new Nt(t,e)};function Nt(t,e){We.call(this),this.g=new N1(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ga(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ga(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Oi(this)}Ge(Nt,We);Nt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;pt(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=z1(t,null,t.Y),il(t)};Nt.prototype.close=function(){rf(this.g)};Nt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Gh(t),t=n);e.i.push(new Ik(e.fb++,t)),e.H==3&&il(e)};Nt.prototype.N=function(){this.g.l=null,delete this.j,rf(this.g),delete this.g,Nt.$.N.call(this)};function B1(t){Yh.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ge(B1,Yh);function U1(){Jh.call(this),this.status=1}Ge(U1,Jh);function Oi(t){this.g=t}Ge(Oi,F1);Oi.prototype.Ba=function(){Je(this.g,"a")};Oi.prototype.Aa=function(t){Je(this.g,new B1(t))};Oi.prototype.za=function(t){Je(this.g,new U1)};Oi.prototype.ya=function(){Je(this.g,"b")};function xk(){this.blockSize=-1}function tn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ge(tn,xk);tn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function uc(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}tn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)uc(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){uc(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){uc(this,r),i=0;break}}this.h=i,this.i+=e};tn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ce(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var zk={};function af(t){return-128<=t&&128>t?B0(zk,t,function(e){return new ce([e|0],0>e?-1:0)}):new ce([t|0],0>t?-1:0)}function an(t){if(isNaN(t)||!isFinite(t))return ci;if(0>t)return Xe(an(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Td;return new ce(e,0)}function V1(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Xe(V1(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=an(Math.pow(e,8)),r=ci,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=an(Math.pow(e,s)),r=r.R(s).add(an(o))):(r=r.R(n),r=r.add(an(o)))}return r}var Td=4294967296,ci=af(0),bd=af(1),_m=af(16777216);H=ce.prototype;H.ea=function(){if(Ot(this))return-Xe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Td+r)*e,e*=Td}return t};H.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Sn(this))return"0";if(Ot(this))return"-"+Xe(this).toString(t);for(var e=an(Math.pow(t,6)),n=this,r="";;){var i=tu(n,e).g;n=eu(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Sn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};H.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Sn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ot(t){return t.h==-1}H.X=function(t){return t=eu(this,t),Ot(t)?-1:Sn(t)?0:1};function Xe(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ce(n,~t.h).add(bd)}H.abs=function(){return Ot(this)?Xe(this):this};H.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ce(n,n[n.length-1]&-2147483648?-1:0)};function eu(t,e){return t.add(Xe(e))}H.R=function(t){if(Sn(this)||Sn(t))return ci;if(Ot(this))return Ot(t)?Xe(this).R(Xe(t)):Xe(Xe(this).R(t));if(Ot(t))return Xe(this.R(Xe(t)));if(0>this.X(_m)&&0>t.X(_m))return an(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,u=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Yo(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Yo(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,Yo(n,2*r+2*i+1),n[2*r+2*i+2]+=s*u,Yo(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ce(n,0)};function Yo(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ji(t,e){this.g=t,this.h=e}function tu(t,e){if(Sn(e))throw Error("division by zero");if(Sn(t))return new Ji(ci,ci);if(Ot(t))return e=tu(Xe(t),e),new Ji(Xe(e.g),Xe(e.h));if(Ot(e))return e=tu(t,Xe(e)),new Ji(Xe(e.g),e.h);if(30<t.g.length){if(Ot(t)||Ot(e))throw Error("slowDivide_ only works with positive integers.");for(var n=bd,r=e;0>=r.X(t);)n=Sm(n),r=Sm(r);var i=jr(n,1),s=jr(r,1);for(r=jr(r,2),n=jr(n,2);!Sn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=jr(r,1),n=jr(n,1)}return e=eu(t,i.R(e)),new Ji(i,e)}for(i=ci;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=an(n),o=s.R(e);Ot(o)||0<o.X(t);)n-=r,s=an(n),o=s.R(e);Sn(s)&&(s=bd),i=i.add(s),t=eu(t,o)}return new Ji(i,t)}H.gb=function(t){return tu(this,t).h};H.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ce(n,this.h&t.h)};H.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ce(n,this.h|t.h)};H.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ce(n,this.h^t.h)};function Sm(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ce(n,t.h)}function jr(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ce(i,t.h)}Za.prototype.createWebChannel=Za.prototype.g;Nt.prototype.send=Nt.prototype.u;Nt.prototype.open=Nt.prototype.m;Nt.prototype.close=Nt.prototype.close;Yu.NO_ERROR=0;Yu.TIMEOUT=8;Yu.HTTP_ERROR=6;a1.COMPLETE="complete";u1.EventType=fo;fo.OPEN="a";fo.CLOSE="b";fo.ERROR="c";fo.MESSAGE="d";We.prototype.listen=We.prototype.O;Pe.prototype.listenOnce=Pe.prototype.P;Pe.prototype.getLastError=Pe.prototype.Sa;Pe.prototype.getLastErrorCode=Pe.prototype.Ia;Pe.prototype.getStatus=Pe.prototype.da;Pe.prototype.getResponseJson=Pe.prototype.Wa;Pe.prototype.getResponseText=Pe.prototype.ja;Pe.prototype.send=Pe.prototype.ha;Pe.prototype.setWithCredentials=Pe.prototype.Oa;tn.prototype.digest=tn.prototype.l;tn.prototype.reset=tn.prototype.reset;tn.prototype.update=tn.prototype.j;ce.prototype.add=ce.prototype.add;ce.prototype.multiply=ce.prototype.R;ce.prototype.modulo=ce.prototype.gb;ce.prototype.compare=ce.prototype.X;ce.prototype.toNumber=ce.prototype.ea;ce.prototype.toString=ce.prototype.toString;ce.prototype.getBits=ce.prototype.D;ce.fromNumber=an;ce.fromString=V1;var jk=function(){return new Za},Fk=function(){return Xu()},lc=Yu,Bk=a1,Uk=Rr,km={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vk=go,Jo=u1,Hk=Pe,Kk=tn,di=ce;const Em="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xi="9.21.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new L0("@firebase/firestore");function Cm(){return Nr.logLevel}function W(t,...e){if(Nr.logLevel<=ae.DEBUG){const n=e.map(uf);Nr.debug(`Firestore (${xi}): ${t}`,...n)}}function An(t,...e){if(Nr.logLevel<=ae.ERROR){const n=e.map(uf);Nr.error(`Firestore (${xi}): ${t}`,...n)}}function Ei(t,...e){if(Nr.logLevel<=ae.WARN){const n=e.map(uf);Nr.warn(`Firestore (${xi}): ${t}`,...n)}}function uf(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t="Unexpected state"){const e=`FIRESTORE (${xi}) INTERNAL ASSERTION FAILED: `+t;throw An(e),new Error(e)}function ve(t,e){t||X()}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(it.UNAUTHENTICATED))}shutdown(){}}class Gk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qk{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Er,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},u=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Er)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string"),new H1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string"),new it(e)}}class Qk{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=it.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Xk{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Qk(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jk{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string"),this.T=n.token,new Yk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Zk(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function oe(t,e){return t<e?-1:t>e?1:0}function Ci(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ue(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.timestamp=e}static fromTimestamp(e){return new J(e)}static min(){return new J(new Ue(0,0))}static max(){return new J(new Ue(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(),r===void 0?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Se extends Gs{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const eE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class at extends Gs{construct(e,n,r){return new at(e,n,r)}static isValidIdentifier(e){return eE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new at(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Q(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Q(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new Q(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new at(n)}static emptyPath(){return new at([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.path=e}static fromPath(e){return new q(Se.fromString(e))}static fromName(e){return new q(Se.fromString(e).popFirst(5))}static empty(){return new q(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new Se(e.slice()))}}function tE(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new Ue(n+1,0):new Ue(n,r));return new tr(i,q.empty(),e)}function nE(t){return new tr(t.readTime,t.key,-1)}class tr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new tr(J.min(),q.empty(),-1)}static max(){return new tr(J.max(),q.empty(),-1)}}function rE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==iE)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let u=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(f=>{o[c]=f,++u,u===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function _o(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}lf.ct=-1;function sl(t){return t==null}function nu(t){return t===0&&1/t==-1/0}function oE(t){return typeof t=="number"&&Number.isInteger(t)&&!nu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function W1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e,n){this.comparator=e,this.root=n||Qe.EMPTY}insert(e,n){return new be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(e){return new be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zo(this.root,e,this.comparator,!0)}}class Zo{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qe{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Qe.RED,this.left=i??Qe.EMPTY,this.right=s??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Qe(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Qe.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Qe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bm(this.data.getIterator())}getIteratorFrom(e){return new bm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class bm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new Xt([])}unionWith(e){let n=new ct(at.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ci(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new G1("Invalid base64 string: "+i):i}}(e);return new ht(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ht.EMPTY_BYTE_STRING=new ht("");const aE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(t){if(ve(!!t),typeof t=="string"){let e=0;const n=aE.exec(t);if(ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(t.seconds),nanos:Re(t.nanos)}}function Re(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Dr(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function df(t){const e=t.mapValue.fields.__previous_value__;return cf(e)?df(e):e}function qs(t){const e=nr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,n,r,i,s,o,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=l}}class Qs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Qs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cf(t)?4:lE(t)?9007199254740991:10:X()}function hn(t,e){if(t===e)return!0;const n=Mr(t);if(n!==Mr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qs(t).isEqual(qs(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=nr(r.timestampValue),o=nr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Dr(r.bytesValue).isEqual(Dr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Re(r.geoPointValue.latitude)===Re(i.geoPointValue.latitude)&&Re(r.geoPointValue.longitude)===Re(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Re(r.integerValue)===Re(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Re(r.doubleValue),o=Re(i.doubleValue);return s===o?nu(s)===nu(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ci(t.arrayValue.values||[],e.arrayValue.values||[],hn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Tm(s)!==Tm(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(o[u]===void 0||!hn(s[u],o[u])))return!1;return!0}(t,e);default:return X()}}function Xs(t,e){return(t.values||[]).find(n=>hn(n,e))!==void 0}function Ti(t,e){if(t===e)return 0;const n=Mr(t),r=Mr(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Re(i.integerValue||i.doubleValue),u=Re(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(t,e);case 3:return Im(t.timestampValue,e.timestampValue);case 4:return Im(qs(t),qs(e));case 5:return oe(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Dr(i),u=Dr(s);return o.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),u=s.split("/");for(let l=0;l<o.length&&l<u.length;l++){const c=oe(o[l],u[l]);if(c!==0)return c}return oe(o.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=oe(Re(i.latitude),Re(s.latitude));return o!==0?o:oe(Re(i.longitude),Re(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],u=s.values||[];for(let l=0;l<o.length&&l<u.length;++l){const c=Ti(o[l],u[l]);if(c)return c}return oe(o.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ea.mapValue&&s===ea.mapValue)return 0;if(i===ea.mapValue)return 1;if(s===ea.mapValue)return-1;const o=i.fields||{},u=Object.keys(o),l=s.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let f=0;f<u.length&&f<c.length;++f){const m=oe(u[f],c[f]);if(m!==0)return m;const v=Ti(o[u[f]],l[c[f]]);if(v!==0)return v}return oe(u.length,c.length)}(t.mapValue,e.mapValue);default:throw X()}}function Im(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=nr(t),r=nr(e),i=oe(n.seconds,r.seconds);return i!==0?i:oe(n.nanos,r.nanos)}function bi(t){return Id(t)}function Id(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=nr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Dr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,q.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Id(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${Id(r.fields[u])}`;return s+"}"}(t.mapValue):X();var e,n}function Ad(t){return!!t&&"integerValue"in t}function hf(t){return!!t&&"arrayValue"in t}function Am(t){return!!t&&"nullValue"in t}function Pm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ma(t){return!!t&&"mapValue"in t}function ys(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ys(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ys(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lE(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.value=e}static empty(){return new xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ma(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ys(n)}setAll(e){let n=at.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=ys(o):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ma(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ma(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){zi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new xt(ys(this.value))}}function q1(t){const e=[];return zi(t.fields,(n,r)=>{const i=new at([n]);if(ma(r)){const s=q1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Xt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n,r,i,s,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new ot(e,0,J.min(),J.min(),J.min(),xt.empty(),0)}static newFoundDocument(e,n,r,i){return new ot(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new ot(e,2,n,J.min(),J.min(),xt.empty(),0)}static newUnknownDocument(e,n){return new ot(e,3,n,J.min(),J.min(),xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.position=e,this.inclusive=n}}function Nm(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=Ti(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Dm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n="asc"){this.field=e,this.dir=n}}function cE(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{}class Fe extends Q1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hE(e,n,r):n==="array-contains"?new mE(e,r):n==="in"?new gE(e,r):n==="not-in"?new vE(e,r):n==="array-contains-any"?new yE(e,r):new Fe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fE(e,r):new pE(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ti(n,this.value)):n!==null&&Mr(this.value)===Mr(n)&&this.matchesComparison(Ti(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class fn extends Q1{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new fn(e,n)}matches(e){return X1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function X1(t){return t.op==="and"}function Y1(t){return dE(t)&&X1(t)}function dE(t){for(const e of t.filters)if(e instanceof fn)return!1;return!0}function Pd(t){if(t instanceof Fe)return t.field.canonicalString()+t.op.toString()+bi(t.value);if(Y1(t))return t.filters.map(e=>Pd(e)).join(",");{const e=t.filters.map(n=>Pd(n)).join(",");return`${t.op}(${e})`}}function J1(t,e){return t instanceof Fe?function(n,r){return r instanceof Fe&&n.op===r.op&&n.field.isEqual(r.field)&&hn(n.value,r.value)}(t,e):t instanceof fn?function(n,r){return r instanceof fn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&J1(s,r.filters[o]),!0):!1}(t,e):void X()}function Z1(t){return t instanceof Fe?function(e){return`${e.field.canonicalString()} ${e.op} ${bi(e.value)}`}(t):t instanceof fn?function(e){return e.op.toString()+" {"+e.getFilters().map(Z1).join(" ,")+"}"}(t):"Filter"}class hE extends Fe{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){const n=q.comparator(e.key,this.key);return this.matchesComparison(n)}}class fE extends Fe{constructor(e,n){super(e,"in",n),this.keys=ey("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class pE extends Fe{constructor(e,n){super(e,"not-in",n),this.keys=ey("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ey(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}class mE extends Fe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hf(n)&&Xs(n.arrayValue,this.value)}}class gE extends Fe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xs(this.value.arrayValue,n)}}class vE extends Fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xs(this.value.arrayValue,n)}}class yE extends Fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.ft=null}}function Mm(t,e=null,n=[],r=[],i=null,s=null,o=null){return new wE(t,e,n,r,i,s,o)}function ff(t){const e=ee(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Pd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),sl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bi(r)).join(",")),e.ft=n}return e.ft}function pf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cE(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!J1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Dm(t.startAt,e.startAt)&&Dm(t.endAt,e.endAt)}function Nd(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n=null,r=[],i=[],s=null,o="F",u=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}}function _E(t,e,n,r,i,s,o,u){return new ol(t,e,n,r,i,s,o,u)}function mf(t){return new ol(t)}function $m(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function kE(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function EE(t){return t.collectionGroup!==null}function hi(t){const e=ee(t);if(e.dt===null){e.dt=[];const n=kE(e),r=SE(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new ws(n)),e.dt.push(new ws(at.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new ws(at.keyField(),s))}}}return e.dt}function Pn(t){const e=ee(t);if(!e._t)if(e.limitType==="F")e._t=Mm(e.path,e.collectionGroup,hi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of hi(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ws(s.field,o))}const r=e.endAt?new ru(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ru(e.startAt.position,e.startAt.inclusive):null;e._t=Mm(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Dd(t,e,n){return new ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function al(t,e){return pf(Pn(t),Pn(e))&&t.limitType===e.limitType}function ty(t){return`${ff(Pn(t))}|lt:${t.limitType}`}function Md(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>Z1(r)).join(", ")}]`),sl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bi(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bi(r)).join(",")),`Target(${n})`}(Pn(t))}; limitType=${t.limitType})`}function ul(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):q.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of hi(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const u=Nm(i,s,o);return i.inclusive?u<=0:u<0}(n.startAt,hi(n),r)||n.endAt&&!function(i,s,o){const u=Nm(i,s,o);return i.inclusive?u>=0:u>0}(n.endAt,hi(n),r))}(t,e)}function CE(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ny(t){return(e,n)=>{let r=!1;for(const i of hi(t)){const s=TE(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function TE(t,e,n){const r=t.field.isKeyField()?q.comparator(e.key,n.key):function(i,s,o){const u=s.data.field(i),l=o.data.field(i);return u!==null&&l!==null?Ti(u,l):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return W1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=new be(q.comparator);function Nn(){return bE}const ry=new be(q.comparator);function ss(...t){let e=ry;for(const n of t)e=e.insert(n.key,n);return e}function iy(t){let e=ry;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wr(){return _s()}function sy(){return _s()}function _s(){return new ji(t=>t.toString(),(t,e)=>t.isEqual(e))}const IE=new be(q.comparator),AE=new ct(q.comparator);function ne(...t){let e=AE;for(const n of t)e=e.add(n);return e}const PE=new ct(oe);function NE(){return PE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nu(e)?"-0":e}}function ay(t){return{integerValue:""+t}}function DE(t,e){return oE(e)?ay(e):oy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this._=void 0}}function ME(t,e,n){return t instanceof iu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&cf(i)&&(i=df(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ys?ly(t,e):t instanceof Js?cy(t,e):function(r,i){const s=uy(r,i),o=Lm(s)+Lm(r.wt);return Ad(s)&&Ad(r.wt)?ay(o):oy(r.serializer,o)}(t,e)}function $E(t,e,n){return t instanceof Ys?ly(t,e):t instanceof Js?cy(t,e):n}function uy(t,e){return t instanceof su?Ad(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class iu extends ll{}class Ys extends ll{constructor(e){super(),this.elements=e}}function ly(t,e){const n=dy(e);for(const r of t.elements)n.some(i=>hn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Js extends ll{constructor(e){super(),this.elements=e}}function cy(t,e){let n=dy(e);for(const r of t.elements)n=n.filter(i=>!hn(i,r));return{arrayValue:{values:n}}}class su extends ll{constructor(e,n){super(),this.serializer=e,this.wt=n}}function Lm(t){return Re(t.integerValue||t.doubleValue)}function dy(t){return hf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function LE(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Ys&&r instanceof Ys||n instanceof Js&&r instanceof Js?Ci(n.elements,r.elements,hn):n instanceof su&&r instanceof su?hn(n.wt,r.wt):n instanceof iu&&r instanceof iu}(t.transform,e.transform)}class RE{constructor(e,n){this.version=e,this.transformResults=n}}class Zt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zt}static exists(e){return new Zt(void 0,e)}static updateTime(e){return new Zt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ga(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cl{}function hy(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gf(t.key,Zt.none()):new So(t.key,t.data,Zt.none());{const n=t.data,r=xt.empty();let i=new ct(at.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Or(t.key,r,new Xt(i.toArray()),Zt.none())}}function OE(t,e,n){t instanceof So?function(r,i,s){const o=r.value.clone(),u=Om(r.fieldTransforms,i,s.transformResults);o.setAll(u),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Or?function(r,i,s){if(!ga(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Om(r.fieldTransforms,i,s.transformResults),u=i.data;u.setAll(fy(r)),u.setAll(o),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ss(t,e,n,r){return t instanceof So?function(i,s,o,u){if(!ga(i.precondition,s))return o;const l=i.value.clone(),c=xm(i.fieldTransforms,u,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Or?function(i,s,o,u){if(!ga(i.precondition,s))return o;const l=xm(i.fieldTransforms,u,s),c=s.data;return c.setAll(fy(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,s,o){return ga(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function xE(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=uy(r.transform,i||null);s!=null&&(n===null&&(n=xt.empty()),n.set(r.field,s))}return n||null}function Rm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ci(n,r,(i,s)=>LE(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class So extends cl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Or extends cl{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function fy(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Om(t,e,n){const r=new Map;ve(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,$E(o,u,n[i]))}return r}function xm(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,ME(s,o,e))}return r}class gf extends cl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zE extends cl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&OE(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ss(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ss(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sy();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=n.has(i.key)?null:u;const l=hy(o,u);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&Ci(this.mutations,e.mutations,(n,r)=>Rm(n,r))&&Ci(this.baseMutations,e.baseMutations,(n,r)=>Rm(n,r))}}class vf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ve(e.mutations.length===r.length);let i=IE;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new vf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e,ie;function UE(t){switch(t){default:return X();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function py(t){if(t===void 0)return An("GRPC error has no .code"),z.UNKNOWN;switch(t){case $e.OK:return z.OK;case $e.CANCELLED:return z.CANCELLED;case $e.UNKNOWN:return z.UNKNOWN;case $e.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case $e.INTERNAL:return z.INTERNAL;case $e.UNAVAILABLE:return z.UNAVAILABLE;case $e.UNAUTHENTICATED:return z.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case $e.NOT_FOUND:return z.NOT_FOUND;case $e.ALREADY_EXISTS:return z.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return z.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case $e.ABORTED:return z.ABORTED;case $e.OUT_OF_RANGE:return z.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return z.UNIMPLEMENTED;case $e.DATA_LOSS:return z.DATA_LOSS;default:return X()}}(ie=$e||($e={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ta}static getOrCreateInstance(){return ta===null&&(ta=new yf),ta}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let ta=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=new di([4294967295,4294967295],0);function zm(t){const e=VE().encode(t),n=new Kk;return n.update(e),new Uint8Array(n.digest())}function jm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new di([n,r],0),new di([i,s],0)]}class wf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new os(`Invalid padding: ${n}`);if(r<0)throw new os(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new os(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new os(`Invalid padding when bitmap length is 0: ${n}`);this.yt=8*e.length-n,this.It=di.fromNumber(this.yt)}Tt(e,n,r){let i=e.add(n.multiply(di.fromNumber(r)));return i.compare(HE)===1&&(i=new di([i.getBits(0),i.getBits(1)],0)),i.modulo(this.It).toNumber()}Et(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}At(e){if(this.yt===0)return!1;const n=zm(e),[r,i]=jm(n);for(let s=0;s<this.hashCount;s++){const o=this.Tt(r,i,s);if(!this.Et(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new wf(s,i,n);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.yt===0)return;const n=zm(e),[r,i]=jm(n);for(let s=0;s<this.hashCount;s++){const o=this.Tt(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class os extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ko.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dl(J.min(),i,new be(oe),Nn(),ne())}}class ko{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ko(r,n,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n,r,i){this.vt=e,this.removedTargetIds=n,this.key=r,this.Pt=i}}class my{constructor(e,n){this.targetId=e,this.bt=n}}class gy{constructor(e,n,r=ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Fm{constructor(){this.Vt=0,this.St=Um(),this.Dt=ht.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return this.Vt!==0}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=ne(),n=ne(),r=ne();return this.St.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X()}}),new ko(this.Dt,this.Ct,e,n,r)}$t(){this.xt=!1,this.St=Um()}Ft(e,n){this.xt=!0,this.St=this.St.insert(e,n)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class KE{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=Nn(),this.jt=Bm(),this.zt=new be(oe)}Wt(e){for(const n of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(n,e.Pt):this.Jt(n,e.key,e.Pt);for(const n of e.removedTargetIds)this.Jt(n,e.key,e.Pt)}Yt(e){this.forEachTarget(e,n=>{const r=this.Xt(n);switch(e.state){case 0:this.Zt(n)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(n);break;case 3:this.Zt(n)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(n)&&(this.te(n),r.Mt(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Gt.forEach((r,i)=>{this.Zt(i)&&n(i)})}ee(e){var n;const r=e.targetId,i=e.bt.count,s=this.ne(r);if(s){const o=s.target;if(Nd(o))if(i===0){const u=new q(o.path);this.Jt(r,u,ot.newNoDocument(u,J.min()))}else ve(i===1);else{const u=this.se(r);if(u!==i){const l=this.ie(e,u);if(l!==0){this.te(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.zt=this.zt.insert(r,c)}(n=yf.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,f,m){var v,C,b,k,P,y;const g={localCacheCount:f,existenceFilterCount:m.count},_=m.unchangedNames;return _&&(g.bloomFilter={applied:c===0,hashCount:(v=_==null?void 0:_.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(k=(b=(C=_==null?void 0:_.bits)===null||C===void 0?void 0:C.bitmap)===null||b===void 0?void 0:b.length)!==null&&k!==void 0?k:0,padding:(y=(P=_==null?void 0:_.bits)===null||P===void 0?void 0:P.padding)!==null&&y!==void 0?y:0}),g}(l,u,e.bt))}}}}ie(e,n){const{unchangedNames:r,count:i}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=r;let l,c;try{l=Dr(s).toUint8Array()}catch(f){if(f instanceof G1)return Ei("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw f}try{c=new wf(l,o,u)}catch(f){return Ei(f instanceof os?"BloomFilter error: ":"Applying bloom filter failed: ",f),1}return c.yt===0?1:i!==n-this.re(e.targetId,c)?2:0}re(e,n){const r=this.Kt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Kt.oe(),u=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.At(u)||(this.Jt(e,s,null),i++)}),i}ue(e){const n=new Map;this.Gt.forEach((s,o)=>{const u=this.ne(o);if(u){if(s.current&&Nd(u.target)){const l=new q(u.target.path);this.Qt.get(l)!==null||this.ce(o,l)||this.Jt(o,l,ot.newNoDocument(l,e))}s.kt&&(n.set(o,s.Ot()),s.$t())}});let r=ne();this.jt.forEach((s,o)=>{let u=!0;o.forEachWhile(l=>{const c=this.ne(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.Qt.forEach((s,o)=>o.setReadTime(e));const i=new dl(e,n,this.zt,this.Qt,r);return this.Qt=Nn(),this.jt=Bm(),this.zt=new be(oe),i}Ht(e,n){if(!this.Zt(e))return;const r=this.ce(e,n.key)?2:0;this.Xt(e).Ft(n.key,r),this.Qt=this.Qt.insert(n.key,n),this.jt=this.jt.insert(n.key,this.ae(n.key).add(e))}Jt(e,n,r){if(!this.Zt(e))return;const i=this.Xt(e);this.ce(e,n)?i.Ft(n,1):i.Bt(n),this.jt=this.jt.insert(n,this.ae(n).delete(e)),r&&(this.Qt=this.Qt.insert(n,r))}removeTarget(e){this.Gt.delete(e)}se(e){const n=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let n=this.Gt.get(e);return n||(n=new Fm,this.Gt.set(e,n)),n}ae(e){let n=this.jt.get(e);return n||(n=new ct(oe),this.jt=this.jt.insert(e,n)),n}Zt(e){const n=this.ne(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}ne(e){const n=this.Gt.get(e);return n&&n.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new Fm),this.Kt.getRemoteKeysForTarget(e).forEach(n=>{this.Jt(e,n,null)})}ce(e,n){return this.Kt.getRemoteKeysForTarget(e).has(n)}}function Bm(){return new be(q.comparator)}function Um(){return new be(q.comparator)}const WE=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),GE=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),qE=(()=>({and:"AND",or:"OR"}))();class QE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $d(t,e){return t.useProto3Json||sl(e)?e:{value:e}}function ou(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vy(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XE(t,e){return ou(t,e.toTimestamp())}function dn(t){return ve(!!t),J.fromTimestamp(function(e){const n=nr(e);return new Ue(n.seconds,n.nanos)}(t))}function _f(t,e){return function(n){return new Se(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function yy(t){const e=Se.fromString(t);return ve(ky(e)),e}function Ld(t,e){return _f(t.databaseId,e.path)}function cc(t,e){const n=yy(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(wy(n))}function Rd(t,e){return _f(t.databaseId,e)}function YE(t){const e=yy(t);return e.length===4?Se.emptyPath():wy(e)}function Od(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wy(t){return ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Vm(t,e,n){return{name:Ld(t,e),fields:n.value.mapValue.fields}}function JE(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(ve(c===void 0||typeof c=="string"),ht.fromBase64String(c||"")):(ve(c===void 0||c instanceof Uint8Array),ht.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(l){const c=l.code===void 0?z.UNKNOWN:py(l.code);return new Q(c,l.message||"")}(o);n=new gy(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=cc(t,r.document.name),s=dn(r.document.updateTime),o=r.document.createTime?dn(r.document.createTime):J.min(),u=new xt({mapValue:{fields:r.document.fields}}),l=ot.newFoundDocument(i,s,o,u),c=r.targetIds||[],f=r.removedTargetIds||[];n=new va(c,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=cc(t,r.document),s=r.readTime?dn(r.readTime):J.min(),o=ot.newNoDocument(i,s),u=r.removedTargetIds||[];n=new va([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=cc(t,r.document),s=r.removedTargetIds||[];n=new va([],s,i,null)}else{if(!("filter"in e))return X();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new BE(i,s),u=r.targetId;n=new my(u,o)}}return n}function ZE(t,e){let n;if(e instanceof So)n={update:Vm(t,e.key,e.value)};else if(e instanceof gf)n={delete:Ld(t,e.key)};else if(e instanceof Or)n={update:Vm(t,e.key,e.data),updateMask:u6(e.fieldMask)};else{if(!(e instanceof zE))return X();n={verify:Ld(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof iu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ys)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Js)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof su)return{fieldPath:s.field.canonicalString(),increment:o.wt};throw X()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:XE(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:X()}(t,e.precondition)),n}function e6(t,e){return t&&t.length>0?(ve(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?dn(r.updateTime):dn(i);return s.isEqual(J.min())&&(s=dn(i)),new RE(s,r.transformResults||[])}(n,e))):[]}function t6(t,e){return{documents:[Rd(t,e.path)]}}function n6(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Rd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Rd(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Sy(fn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(f){return{field:Fr(f.field),direction:s6(f.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=$d(t,e.limit);var u;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function r6(t){let e=YE(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ve(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(f){const m=_y(f);return m instanceof fn&&Y1(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(f=>function(m){return new ws(Br(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f)));let u=null;n.limit&&(u=function(f){let m;return m=typeof f=="object"?f.value:f,sl(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,v=f.values||[];return new ru(v,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,v=f.values||[];return new ru(v,m)}(n.endAt)),_E(e,i,o,s,u,"F",l,c)}function i6(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _y(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Br(e.unaryFilter.field);return Fe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Br(e.unaryFilter.field);return Fe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Br(e.unaryFilter.field);return Fe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Br(e.unaryFilter.field);return Fe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(e){return Fe.create(Br(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return fn.create(e.compositeFilter.filters.map(n=>_y(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return X()}}(e.compositeFilter.op))}(t):X()}function s6(t){return WE[t]}function o6(t){return GE[t]}function a6(t){return qE[t]}function Fr(t){return{fieldPath:t.canonicalString()}}function Br(t){return at.fromServerFormat(t.fieldPath)}function Sy(t){return t instanceof Fe?function(e){if(e.op==="=="){if(Pm(e.value))return{unaryFilter:{field:Fr(e.field),op:"IS_NAN"}};if(Am(e.value))return{unaryFilter:{field:Fr(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Pm(e.value))return{unaryFilter:{field:Fr(e.field),op:"IS_NOT_NAN"}};if(Am(e.value))return{unaryFilter:{field:Fr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fr(e.field),op:o6(e.op),value:e.value}}}(t):t instanceof fn?function(e){const n=e.getFilters().map(r=>Sy(r));return n.length===1?n[0]:{compositeFilter:{op:a6(e.op),filters:n}}}(t):X()}function u6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ky(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n,r,i,s=J.min(),o=J.min(),u=ht.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=l}withSequenceNumber(e){return new Fn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.le=e}}function c6(t){const e=r6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(){this.sn=new h6}addToCollectionParentIndex(e,n){return this.sn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(tr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(tr.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class h6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ct(Se.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new Ii(0)}static kn(){return new Ii(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(){this.changes=new ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ss(r.mutation,i,Xt.empty(),Ue.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){const i=wr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ss();return s.forEach((u,l)=>{o=o.insert(u,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=wr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,i){let s=Nn();const o=_s(),u=_s();return n.forEach((l,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof Or)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),Ss(f.mutation,c,f.mutation.getFieldMask(),Ue.now())):o.set(c.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var m;return u.set(c,new p6(f,(m=o.get(c))!==null&&m!==void 0?m:null))}),u))}recalculateAndSaveOverlays(e,n){const r=_s();let i=new be((o,u)=>o-u),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let f=r.get(l)||Xt.empty();f=u.applyToLocalView(c,f),r.set(l,f);const m=(i.get(u.batchId)||ne()).add(l);i=i.insert(u.batchId,m)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const l=u.getNext(),c=l.key,f=l.value,m=sy();f.forEach(v=>{if(!s.has(v)){const C=hy(n.get(v),r.get(v));C!==null&&m.set(v,C),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,m))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return q.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(wr());let u=-1,l=s;return o.next(c=>j.forEach(c,(f,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),s.get(f)?j.resolve():this.remoteDocumentCache.getEntry(e,f).next(v=>{l=l.insert(f,v)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ne())).next(f=>({batchId:u,changes:iy(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=ss();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=ss();return this.indexManager.getCollectionParents(e,i).next(o=>j.forEach(o,u=>{const l=function(c,f){return new ol(f,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((u,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,ot.newInvalidDocument(c)))});let o=ss();return s.forEach((u,l)=>{const c=i.get(u);c!==void 0&&Ss(c.mutation,l,Xt.empty(),Ue.now()),ul(n,l)&&(o=o.insert(u,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,n){return j.resolve(this.us.get(n))}saveBundleMetadata(e,n){var r;return this.us.set(n.id,{id:(r=n).id,version:r.version,createTime:dn(r.createTime)}),j.resolve()}getNamedQuery(e,n){return j.resolve(this.cs.get(n))}saveNamedQuery(e,n){return this.cs.set(n.name,function(r){return{name:r.name,query:c6(r.bundledQuery),readTime:dn(r.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.overlays=new be(q.comparator),this.hs=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wr();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.de(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hs.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hs.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=wr(),s=n.length+1,o=new q(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const l=u.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new be((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=wr(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const u=wr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,f)=>u.set(c,f)),!(u.size()>=i)););return j.resolve(u)}de(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hs.get(i.largestBatchId).delete(r.key);this.hs.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new FE(n,r));let s=this.hs.get(n);s===void 0&&(s=ne(),this.hs.set(n,s)),this.hs.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this.ls=new ct(Ve.fs),this.ds=new ct(Ve._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,n){const r=new Ve(e,n);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gs(new Ve(e,n))}ys(e,n){e.forEach(r=>this.removeReference(r,n))}ps(e){const n=new q(new Se([])),r=new Ve(n,e),i=new Ve(n,e+1),s=[];return this.ds.forEachInRange([r,i],o=>{this.gs(o),s.push(o.key)}),s}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const n=new q(new Se([])),r=new Ve(n,e),i=new Ve(n,e+1);let s=ne();return this.ds.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ve(e,0),r=this.ls.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ve{constructor(e,n){this.key=e,this.Es=n}static fs(e,n){return q.comparator(e.key,n.key)||oe(e.Es,n.Es)}static _s(e,n){return oe(e.Es,n.Es)||q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.As=1,this.Rs=new ct(Ve.fs)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.As;this.As++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jE(s,n,r,i);this.mutationQueue.push(o);for(const u of i)this.Rs=this.Rs.add(new Ve(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.vs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Ps(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.As-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ve(n,0),i=new Ve(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const u=this.vs(o.Es);s.push(u)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(oe);return n.forEach(i=>{const s=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],u=>{r=r.add(u.Es)})}),j.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;q.isDocumentKey(s)||(s=s.child(""));const o=new Ve(new q(s),0);let u=new ct(oe);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(u=u.add(l.Es)),!0)},o),j.resolve(this.bs(u))}bs(e){const n=[];return e.forEach(r=>{const i=this.vs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.Vs(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return j.forEach(n.mutations,i=>{const s=new Ve(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,n){const r=new Ve(n,0),i=this.Rs.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Vs(e,n){return this.Ps(e)}Ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}vs(e){const n=this.Ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e){this.Ss=e,this.docs=new be(q.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ss(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():ot.newInvalidDocument(n))}getEntries(e,n){let r=Nn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ot.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Nn();const o=n.path,u=new q(o.child("")),l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const{key:c,value:{document:f}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||rE(nE(f),r)<=0||(i.has(f.key)||ul(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){X()}Ds(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _6(this)}getSize(e){return j.resolve(this.size)}}class _6 extends f6{constructor(e){super(),this.rs=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.rs.addEntry(e,i)):this.rs.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.rs.getEntry(e,n)}getAllFromCache(e,n){return this.rs.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e){this.persistence=e,this.Cs=new ji(n=>ff(n),pf),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.xs=0,this.Ns=new Sf,this.targetCount=0,this.ks=Ii.Nn()}forEachTarget(e,n){return this.Cs.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.xs&&(this.xs=n),j.resolve()}$n(e){this.Cs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ks=new Ii(n),this.highestTargetId=n),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,n){return this.$n(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.$n(n),j.resolve()}removeTargetData(e,n){return this.Cs.delete(n.target),this.Ns.ps(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Cs.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Cs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cs.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.Ns.ws(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.Ns.ys(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ns.ps(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ns.Ts(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.Ns.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,n){this.Ms={},this.overlays={},this.Os=new lf(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new S6(this),this.indexManager=new d6,this.remoteDocumentCache=function(r){return new w6(r)}(r=>this.referenceDelegate.Bs(r)),this.serializer=new l6(n),this.Ls=new g6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new v6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ms[e.toKey()];return r||(r=new y6(n,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new E6(this.Os.next());return this.referenceDelegate.qs(),r(i).next(s=>this.referenceDelegate.Us(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ks(e,n){return j.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,n)))}}class E6 extends sE{constructor(e){super(),this.currentSequenceNumber=e}}class kf{constructor(e){this.persistence=e,this.Gs=new Sf,this.Qs=null}static js(e){return new kf(e)}get zs(){if(this.Qs)return this.Qs;throw X()}addReference(e,n,r){return this.Gs.addReference(r,n),this.zs.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Gs.removeReference(r,n),this.zs.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.zs.add(n.toString()),j.resolve()}removeTarget(e,n){this.Gs.ps(n.targetId).forEach(i=>this.zs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.zs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}qs(){this.Qs=new Set}Us(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.zs,r=>{const i=q.fromPath(r);return this.Ws(e,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.Qs=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ws(e,n).next(r=>{r?this.zs.delete(n.toString()):this.zs.add(n.toString())})}Bs(e){return 0}Ws(e,n){return j.or([()=>j.resolve(this.Gs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ks(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Fi=i}static Bi(e,n){let r=ne(),i=ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ef(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(){this.Li=!1}initialize(e,n){this.qi=e,this.indexManager=n,this.Li=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ui(e,n).next(s=>s||this.Ki(e,n,i,r)).next(s=>s||this.Gi(e,n))}Ui(e,n){if($m(n))return j.resolve(null);let r=Pn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Dd(n,null,"F"),r=Pn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ne(...s);return this.qi.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Qi(n,u);return this.ji(n,c,o,l.readTime)?this.Ui(e,Dd(n,null,"F")):this.zi(e,c,n,l)}))})))}Ki(e,n,r,i){return $m(n)||i.isEqual(J.min())?this.Gi(e,n):this.qi.getDocuments(e,r).next(s=>{const o=this.Qi(n,s);return this.ji(n,o,r,i)?this.Gi(e,n):(Cm()<=ae.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Md(n)),this.zi(e,o,n,tE(i,-1)))})}Qi(e,n){let r=new ct(ny(e));return n.forEach((i,s)=>{ul(e,s)&&(r=r.add(s))}),r}ji(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Gi(e,n){return Cm()<=ae.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Md(n)),this.qi.getDocumentsMatchingQuery(e,n,tr.min())}zi(e,n,r,i){return this.qi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n,r,i){this.persistence=e,this.Wi=n,this.serializer=i,this.Hi=new be(oe),this.Ji=new ji(s=>ff(s),pf),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m6(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Hi))}}function b6(t,e,n,r){return new T6(t,e,n,r)}async function Ey(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Zi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],u=[];let l=ne();for(const c of i){o.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}for(const c of s){u.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(c=>({tr:c,removedBatchIds:o,addedBatchIds:u}))})})}function I6(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Xi.newChangeBuffer({trackRemovals:!0});return function(o,u,l,c){const f=l.batch,m=f.keys();let v=j.resolve();return m.forEach(C=>{v=v.next(()=>c.getEntry(u,C)).next(b=>{const k=l.docVersions.get(C);ve(k!==null),b.version.compareTo(k)<0&&(f.applyToRemoteDocument(b,l),b.isValidDocument()&&(b.setReadTime(l.commitVersion),c.addEntry(b)))})}),v.next(()=>o.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let u=ne();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(u=u.add(o.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Cy(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Fs.getLastRemoteSnapshotVersion(n))}function A6(t,e){const n=ee(t),r=e.snapshotVersion;let i=n.Hi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Hi;const u=[];e.targetChanges.forEach((f,m)=>{const v=i.get(m);if(!v)return;u.push(n.Fs.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.Fs.addMatchingKeys(s,f.addedDocuments,m)));let C=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?C=C.withResumeToken(ht.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):f.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(f.resumeToken,r)),i=i.insert(m,C),function(b,k,P){return b.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(v,C,f)&&u.push(n.Fs.updateTargetData(s,C))});let l=Nn(),c=ne();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),u.push(P6(s,o,e.documentUpdates).next(f=>{l=f.er,c=f.nr})),!r.isEqual(J.min())){const f=n.Fs.getLastRemoteSnapshotVersion(s).next(m=>n.Fs.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(f)}return j.waitFor(u).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Hi=i,s))}function P6(t,e,n){let r=ne(),i=ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Nn();return n.forEach((u,l)=>{const c=s.get(u);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(u)),l.isNoDocument()&&l.version.isEqual(J.min())?(e.removeEntry(u,l.readTime),o=o.insert(u,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(u,l)):W("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version)}),{er:o,nr:i}})}function N6(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function D6(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Fs.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.Fs.allocateTargetId(r).next(o=>(i=new Fn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Hi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Hi=n.Hi.insert(r.targetId,r),n.Ji.set(e,r.targetId)),r})}async function xd(t,e,n){const r=ee(t),i=r.Hi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!_o(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(i.target)}function Hm(t,e,n){const r=ee(t);let i=J.min(),s=ne();return r.persistence.runTransaction("Execute query","readonly",o=>function(u,l,c){const f=ee(u),m=f.Ji.get(c);return m!==void 0?j.resolve(f.Hi.get(m)):f.Fs.getTargetData(l,c)}(r,o,Pn(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(o,u.targetId).next(l=>{s=l})}).next(()=>r.Wi.getDocumentsMatchingQuery(o,e,n?i:J.min(),n?s:ne())).next(u=>(M6(r,CE(e),u),{documents:u,sr:s})))}function M6(t,e,n){let r=t.Yi.get(e)||J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Yi.set(e,r)}class Km{constructor(){this.activeTargetIds=NE()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $6{constructor(){this.Wr=new Km,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,n,r){this.Hr[e]=n}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new Km,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{Jr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let na=null;function dc(){return na===null?na=268435456+Math.round(2147483648*Math.random()):na++,"0x"+na.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt="WebChannelConnection";class x6 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.wo=n+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,n,r,i,s){const o=dc(),u=this.Io(e,n);W("RestConnection",`Sending RPC '${e}' ${o}:`,u,r);const l={};return this.To(l,i,s),this.Eo(e,u,l,r).then(c=>(W("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Ei("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",u,"request:",r),c})}Ao(e,n,r,i,s,o){return this.po(e,n,r,i,s)}To(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+xi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Io(e,n){const r=R6[e];return`${this.wo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,n,r,i){const s=dc();return new Promise((o,u)=>{const l=new Hk;l.setWithCredentials(!0),l.listenOnce(Bk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case lc.NO_ERROR:const f=l.getResponseJson();W(rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case lc.TIMEOUT:W(rt,`RPC '${e}' ${s} timed out`),u(new Q(z.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:const m=l.getStatus();if(W(rt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);const C=v==null?void 0:v.error;if(C&&C.status&&C.message){const b=function(k){const P=k.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(P)>=0?P:z.UNKNOWN}(C.status);u(new Q(b,C.message))}else u(new Q(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new Q(z.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{W(rt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);W(rt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=dc(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jk(),u=Fk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new Vk({})),this.To(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");W(rt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);let m=!1,v=!1;const C=new O6({io:k=>{v?W(rt,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(m||(W(rt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),W(rt,`RPC '${e}' stream ${i} sending:`,k),f.send(k))},ro:()=>f.close()}),b=(k,P,y)=>{k.listen(P,g=>{try{y(g)}catch(_){setTimeout(()=>{throw _},0)}})};return b(f,Jo.EventType.OPEN,()=>{v||W(rt,`RPC '${e}' stream ${i} transport opened.`)}),b(f,Jo.EventType.CLOSE,()=>{v||(v=!0,W(rt,`RPC '${e}' stream ${i} transport closed`),C.fo())}),b(f,Jo.EventType.ERROR,k=>{v||(v=!0,Ei(rt,`RPC '${e}' stream ${i} transport errored:`,k),C.fo(new Q(z.UNAVAILABLE,"The operation could not be completed")))}),b(f,Jo.EventType.MESSAGE,k=>{var P;if(!v){const y=k.data[0];ve(!!y);const g=y,_=g.error||((P=g[0])===null||P===void 0?void 0:P.error);if(_){W(rt,`RPC '${e}' stream ${i} received error:`,_);const a=_.status;let d=function(p){const w=$e[p];if(w!==void 0)return py(w)}(a),h=_.message;d===void 0&&(d=z.INTERNAL,h="Unknown error status: "+a+" with message "+_.message),v=!0,C.fo(new Q(d,h)),f.close()}else W(rt,`RPC '${e}' stream ${i} received:`,y),C._o(y)}}),b(u,Uk.STAT_EVENT,k=>{k.stat===km.PROXY?W(rt,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===km.NOPROXY&&W(rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.lo()},0),C}}function hc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t){return new QE(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.vo=r,this.Po=i,this.bo=s,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const n=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){this.So!==null&&(this.So.skipDelay(),this.So=null)}cancel(){this.So!==null&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n,r,i,s,o,u,l){this.si=e,this.Mo=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=l,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new Ty(e,n)}qo(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Ko()}async stop(){this.qo()&&await this.close(0)}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&this.Fo===null&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}async jo(){if(this.Uo())return this.close(0)}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}async close(e,n){this.Wo(),this.Ho(),this.Lo.cancel(),this.$o++,e!==4?this.Lo.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(An(n.toString()),An("Using maximum backoff delay to prevent overloading the backend."),this.Lo.Co()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Jo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.co(n)}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),n=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.$o===n&&this.Xo(r,i)},r=>{e(()=>{const i=new Q(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(i)})})}Xo(e,n){const r=this.Yo(this.$o);this.stream=this.tu(e,n),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(i=>{r(()=>this.Zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Ko(){this.state=5,this.Lo.xo(async()=>{this.state=0,this.start()})}Zo(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return n=>{this.si.enqueueAndForget(()=>this.$o===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z6 extends by{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}tu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.Lo.reset();const n=JE(this.serializer,e),r=function(i){if(!("targetChange"in i))return J.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?dn(s.readTime):J.min()}(e);return this.listener.eu(n,r)}nu(e){const n={};n.database=Od(this.serializer),n.addTarget=function(i,s){let o;const u=s.target;if(o=Nd(u)?{documents:t6(i,u)}:{query:n6(i,u)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=vy(i,s.resumeToken);const l=$d(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(J.min())>0){o.readTime=ou(i,s.snapshotVersion.toTimestamp());const l=$d(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=i6(this.serializer,e);r&&(n.labels=r),this.zo(n)}su(e){const n={};n.database=Od(this.serializer),n.removeTarget=e,this.zo(n)}}class j6 extends by{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const n=e6(e.writeResults,e.commitTime),r=dn(e.commitTime);return this.listener.uu(r,n)}return ve(!e.writeResults||e.writeResults.length===0),this.iu=!0,this.listener.cu()}au(){const e={};e.database=Od(this.serializer),this.zo(e)}ou(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ZE(this.serializer,r))};this.zo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.hu=!1}lu(){if(this.hu)throw new Q(z.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,n,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.po(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(z.UNKNOWN,i.toString())})}Ao(e,n,r,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ao(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(z.UNKNOWN,s.toString())})}terminate(){this.hu=!0}}class B6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){this.du===0&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){this.state==="Online"?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,e==="Online"&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(An(n),this.wu=!1):W("OnlineStateTracker",n)}Iu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=s,this.vu.Jr(o=>{r.enqueueAndForget(async()=>{xr(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=ee(u);l.Au.add(4),await Eo(l),l.Pu.set("Unknown"),l.Au.delete(4),await fl(l)}(this))})}),this.Pu=new B6(r,i)}}async function fl(t){if(xr(t))for(const e of t.Ru)await e(!0)}async function Eo(t){for(const e of t.Ru)await e(!1)}function Iy(t,e){const n=ee(t);n.Eu.has(e.targetId)||(n.Eu.set(e.targetId,e),bf(n)?Tf(n):Fi(n).Uo()&&Cf(n,e))}function Ay(t,e){const n=ee(t),r=Fi(n);n.Eu.delete(e),r.Uo()&&Py(n,e),n.Eu.size===0&&(r.Uo()?r.Qo():xr(n)&&n.Pu.set("Unknown"))}function Cf(t,e){if(t.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fi(t).nu(e)}function Py(t,e){t.bu.Lt(e),Fi(t).su(e)}function Tf(t){t.bu=new KE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),he:e=>t.Eu.get(e)||null,oe:()=>t.datastore.serializer.databaseId}),Fi(t).start(),t.Pu.mu()}function bf(t){return xr(t)&&!Fi(t).qo()&&t.Eu.size>0}function xr(t){return ee(t).Au.size===0}function Ny(t){t.bu=void 0}async function V6(t){t.Eu.forEach((e,n)=>{Cf(t,e)})}async function H6(t,e){Ny(t),bf(t)?(t.Pu.pu(e),Tf(t)):t.Pu.set("Unknown")}async function K6(t,e,n){if(t.Pu.set("Online"),e instanceof gy&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Eu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Eu.delete(o),r.bu.removeTarget(o))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await au(t,r)}else if(e instanceof va?t.bu.Wt(e):e instanceof my?t.bu.ee(e):t.bu.Yt(e),!n.isEqual(J.min()))try{const r=await Cy(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.bu.ue(s);return o.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=i.Eu.get(l);c&&i.Eu.set(l,c.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach((u,l)=>{const c=i.Eu.get(u);if(!c)return;i.Eu.set(u,c.withResumeToken(ht.EMPTY_BYTE_STRING,c.snapshotVersion)),Py(i,u);const f=new Fn(c.target,u,l,c.sequenceNumber);Cf(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await au(t,r)}}async function au(t,e,n){if(!_o(e))throw e;t.Au.add(1),await Eo(t),t.Pu.set("Offline"),n||(n=()=>Cy(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.Au.delete(1),await fl(t)})}function Dy(t,e){return e().catch(n=>au(t,n,e))}async function pl(t){const e=ee(t),n=rr(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;W6(e);)try{const i=await N6(e.localStore,r);if(i===null){e.Tu.length===0&&n.Qo();break}r=i.batchId,G6(e,i)}catch(i){await au(e,i)}My(e)&&$y(e)}function W6(t){return xr(t)&&t.Tu.length<10}function G6(t,e){t.Tu.push(e);const n=rr(t);n.Uo()&&n.ru&&n.ou(e.mutations)}function My(t){return xr(t)&&!rr(t).qo()&&t.Tu.length>0}function $y(t){rr(t).start()}async function q6(t){rr(t).au()}async function Q6(t){const e=rr(t);for(const n of t.Tu)e.ou(n.mutations)}async function X6(t,e,n){const r=t.Tu.shift(),i=vf.from(r,e,n);await Dy(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await pl(t)}async function Y6(t,e){e&&rr(t).ru&&await async function(n,r){if(i=r.code,UE(i)&&i!==z.ABORTED){const s=n.Tu.shift();rr(n).Go(),await Dy(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await pl(n)}var i}(t,e),My(t)&&$y(t)}async function Gm(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=xr(n);n.Au.add(3),await Eo(n),r&&n.Pu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Au.delete(3),await fl(n)}async function J6(t,e){const n=ee(t);e?(n.Au.delete(2),await fl(n)):e||(n.Au.add(2),await Eo(n),n.Pu.set("Unknown"))}function Fi(t){return t.Vu||(t.Vu=function(e,n,r){const i=ee(e);return i.lu(),new z6(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{oo:V6.bind(null,t),co:H6.bind(null,t),eu:K6.bind(null,t)}),t.Ru.push(async e=>{e?(t.Vu.Go(),bf(t)?Tf(t):t.Pu.set("Unknown")):(await t.Vu.stop(),Ny(t))})),t.Vu}function rr(t){return t.Su||(t.Su=function(e,n,r){const i=ee(e);return i.lu(),new j6(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{oo:q6.bind(null,t),co:Y6.bind(null,t),cu:Q6.bind(null,t),uu:X6.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Go(),await pl(t)):(await t.Su.stop(),t.Tu.length>0&&(W("RemoteStore",`Stopping write stream with ${t.Tu.length} pending writes`),t.Tu=[]))})),t.Su}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,u=new If(e,n,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Af(t,e){if(An("AsyncQueue",`${e}: ${t}`),_o(t))return new Q(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=ss(),this.sortedSet=new be(this.comparator)}static emptySet(e){return new fi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this.Du=new be(q.comparator)}track(e){const n=e.doc.key,r=this.Du.get(n);r?e.type!==0&&r.type===3?this.Du=this.Du.insert(n,e):e.type===3&&r.type!==1?this.Du=this.Du.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Du=this.Du.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Du=this.Du.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Du=this.Du.remove(n):e.type===1&&r.type===2?this.Du=this.Du.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Du=this.Du.insert(n,{type:2,doc:e.doc}):X():this.Du=this.Du.insert(n,e)}Cu(){const e=[];return this.Du.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ai{constructor(e,n,r,i,s,o,u,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new Ai(e,n,fi.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&al(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(){this.xu=void 0,this.listeners=[]}}class e4{constructor(){this.queries=new ji(e=>ty(e),al),this.onlineState="Unknown",this.Nu=new Set}}async function t4(t,e){const n=ee(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Z6),i)try{s.xu=await n.onListen(r)}catch(o){const u=Af(o,`Initialization of query '${Md(e.query)}' failed`);return void e.onError(u)}n.queries.set(r,s),s.listeners.push(e),e.ku(n.onlineState),s.xu&&e.Mu(s.xu)&&Pf(n)}async function n4(t,e){const n=ee(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function r4(t,e){const n=ee(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const u of o.listeners)u.Mu(i)&&(r=!0);o.xu=i}}r&&Pf(n)}function i4(t,e,n){const r=ee(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Pf(t){t.Nu.forEach(e=>{e.next()})}class s4{constructor(e,n,r){this.query=e,this.Ou=n,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ai(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),n=!0):this.Lu(e,this.onlineState)&&(this.qu(e),n=!0),this.Fu=e,n}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let n=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),n=!0),n}Lu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Uu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Bu(e){if(e.docChanges.length>0)return!0;const n=this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qu(e){e=Ai.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e){this.key=e}}class Ry{constructor(e){this.key=e}}class o4{constructor(e,n){this.query=e,this.Ju=n,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=ne(),this.mutatedKeys=ne(),this.Zu=ny(e),this.tc=new fi(this.Zu)}get ec(){return this.Ju}nc(e,n){const r=n?n.sc:new qm,i=n?n.tc:this.tc;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const v=i.get(f),C=ul(this.query,m)?m:null,b=!!v&&this.mutatedKeys.has(v.key),k=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let P=!1;v&&C?v.data.isEqual(C.data)?b!==k&&(r.track({type:3,doc:C}),P=!0):this.ic(v,C)||(r.track({type:2,doc:C}),P=!0,(l&&this.Zu(C,l)>0||c&&this.Zu(C,c)<0)&&(u=!0)):!v&&C?(r.track({type:0,doc:C}),P=!0):v&&!C&&(r.track({type:1,doc:v}),P=!0,(l||c)&&(u=!0)),P&&(C?(o=o.add(C),s=k?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tc:o,sc:r,ji:u,mutatedKeys:s}}ic(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const s=e.sc.Cu();s.sort((c,f)=>function(m,v){const C=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return C(m)-C(v)}(c.type,f.type)||this.Zu(c.doc,f.doc)),this.rc(r);const o=n?this.oc():[],u=this.Xu.size===0&&this.current?1:0,l=u!==this.Yu;return this.Yu=u,s.length!==0||l?{snapshot:new Ai(this.query,e.tc,i,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:o}:{uc:o}}ku(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tc:this.tc,sc:new qm,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(n=>this.Ju=this.Ju.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ju=this.Ju.delete(n)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=ne(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const n=[];return e.forEach(r=>{this.Xu.has(r)||n.push(new Ry(r))}),this.Xu.forEach(r=>{e.has(r)||n.push(new Ly(r))}),n}ac(e){this.Ju=e.sr,this.Xu=ne();const n=this.nc(e.documents);return this.applyChanges(n,!0)}hc(){return Ai.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,this.Yu===0,this.hasCachedResults)}}class a4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class u4{constructor(e){this.key=e,this.lc=!1}}class l4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fc={},this.dc=new ji(u=>ty(u),al),this._c=new Map,this.wc=new Set,this.mc=new be(q.comparator),this.gc=new Map,this.yc=new Sf,this.Ic={},this.Tc=new Map,this.Ec=Ii.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return this.Ac===!0}}async function c4(t,e){const n=_4(t);let r,i;const s=n.dc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.hc();else{const o=await D6(n.localStore,Pn(e)),u=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await d4(n,e,r,u==="current",o.resumeToken),n.isPrimaryClient&&Iy(n.remoteStore,o)}return i}async function d4(t,e,n,r,i){t.Rc=(m,v,C)=>async function(b,k,P,y){let g=k.view.nc(P);g.ji&&(g=await Hm(b.localStore,k.query,!1).then(({documents:d})=>k.view.nc(d,g)));const _=y&&y.targetChanges.get(k.targetId),a=k.view.applyChanges(g,b.isPrimaryClient,_);return Xm(b,k.targetId,a.uc),a.snapshot}(t,m,v,C);const s=await Hm(t.localStore,e,!0),o=new o4(e,s.sr),u=o.nc(s.documents),l=ko.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(u,t.isPrimaryClient,l);Xm(t,n,c.uc);const f=new a4(e,n,o);return t.dc.set(e,f),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function h4(t,e){const n=ee(t),r=n.dc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!al(s,e))),void n.dc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await xd(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Ay(n.remoteStore,r.targetId),zd(n,r.targetId)}).catch(wo)):(zd(n,r.targetId),await xd(n.localStore,r.targetId,!0))}async function f4(t,e,n){const r=S4(t);try{const i=await function(s,o){const u=ee(s),l=Ue.now(),c=o.reduce((v,C)=>v.add(C.key),ne());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let C=Nn(),b=ne();return u.Xi.getEntries(v,c).next(k=>{C=k,C.forEach((P,y)=>{y.isValidDocument()||(b=b.add(P))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,C)).next(k=>{f=k;const P=[];for(const y of o){const g=xE(y,f.get(y.key).overlayedDocument);g!=null&&P.push(new Or(y.key,g,q1(g.value.mapValue),Zt.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,P,o)}).next(k=>{m=k;const P=k.applyToLocalDocumentSet(f,b);return u.documentOverlayCache.saveOverlays(v,k.batchId,P)})}).then(()=>({batchId:m.batchId,changes:iy(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,u){let l=s.Ic[s.currentUser.toKey()];l||(l=new be(oe)),l=l.insert(o,u),s.Ic[s.currentUser.toKey()]=l}(r,i.batchId,n),await Co(r,i.changes),await pl(r.remoteStore)}catch(i){const s=Af(i,"Failed to persist write");n.reject(s)}}async function Oy(t,e){const n=ee(t);try{const r=await A6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.gc.get(s);o&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.lc=!0:i.modifiedDocuments.size>0?ve(o.lc):i.removedDocuments.size>0&&(ve(o.lc),o.lc=!1))}),await Co(n,r,e)}catch(r){await wo(r)}}function Qm(t,e,n){const r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.dc.forEach((s,o)=>{const u=o.view.ku(e);u.snapshot&&i.push(u.snapshot)}),function(s,o){const u=ee(s);u.onlineState=o;let l=!1;u.queries.forEach((c,f)=>{for(const m of f.listeners)m.ku(o)&&(l=!0)}),l&&Pf(u)}(r.eventManager,e),i.length&&r.fc.eu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function p4(t,e,n){const r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.gc.get(e),s=i&&i.key;if(s){let o=new be(q.comparator);o=o.insert(s,ot.newNoDocument(s,J.min()));const u=ne().add(s),l=new dl(J.min(),new Map,new be(oe),o,u);await Oy(r,l),r.mc=r.mc.remove(s),r.gc.delete(e),Nf(r)}else await xd(r.localStore,e,!1).then(()=>zd(r,e,n)).catch(wo)}async function m4(t,e){const n=ee(t),r=e.batch.batchId;try{const i=await I6(n.localStore,e);zy(n,r,null),xy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Co(n,i)}catch(i){await wo(i)}}async function g4(t,e,n){const r=ee(t);try{const i=await function(s,o){const u=ee(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,o).next(f=>(ve(f!==null),c=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,e);zy(r,e,n),xy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Co(r,i)}catch(i){await wo(i)}}function xy(t,e){(t.Tc.get(e)||[]).forEach(n=>{n.resolve()}),t.Tc.delete(e)}function zy(t,e,n){const r=ee(t);let i=r.Ic[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ic[r.currentUser.toKey()]=i}}function zd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.dc.delete(r),n&&t.fc.vc(r,n);t._c.delete(e),t.isPrimaryClient&&t.yc.ps(e).forEach(r=>{t.yc.containsKey(r)||jy(t,r)})}function jy(t,e){t.wc.delete(e.path.canonicalString());const n=t.mc.get(e);n!==null&&(Ay(t.remoteStore,n),t.mc=t.mc.remove(e),t.gc.delete(n),Nf(t))}function Xm(t,e,n){for(const r of n)r instanceof Ly?(t.yc.addReference(r.key,e),v4(t,r)):r instanceof Ry?(W("SyncEngine","Document no longer in limbo: "+r.key),t.yc.removeReference(r.key,e),t.yc.containsKey(r.key)||jy(t,r.key)):X()}function v4(t,e){const n=e.key,r=n.path.canonicalString();t.mc.get(n)||t.wc.has(r)||(W("SyncEngine","New document in limbo: "+n),t.wc.add(r),Nf(t))}function Nf(t){for(;t.wc.size>0&&t.mc.size<t.maxConcurrentLimboResolutions;){const e=t.wc.values().next().value;t.wc.delete(e);const n=new q(Se.fromString(e)),r=t.Ec.next();t.gc.set(r,new u4(n)),t.mc=t.mc.insert(n,r),Iy(t.remoteStore,new Fn(Pn(mf(n.path)),r,"TargetPurposeLimboResolution",lf.ct))}}async function Co(t,e,n){const r=ee(t),i=[],s=[],o=[];r.dc.isEmpty()||(r.dc.forEach((u,l)=>{o.push(r.Rc(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const f=Ef.Bi(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.fc.eu(i),await async function(u,l){const c=ee(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>j.forEach(l,m=>j.forEach(m.$i,v=>c.persistence.referenceDelegate.addReference(f,m.targetId,v)).next(()=>j.forEach(m.Fi,v=>c.persistence.referenceDelegate.removeReference(f,m.targetId,v)))))}catch(f){if(!_o(f))throw f;W("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const m=f.targetId;if(!f.fromCache){const v=c.Hi.get(m),C=v.snapshotVersion,b=v.withLastLimboFreeSnapshotVersion(C);c.Hi=c.Hi.insert(m,b)}}}(r.localStore,s))}async function y4(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await Ey(n.localStore,e);n.currentUser=e,function(i,s){i.Tc.forEach(o=>{o.forEach(u=>{u.reject(new Q(z.CANCELLED,s))})}),i.Tc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Co(n,r.tr)}}function w4(t,e){const n=ee(t),r=n.gc.get(e);if(r&&r.lc)return ne().add(r.key);{let i=ne();const s=n._c.get(e);if(!s)return i;for(const o of s){const u=n.dc.get(o);i=i.unionWith(u.view.ec)}return i}}function _4(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Oy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=w4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p4.bind(null,e),e.fc.eu=r4.bind(null,e.eventManager),e.fc.vc=i4.bind(null,e.eventManager),e}function S4(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=m4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g4.bind(null,e),e}class Ym{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=hl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return b6(this.persistence,new C6,e.initialUser,this.serializer)}createPersistence(e){return new k6(kf.js,this.serializer)}createSharedClientState(e){return new $6}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class k4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Qm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=y4.bind(null,this.syncEngine),await J6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new e4}createDatastore(e){const n=hl(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new x6(i));var i;return function(s,o,u,l){return new F6(s,o,u,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=u=>Qm(this.syncEngine,u,0),o=Wm.D()?new Wm:new L6,new U6(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,u,l,c){const f=new l4(r,i,s,o,u,l);return c&&(f.Ac=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ee(e);W("RemoteStore","RemoteStore shutting down."),n.Au.add(5),await Eo(n),n.vu.shutdown(),n.Pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):An("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=it.UNAUTHENTICATED,this.clientId=K1.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{W("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(W("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Q(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Af(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fc(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Ey(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Jm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await b4(t);W("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Gm(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Gm(e.remoteStore,s)),t._onlineComponents=e}function T4(t){return t.name==="FirebaseError"?t.code===z.FAILED_PRECONDITION||t.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function b4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await fc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!T4(n))throw n;Ei("Error using user provided cache. Falling back to memory cache: "+n),await fc(t,new Ym)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await fc(t,new Ym);return t._offlineComponents}async function Fy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await Jm(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await Jm(t,new k4))),t._onlineComponents}function I4(t){return Fy(t).then(e=>e.syncEngine)}async function Zm(t){const e=await Fy(t),n=e.eventManager;return n.onListen=c4.bind(null,e.syncEngine),n.onUnlisten=h4.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(t,e,n){if(!n)throw new Q(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function A4(t,e,n,r){if(e===!0&&r===!0)throw new Q(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tg(t){if(!q.isDocumentKey(t))throw new Q(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ng(t){if(q.isDocumentKey(t))throw new Q(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Df(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function Yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Df(t);throw new Q(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}A4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!1:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Q(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Q(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rg(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Wk;switch(n.type){case"firstParty":return new Xk(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Q(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=eg.get(e);n&&(W("ComponentProvider","Removing Datastore"),eg.delete(e),n.terminate())}(this),Promise.resolve()}}function P4(t,e,n,r={}){var i;const s=(t=Yn(t,ml))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Ei("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,u;if(typeof r.mockUserToken=="string")o=r.mockUserToken,u=it.MOCK_USER;else{o=A8(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Q(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new it(l)}t._authCredentials=new Gk(new H1(o,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}}class gl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gl(this.firestore,e,this._query)}}class Jn extends gl{constructor(e,n,r){super(e,n,mf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new q(e))}withConverter(e){return new Jn(this.firestore,e,this._path)}}function N4(t,e,...n){if(t=Si(t),By("collection","path",e),t instanceof ml){const r=Se.fromString(e,...n);return ng(r),new Jn(t,null,r)}{if(!(t instanceof At||t instanceof Jn))throw new Q(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return ng(r),new Jn(t.firestore,null,r)}}function jd(t,e,...n){if(t=Si(t),arguments.length===1&&(e=K1.A()),By("doc","path",e),t instanceof ml){const r=Se.fromString(e,...n);return tg(r),new At(t,null,new q(r))}{if(!(t instanceof At||t instanceof Jn))throw new Q(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return tg(r),new At(t.firestore,t instanceof Jn?t.converter:null,new q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new Ty(this,"async_queue_retry"),this.Yc=()=>{const n=hc();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Lo.ko()};const e=hc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const n=hc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const n=new Er;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}async ta(){if(this.Gc.length!==0){try{await this.Gc[0](),this.Gc.shift(),this.Lo.reset()}catch(e){if(!_o(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Gc.length>0&&this.Lo.xo(()=>this.ta())}}Zc(e){const n=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{this.zc=r,this.Wc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw An("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Wc=!1,r))));return this.Kc=n,n}enqueueAfterDelay(e,n,r){this.Xc(),this.Jc.indexOf(e)>-1&&(n=0);const i=If.createAndSchedule(this,e,n,r,s=>this.ea(s));return this.jc.push(i),i}Xc(){this.zc&&X()}verifyOperationInProgress(){}async na(){let e;do e=this.Kc,await e;while(e!==this.Kc)}sa(e){for(const n of this.jc)if(n.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.jc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const n=this.jc.indexOf(e);this.jc.splice(n,1)}}function ig(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Pi extends ml{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new D4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Vy(this),this._firestoreClient.terminate()}}function M4(t,e){const n=typeof t=="object"?t:MS(),r=typeof t=="string"?t:e||"(default)",i=AS(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=T8("firestore");s&&P4(i,...s)}return i}function Uy(t){return t._firestoreClient||Vy(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Vy(t){var e,n,r;const i=t._freezeSettings(),s=function(o,u,l,c){return new uE(o,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new C4(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ni(ht.fromBase64String(e))}catch(n){throw new Q(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ni(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=/^__.*__$/;class L4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Or(e,this.data,this.fieldMask,n,this.fieldTransforms):new So(e,this.data,n,this.fieldTransforms)}}function Ky(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}class Lf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.oa(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new Lf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ca({path:r,ha:!1});return i.la(e),i}fa(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ca({path:r,ha:!1});return i.oa(),i}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return uu(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(e.length===0)throw this._a("Document fields must not be empty");if(Ky(this.ua)&&$4.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class R4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hl(e)}ga(e,n,r,i=!1){return new Lf({ua:e,methodName:n,ma:r,path:at.emptyPath(),ha:!1,wa:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wy(t){const e=t._freezeSettings(),n=hl(t._databaseId);return new R4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Gy(t,e,n,r,i,s={}){const o=t.ga(s.merge||s.mergeFields?2:0,e,n,i);Yy("Data must be an object, but it was:",o,r);const u=Qy(r,o);let l,c;if(s.merge)l=new Xt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const v=O4(e,m,n);if(!o.contains(v))throw new Q(z.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);z4(f,v)||f.push(v)}l=new Xt(f),c=o.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,c=o.fieldTransforms;return new L4(new xt(u),l,c)}function qy(t,e){if(Xy(t=Si(t)))return Yy("Unsupported field value:",e,t),Qy(t,e);if(t instanceof Hy)return function(n,r){if(!Ky(r.ua))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ha&&e.ua!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let u=qy(o,r.da(s));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Si(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return DE(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ue.fromDate(n);return{timestampValue:ou(r.serializer,i)}}if(n instanceof Ue){const i=new Ue(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ou(r.serializer,i)}}if(n instanceof $f)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ni)return{bytesValue:vy(r.serializer,n._byteString)};if(n instanceof At){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:_f(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Df(n)}`)}(t,e)}function Qy(t,e){const n={};return W1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zi(t,(r,i)=>{const s=qy(i,e.aa(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Xy(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ue||t instanceof $f||t instanceof Ni||t instanceof At||t instanceof Hy)}function Yy(t,e,n){if(!Xy(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Df(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function O4(t,e,n){if((e=Si(e))instanceof Mf)return e._internalPath;if(typeof e=="string")return Jy(t,e);throw uu("Field path arguments must be of type string or ",t,!1,void 0,n)}const x4=new RegExp("[~\\*/\\[\\]]");function Jy(t,e,n){if(e.search(x4)>=0)throw uu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mf(...e.split("."))._internalPath}catch{throw uu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function uu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Q(z.INVALID_ARGUMENT,u+t+l)}function z4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ew("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class j4 extends Zy{data(){return super.data()}}function ew(t,e){return typeof e=="string"?Jy(t,e):e instanceof Mf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class B4{convertValue(e,n="none"){switch(Mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new $f(Re(e.latitude),Re(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=df(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qs(e));default:return null}}convertTimestamp(e){const n=nr(e);return new Ue(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);ve(ky(r));const i=new Qs(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||An(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nw extends Zy{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ya(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ew("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ya extends nw{data(e={}){return super.data(e)}}class U4{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new as(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ya(this._firestore,this._userDataWriter,r.key,r,new as(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const u=new ya(r._firestore,r._userDataWriter,o.doc.key,o.doc,new as(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const u=new ya(r._firestore,r._userDataWriter,o.doc.key,o.doc,new as(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:V4(o.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function V4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}class rw extends B4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function H4(t,e,n){t=Yn(t,At);const r=Yn(t.firestore,Pi),i=tw(t.converter,e,n);return Rf(r,[Gy(Wy(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Zt.none())])}function K4(t){return Rf(Yn(t.firestore,Pi),[new gf(t._key,Zt.none())])}function W4(t,e){const n=Yn(t.firestore,Pi),r=jd(t),i=tw(t.converter,e);return Rf(n,[Gy(Wy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Zt.exists(!1))]).then(()=>r)}function G4(t,...e){var n,r,i;t=Si(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||ig(e[o])||(s=e[o],o++);const u={includeMetadataChanges:s.includeMetadataChanges};if(ig(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let l,c,f;if(t instanceof At)c=Yn(t.firestore,Pi),f=mf(t._key.path),l={next:m=>{e[o]&&e[o](q4(c,t,m))},error:e[o+1],complete:e[o+2]};else{const m=Yn(t,gl);c=Yn(m.firestore,Pi),f=m._query;const v=new rw(c);l={next:C=>{e[o]&&e[o](new U4(c,v,m,C))},error:e[o+1],complete:e[o+2]},F4(t._query)}return function(m,v,C,b){const k=new E4(b),P=new s4(v,k,C);return m.asyncQueue.enqueueAndForget(async()=>t4(await Zm(m),P)),()=>{k.Sc(),m.asyncQueue.enqueueAndForget(async()=>n4(await Zm(m),P))}}(Uy(c),f,u,l)}function Rf(t,e){return function(n,r){const i=new Er;return n.asyncQueue.enqueueAndForget(async()=>f4(await I4(n),r,i)),i.promise}(Uy(t),e)}function q4(t,e,n){const r=n.docs.get(e._key),i=new rw(t);return new nw(t,i,e._key,r,new as(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){xi=n})(DS),Ka(new Fs("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Pi(new qk(n.getProvider("auth-internal")),new Jk(n.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qs(u.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),li(Em,"3.11.0",t),li(Em,"3.11.0","esm2017")})();var Q4="firebase",X4="9.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */li(Q4,X4,"app");const Y4={apiKey:"AIzaSyBrddjqYq_-klgTIElR4i32aXp_ta6Hjxg",authDomain:"react-notes-10a9c.firebaseapp.com",projectId:"react-notes-10a9c",storageBucket:"react-notes-10a9c.appspot.com",messagingSenderId:"710752889501",appId:"1:710752889501:web:7e6e8152ea79c34f4b0274"},J4=x0(Y4),Fd=M4(J4),sg=N4(Fd,"notes");function Z4(){const[t,e]=Oe.useState([]),[n,r]=Oe.useState(""),[i,s]=Oe.useState(""),o=t.find(m=>m.id===n)||t[0],u=t.sort((m,v)=>v.updatedAt-m.updatedAt);Oe.useEffect(()=>G4(sg,v=>{const C=v.docs.map(b=>({...b.data(),id:b.id}));e(C)}),[]),Oe.useEffect(()=>{var m;n||r((m=t[0])==null?void 0:m.id)},[t]),Oe.useEffect(()=>{o&&s(o.body)},[o]),Oe.useEffect(()=>{const m=setTimeout(()=>{o&&i!==o.body&&c(i)},500);return()=>clearTimeout(m)},[i]);async function l(){const m={body:"# Type your markdown note's title here",createdAt:Date.now(),updatedAt:Date.now()},v=await W4(sg,m);r(v.id)}async function c(m){const v=jd(Fd,"notes",n);await H4(v,{body:m,updatedAt:Date.now()},{merge:!0})}async function f(m){const v=jd(Fd,"notes",m);await K4(v)}return Le.jsx("main",{className:"main",children:t.length>0?Le.jsxs(xh,{sizes:[30,70],direction:"horizontal",className:"split",children:[Le.jsx(P2,{notes:u,currentNote:o,setCurrentNoteId:r,newNote:l,deleteNote:f}),Le.jsx(o8,{tempNoteText:i,setTempNoteText:s})]}):Le.jsxs("div",{className:"no-notes",children:[Le.jsx("h1",{children:"You have no notes"}),Le.jsx("button",{className:"first-note",onClick:l,children:"Create one now"})]})})}mc.createRoot(document.getElementById("root")).render(Le.jsx(pc.StrictMode,{children:Le.jsx(Z4,{})}));
